!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/push-notification/",e(e.s=13)}([function(t,e,n){"use strict";function r(t){function e(t){delete d[t]}function n(t){if(t=t||y,!Object(c.k)(d,t))throw p.create("no-app",{appName:t});return d[t]}function r(e,n){if(void 0===n&&(n={}),"object"!==typeof n||null===n){n={name:n}}var r=n;void 0===r.name&&(r.name=y);var i=r.name;if("string"!==typeof i||!i)throw p.create("bad-app-name",{appName:String(i)});if(Object(c.k)(d,i))throw p.create("duplicate-app",{appName:i});var o=new t(e,r,b);return d[i]=o,o}function i(){return Object.keys(d).map(function(t){return d[t]})}function o(e){var r,i,o=e.name;if(v.has(o))return m.debug("There were multiple attempts to register component "+o+"."),"PUBLIC"===e.type?b[o]:null;if(v.set(o,e),"PUBLIC"===e.type){var a=function(t){if(void 0===t&&(t=n()),"function"!==typeof t[o])throw p.create("invalid-app-argument",{appName:o});return t[o]()};void 0!==e.serviceProps&&Object(c.n)(a,e.serviceProps),b[o]=a,t.prototype[o]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._getService.bind(this,o).apply(this,e.multipleInstances?t:[])}}try{for(var s=Object(u.h)(Object.keys(d)),l=s.next();!l.done;l=s.next()){var h=l.value;d[h]._addComponent(e)}}catch(t){r={error:t}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return"PUBLIC"===e.type?b[o]:null}function a(t,e,n){var r,i=null!==(r=g[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void m.warn(u.join(" "))}o(new l.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))}function s(t,e){if(null!==t&&"function"!==typeof t)throw p.create("invalid-log-argument",{appName:name});Object(h.d)(t,e)}function f(t,e){return"serverAuth"===e?null:e}var d={},v=new Map,b={__esModule:!0,initializeApp:r,app:n,registerVersion:a,setLogLevel:h.c,onLog:s,apps:null,SDK_VERSION:_,INTERNAL:{registerComponent:o,removeApp:e,components:v,useAsService:f}};return b.default=b,Object.defineProperty(b,"apps",{get:i}),n.App=t,b}function i(){function t(t){Object(c.n)(e,t)}var e=r(b);return e.INTERNAL=Object(u.a)(Object(u.a)({},e.INTERNAL),{createFirebaseNamespace:i,extendNamespace:t,createSubscribe:c.l,ErrorFactory:c.b,deepExtend:c.n}),e}function o(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}var a,s,u=n(1),c=n(2),l=n(3),h=n(4),f=(a={},a["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",a["bad-app-name"]="Illegal App name: '{$appName}",a["duplicate-app"]="Firebase App named '{$appName}' already exists",a["app-deleted"]="Firebase App named '{$appName}' already deleted",a["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",a["invalid-log-argument"]="First argument to `onLog` must be null or a function.",a),p=new c.b("app","Firebase",f),d="@firebase/app",v="0.6.13",y="[DEFAULT]",g=(s={},s[d]="fire-core",s["@firebase/analytics"]="fire-analytics",s["@firebase/auth"]="fire-auth",s["@firebase/database"]="fire-rtdb",s["@firebase/functions"]="fire-fn",s["@firebase/installations"]="fire-iid",s["@firebase/messaging"]="fire-fcm",s["@firebase/performance"]="fire-perf",s["@firebase/remote-config"]="fire-rc",s["@firebase/storage"]="fire-gcs",s["@firebase/firestore"]="fire-fst",s["fire-js"]="fire-js",s["firebase-wrapper"]="fire-js-all",s),m=new h.b("@firebase/app"),b=function(){function t(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(c.m)(t),this.container=new l.b(e.name),this._addComponent(new l.a("app",function(){return o},"PUBLIC"));try{for(var a=Object(u.h)(this.firebase_.INTERNAL.components.values()),s=a.next();!s.done;s=a.next()){var h=s.value;this._addComponent(h)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=y),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=y),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){m.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw p.create("app-deleted",{appName:this.name_})},t}();b.prototype.name&&b.prototype.options||b.prototype.delete||console.log("dc");var _="8.0.1",w=i(),E=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(o(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(c.r)()&&void 0!==self.firebase){m.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var T=self.firebase.SDK_VERSION;T&&T.indexOf("LITE")>=0&&m.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var I=w.initializeApp;w.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(c.y)()&&m.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),I.apply(void 0,t)};var O=w;!function(t,e){t.INTERNAL.registerComponent(new l.a("platform-logger",function(t){return new E(t)},"PRIVATE")),t.registerVersion(d,v,e),t.registerVersion("fire-js","")}(O),e.a=O},function(t,e,n){"use strict";function r(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function i(t,e,n,r){function i(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?n(t.value):i(t.value).then(a,s)}u((r=r.apply(t,e||[])).next())})}function o(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function a(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function u(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t}function c(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}e.c=r,n.d(e,"a",function(){return h}),e.b=i,e.d=o,e.h=a,e.e=s,e.f=u,e.g=c;var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},h=function(){return h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},h.apply(this,arguments)}},function(t,e,n){"use strict";(function(t){function r(t){return i(void 0,t)}function i(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)e.hasOwnProperty(r)&&o(r)&&(t[r]=i(t[r],e[r]));return t}function o(t){return"__proto__"!==t}function a(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function s(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function u(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(t){return!1}}function c(){return"object"===typeof self&&self.self===self}function l(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function h(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function d(){return a().indexOf("MSAppHost/")>=0}function v(){return!0===D.NODE_CLIENT||!0===D.NODE_ADMIN}function y(){return"indexedDB"in self&&null!=indexedDB}function g(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}})}function m(){return!(!navigator||!navigator.cookieEnabled)}function b(t,e){return t.replace(G,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}function _(t){return JSON.parse(t)}function w(t){return JSON.stringify(t)}function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function I(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function O(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function C(t){for(var e=[],n=0,r=Object.entries(t);n<r.length;n++){var i=r[n],o=i[0],a=i[1];!function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}(o,a)}return e.length?"&"+e.join("&"):""}function S(t,e){var n=new J(t,e);return n.subscribe.bind(n)}function k(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}function N(){}function A(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}function P(t,e,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(A(t,e,r)+"must be a valid function.")}function x(t,e,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(A(t,e,r)+"must be a valid context object.")}function R(t,e,n){void 0===e&&(e=nt),void 0===n&&(n=rt);var r=e*Math.pow(n,t),i=Math.round(ot*r*(Math.random()-.5)*2);return Math.min(it,r+i)}n.d(e,"a",function(){return z}),n.d(e,"b",function(){return H}),n.d(e,"c",function(){return K}),n.d(e,"d",function(){return $}),n.d(e,"e",function(){return m}),n.d(e,"f",function(){return L}),n.d(e,"g",function(){return M}),n.d(e,"h",function(){return V}),n.d(e,"i",function(){return q}),n.d(e,"j",function(){return R}),n.d(e,"k",function(){return E}),n.d(e,"l",function(){return S}),n.d(e,"m",function(){return r}),n.d(e,"n",function(){return i}),n.d(e,"o",function(){return A}),n.d(e,"p",function(){return a}),n.d(e,"q",function(){return X}),n.d(e,"r",function(){return c}),n.d(e,"s",function(){return l}),n.d(e,"t",function(){return f}),n.d(e,"u",function(){return I}),n.d(e,"v",function(){return p}),n.d(e,"w",function(){return y}),n.d(e,"x",function(){return s}),n.d(e,"y",function(){return u}),n.d(e,"z",function(){return v}),n.d(e,"A",function(){return h}),n.d(e,"B",function(){return d}),n.d(e,"C",function(){return Y}),n.d(e,"D",function(){return _}),n.d(e,"E",function(){return O}),n.d(e,"F",function(){return C}),n.d(e,"G",function(){return T}),n.d(e,"H",function(){return et}),n.d(e,"I",function(){return tt}),n.d(e,"J",function(){return w}),n.d(e,"K",function(){return Z}),n.d(e,"L",function(){return P}),n.d(e,"M",function(){return x}),n.d(e,"N",function(){return g});var j=n(1),D={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},L=function(t,e){if(!t)throw M(e)},M=function(t){return new Error("Firebase Database ("+D.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},F=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},U=function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var o=t[n++],a=t[n++],s=t[n++],u=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&s)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{var o=t[n++],a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")},V={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(F(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):U(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length,s=a?n[t.charAt(i)]:0;++i;var u=i<t.length,c=u?n[t.charAt(i)]:64;++i;var l=i<t.length,h=l?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==c||null==h)throw Error();var f=o<<2|s>>4;if(r.push(f),64!==c){var p=s<<4&240|c>>2;if(r.push(p),64!==h){var d=c<<6&192|h;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},q=function(t){var e=F(t);return V.encodeByteArray(e,!0)},B=function(t){try{return V.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null},z=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}(),W="FirebaseError",K=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name=W,Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,H.prototype.create),o}return Object(j.c)(e,t),e}(Error),H=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?b(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").";return new K(i,s,r)},t}(),G=/\{\$([^}]+)}/g,Q=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=_(B(o[0])||""),n=_(B(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}},Y=function(t){var e=Q(t),n=e.claims;return!!n&&"object"===typeof n&&n.hasOwnProperty("iat")},X=function(t){var e=Q(t).claims;return"object"===typeof e&&!0===e.admin},$=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(var r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(var r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}for(var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4],r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);var i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);for(var r=0,n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),J=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=k(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=N),void 0===r.error&&(r.error=N),void 0===r.complete&&(r.complete=N);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!==typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}(),Z=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i){var o=t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}},tt=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,L(r<t.length,"Surrogate pair missing trail surrogate.");i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},et=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},nt=1e3,rt=2,it=144e5,ot=.5}).call(e,n(5))},function(t,e,n){"use strict";function r(t){return t===u?void 0:t}function i(t){return"EAGER"===t.instantiationMode}n.d(e,"a",function(){return s}),n.d(e,"b",function(){return l}),n.d(e,"c",function(){return c});var o=n(1),a=n(2),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),u="[DEFAULT]",c=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=u);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new a.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(o.a)({identifier:u,optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var a=this.getOrInitializeService(i);if(!a){if(r)return null;throw Error("Service "+this.name+" is not available")}return a}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,i(t))try{this.getOrInitializeService(u)}catch(t){}try{for(var r=Object(o.h)(this.instancesDeferred.entries()),a=r.next();!a.done;a=r.next()){var s=Object(o.e)(a.value,2),c=s[0],l=s[1],h=this.normalizeInstanceIdentifier(c);try{var f=this.getOrInitializeService(h);l.resolve(f)}catch(t){}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=u),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(o.b)(this,void 0,void 0,function(){var t;return Object(o.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(o.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,r(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:u:t},t}(),l=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new c(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function i(t){u.forEach(function(e){e.setLogLevel(t)})}function o(t,e){for(var n=0,r=u;n<r.length;n++){var i=r[n];!function(n){var r=null;e&&e.level&&(r=c[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}}).filter(function(t){return t}).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}}(i)}}n.d(e,"a",function(){return s}),n.d(e,"b",function(){return p}),n.d(e,"c",function(){return i}),n.d(e,"d",function(){return o});var a,s,u=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(s||(s={}));var c={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},l=s.INFO,h=(a={},a[s.DEBUG]="log",a[s.VERBOSE]="log",a[s.INFO]="info",a[s.WARN]="warn",a[s.ERROR]="error",a),f=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=h[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},p=function(){function t(t){this.name=t,this._logLevel=l,this._logHandler=f,this._userLogHandler=null,u.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?c[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}()},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function r(t){return t instanceof st.c&&t.code.includes("request-failed")}function i(t){var e=t.projectId;return dt+"/projects/"+e+"/installations"}function o(t){return{token:t.token,requestStatus:2,expiresIn:l(t.expiresIn),creationTime:Date.now()}}function a(t,e){return Object(at.b)(this,void 0,void 0,function(){var n,r;return Object(at.d)(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,gt.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function s(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function u(t,e){var n=e.refreshToken,r=s(t);return r.append("Authorization",h(n)),r}function c(t){return Object(at.b)(this,void 0,void 0,function(){var e;return Object(at.d)(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return e=n.sent(),e.status>=500&&e.status<600?[2,t()]:[2,e]}})})}function l(t){return Number(t.replace("s","000"))}function h(t){return pt+" "+t}function f(t,e){var n=e.fid;return Object(at.b)(this,void 0,void 0,function(){var e,r,u,l,h,f,p;return Object(at.d)(this,function(d){switch(d.label){case 0:return e=i(t),r=s(t),u={fid:n,authVersion:pt,appId:t.appId,sdkVersion:ft},l={method:"POST",headers:r,body:JSON.stringify(u)},[4,c(function(){return fetch(e,l)})];case 1:return h=d.sent(),h.ok?[4,h.json()]:[3,3];case 2:return f=d.sent(),p={fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:o(f.authToken)},[2,p];case 3:return[4,a("Create Installation",h)];case 4:throw d.sent()}})})}function p(t){return new Promise(function(e){setTimeout(e,t)})}function d(t){return btoa(String.fromCharCode.apply(String,Object(at.f)(t))).replace(/\+/g,"-").replace(/\//g,"_")}function v(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=y(t);return mt.test(e)?e:bt}catch(t){return bt}}function y(t){return d(t).substr(0,22)}function g(t){return t.appName+"!"+t.appId}function m(t,e){var n=g(t);w(n,e),E(n,e)}function b(t,e){T();var n=g(t),r=_t.get(n);r||(r=new Set,_t.set(n,r)),r.add(e)}function _(t,e){var n=g(t),r=_t.get(n);r&&(r.delete(e),0===r.size&&_t.delete(n),I())}function w(t,e){var n,r,i=_t.get(t);if(i)try{for(var o=Object(at.h)(i),a=o.next();!a.done;a=o.next()){(0,a.value)(e)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function E(t,e){var n=T();n&&n.postMessage({key:t,fid:e}),I()}function T(){return!wt&&"BroadcastChannel"in self&&(wt=new BroadcastChannel("[Firebase] FID Change"),wt.onmessage=function(t){w(t.data.key,t.data.fid)}),wt}function I(){0===_t.size&&wt&&(wt.close(),wt=null)}function O(){return Ot||(Ot=Object(ut.openDb)(Et,Tt,function(t){switch(t.oldVersion){case 0:t.createObjectStore(It)}})),Ot}function C(t,e){return Object(at.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(at.d)(this,function(s){switch(s.label){case 0:return n=g(t),[4,O()];case 1:return r=s.sent(),i=r.transaction(It,"readwrite"),o=i.objectStore(It),[4,o.get(n)];case 2:return a=s.sent(),[4,o.put(e,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===e.fid||m(t,e.fid),[2,e]}})})}function S(t){return Object(at.b)(this,void 0,void 0,function(){var e,n,r;return Object(at.d)(this,function(i){switch(i.label){case 0:return e=g(t),[4,O()];case 1:return n=i.sent(),r=n.transaction(It,"readwrite"),[4,r.objectStore(It).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function k(t,e){return Object(at.b)(this,void 0,void 0,function(){var n,r,i,o,a,s;return Object(at.d)(this,function(u){switch(u.label){case 0:return n=g(t),[4,O()];case 1:return r=u.sent(),i=r.transaction(It,"readwrite"),o=i.objectStore(It),[4,o.get(n)];case 2:return a=u.sent(),s=e(a),void 0!==s?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||m(t,s.fid),[2,s]}})})}function N(t){return Object(at.b)(this,void 0,void 0,function(){var e,n,r;return Object(at.d)(this,function(i){switch(i.label){case 0:return[4,k(t,function(n){var r=A(n),i=P(t,r);return e=i.registrationPromise,i.installationEntry})];case 1:return n=i.sent(),n.fid!==bt?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function A(t){return D(t||{fid:v(),registrationStatus:0})}function P(t,e){if(0===e.registrationStatus){if(!navigator.onLine){return{installationEntry:e,registrationPromise:Promise.reject(gt.create("app-offline"))}}var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:x(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:R(t)}:{installationEntry:e}}function x(t,e){return Object(at.b)(this,void 0,void 0,function(){var n,i;return Object(at.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,7]),[4,f(t,e)];case 1:return n=o.sent(),[2,C(t,n)];case 2:return i=o.sent(),r(i)&&409===i.customData.serverCode?[4,S(t)]:[3,4];case 3:return o.sent(),[3,6];case 4:return[4,C(t,{fid:e.fid,registrationStatus:0})];case 5:o.sent(),o.label=6;case 6:throw i;case 7:return[2]}})})}function R(t){return Object(at.b)(this,void 0,void 0,function(){var e,n,r,i;return Object(at.d)(this,function(o){switch(o.label){case 0:return[4,j(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,p(100)];case 3:return o.sent(),[4,j(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,N(t)];case 6:return n=o.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,e]}})})}function j(t){return k(t,function(t){if(!t)throw gt.create("installation-not-found");return D(t)})}function D(t){return L(t)?{fid:t.fid,registrationStatus:0}:t}function L(t){return 1===t.registrationStatus&&t.registrationTime+ht<Date.now()}function M(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Object(at.b)(this,void 0,void 0,function(){var t,i,s,l,h,f,p,d;return Object(at.d)(this,function(v){switch(v.label){case 0:return t=F(n,e),i=u(n,e),s=r.getImmediate({optional:!0}),s&&i.append("x-firebase-client",s.getPlatformInfoString()),l={installation:{sdkVersion:ft}},h={method:"POST",headers:i,body:JSON.stringify(l)},[4,c(function(){return fetch(t,h)})];case 1:return f=v.sent(),f.ok?[4,f.json()]:[3,3];case 2:return p=v.sent(),d=o(p),[2,d];case 3:return[4,a("Generate Auth Token",f)];case 4:throw v.sent()}})})}function F(t,e){var n=e.fid;return i(t)+"/"+n+"/authTokens:generate"}function U(t,e){return void 0===e&&(e=!1),Object(at.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(at.d)(this,function(a){switch(a.label){case 0:return[4,k(t.appConfig,function(r){if(!z(r))throw gt.create("not-registered");var i=r.authToken;if(!e&&W(i))return r;if(1===i.requestStatus)return n=V(t,e),r;if(!navigator.onLine)throw gt.create("app-offline");var o=H(r);return n=B(t,o),o})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return o=a.sent(),[3,4];case 3:o=r.authToken,a.label=4;case 4:return i=o,[2,i]}})})}function V(t,e){return Object(at.b)(this,void 0,void 0,function(){var n,r;return Object(at.d)(this,function(i){switch(i.label){case 0:return[4,q(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,p(100)];case 3:return i.sent(),[4,q(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,0===r.requestStatus?[2,U(t,e)]:[2,r]}})})}function q(t){return k(t,function(t){if(!z(t))throw gt.create("not-registered");return G(t.authToken)?Object(at.a)(Object(at.a)({},t),{authToken:{requestStatus:0}}):t})}function B(t,e){return Object(at.b)(this,void 0,void 0,function(){var n,i,o,i;return Object(at.d)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,8]),[4,M(t,e)];case 1:return n=a.sent(),i=Object(at.a)(Object(at.a)({},e),{authToken:n}),[4,C(t.appConfig,i)];case 2:return a.sent(),[2,n];case 3:return o=a.sent(),!r(o)||401!==o.customData.serverCode&&404!==o.customData.serverCode?[3,5]:[4,S(t.appConfig)];case 4:return a.sent(),[3,7];case 5:return i=Object(at.a)(Object(at.a)({},e),{authToken:{requestStatus:0}}),[4,C(t.appConfig,i)];case 6:a.sent(),a.label=7;case 7:throw o;case 8:return[2]}})})}function z(t){return void 0!==t&&2===t.registrationStatus}function W(t){return 2===t.requestStatus&&!K(t)}function K(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+vt}function H(t){var e={requestStatus:1,requestTime:Date.now()};return Object(at.a)(Object(at.a)({},t),{authToken:e})}function G(t){return 1===t.requestStatus&&t.requestTime+ht<Date.now()}function Q(t){return Object(at.b)(this,void 0,void 0,function(){var e,n,r;return Object(at.d)(this,function(i){switch(i.label){case 0:return[4,N(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,r=e.registrationPromise,r?r.catch(console.error):U(t).catch(console.error),[2,n.fid]}})})}function Y(t,e){return void 0===e&&(e=!1),Object(at.b)(this,void 0,void 0,function(){var n;return Object(at.d)(this,function(r){switch(r.label){case 0:return[4,X(t.appConfig)];case 1:return r.sent(),[4,U(t,e)];case 2:return n=r.sent(),[2,n.token]}})})}function X(t){return Object(at.b)(this,void 0,void 0,function(){var e;return Object(at.d)(this,function(n){switch(n.label){case 0:return[4,N(t)];case 1:return e=n.sent().registrationPromise,e?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function $(t,e){return Object(at.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(at.d)(this,function(s){switch(s.label){case 0:return n=J(t,e),r=u(t,e),i={method:"DELETE",headers:r},[4,c(function(){return fetch(n,i)})];case 1:return o=s.sent(),o.ok?[3,3]:[4,a("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}})})}function J(t,e){var n=e.fid;return i(t)+"/"+n}function Z(t){return Object(at.b)(this,void 0,void 0,function(){var e,n;return Object(at.d)(this,function(r){switch(r.label){case 0:return e=t.appConfig,[4,k(e,function(t){if(!t||0!==t.registrationStatus)return t})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw gt.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw gt.create("app-offline");case 3:return[4,$(e,n)];case 4:return r.sent(),[4,S(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}function tt(t,e){var n=t.appConfig;return b(n,e),function(){_(n,e)}}function et(t){var e,n;if(!t||!t.options)throw nt("App Configuration");if(!t.name)throw nt("App Name");var r=["projectId","apiKey","appId"];try{for(var i=Object(at.h)(r),o=i.next();!o.done;o=i.next()){var a=o.value;if(!t.options[a])throw nt(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function nt(t){return gt.create("missing-app-config-values",{valueName:t})}var rt,it=n(0),ot=n(3),at=n(1),st=n(2),ut=n(12),ct=(n.n(ut),"@firebase/installations"),lt="0.4.19",ht=1e4,ft="w:"+lt,pt="FIS_v2",dt="https://firebaseinstallations.googleapis.com/v1",vt=36e5,yt=(rt={},rt["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',rt["not-registered"]="Firebase Installation is not registered.",rt["installation-not-found"]="Firebase Installation not found.",rt["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',rt["app-offline"]="Could not process request. Application offline.",rt["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",rt),gt=new st.b("installations","Installations",yt),mt=/^[cdef][\w-]{21}$/,bt="",_t=new Map,wt=null,Et="firebase-installations-database",Tt=1,It="firebase-installations-store",Ot=null;!function(t){t.INTERNAL.registerComponent(new ot.a("installations",function(t){var e=t.getProvider("app").getImmediate(),n=et(e),r=t.getProvider("platform-logger"),i={appConfig:n,platformLoggerProvider:r};return{app:e,getId:function(){return Q(i)},getToken:function(t){return Y(i,t)},delete:function(){return Z(i)},onIdChange:function(t){return tt(i,t)}}},"PUBLIC")),t.registerVersion(ct,lt)}(it.a)},function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,u=r(t),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)o.call(n,l)&&(u[l]=n[l]);if(i){s=i(n);for(var h=0;h<s.length;h++)a.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},function(t,e,n){"use strict";t.exports=n(20)},function(t,e,n){"use strict";function r(){}function i(t){try{return t.then}catch(t){return g=t,m}}function o(t,e){try{return t(e)}catch(t){return g=t,m}}function a(t,e,n){try{t(e,n)}catch(t){return g=t,m}}function s(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,t!==r&&v(t,this)}function u(t,e,n){return new t.constructor(function(i,o){var a=new s(r);a.then(i,o),c(t,new d(e,n,a))})}function c(t,e){for(;3===t._83;)t=t._18;if(s._47&&s._47(t),0===t._83)return 0===t._75?(t._75=1,void(t._38=e)):1===t._75?(t._75=2,void(t._38=[t._38,e])):void t._38.push(e);l(t,e)}function l(t,e){y(function(){var n=1===t._83?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._83?h(e.promise,t._18):f(e.promise,t._18));var r=o(n,t._18);r===m?f(e.promise,g):h(e.promise,r)})}function h(t,e){if(e===t)return f(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"===typeof e||"function"===typeof e)){var n=i(e);if(n===m)return f(t,g);if(n===t.then&&e instanceof s)return t._83=3,t._18=e,void p(t);if("function"===typeof n)return void v(n.bind(e),t)}t._83=1,t._18=e,p(t)}function f(t,e){t._83=2,t._18=e,s._71&&s._71(t,e),p(t)}function p(t){if(1===t._75&&(c(t,t._38),t._38=null),2===t._75){for(var e=0;e<t._38.length;e++)c(t,t._38[e]);t._38=null}}function d(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function v(t,e){var n=!1,r=a(t,function(t){n||(n=!0,h(e,t))},function(t){n||(n=!0,f(e,t))});n||r!==m||(n=!0,f(e,g))}var y=n(16),g=null,m={};t.exports=s,s._47=null,s._71=null,s._44=r,s.prototype.then=function(t,e){if(this.constructor!==s)return u(this,t,e);var n=new s(r);return c(this,new d(t,e,n)),n}},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var i=n(29),o=n.n(i),a=n(32),s=this,u={apiKey:"AIzaSyC-IbMlaRCpe9ywQ2Ts2YmLGCDOQtyZZa8",authDomain:"headless-12f0d.firebaseapp.com",databaseURL:"https://headless-12f0d.firebaseio.com",projectId:"headless-12f0d",storageBucket:"headless-12f0d.appspot.com",messagingSenderId:"186890154052",appId:"1:186890154052:web:395c9e8f14a4643f"},c=function(){console.log("initializeFirebase"),a.a.initializeApp(u)},l=function(){var t=r(o.a.mark(function t(){var e,n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("askForPermissioToReceiveNotifications"),t.next=4,Notification.requestPermission();case 4:return e=t.sent,n=null,r=a.a.messaging(),t.next=9,r.getToken();case 9:return n=t.sent,console.log("user token: ",n),t.abrupt("return",n);case 14:t.prev=14,t.t0=t.catch(0);case 16:case"end":return t.stop()}},t,s,[[0,14]])}));return function(){return t.apply(this,arguments)}}()},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function a(){v&&p&&(v=!1,p.length?d=p.concat(d):y=-1,d.length&&s())}function s(){if(!v){var t=i(a);v=!0;for(var e=d.length;e;){for(p=d,d=[];++y<e;)p&&p[y].run();y=-1,e=d.length}p=null,v=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,h,f=t.exports={};!function(){try{l="function"===typeof setTimeout?setTimeout:n}catch(t){l=n}try{h="function"===typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var p,d=[],v=!1,y=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||v||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,n){!function(t,n){n(e)}(0,function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function r(t,e,r){var i,o=new Promise(function(o,a){i=t[e].apply(t,r),n(i).then(o,a)});return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then(function(t){if(t)return new l(t,i.request)})}function o(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function a(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})})}function s(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})})}function u(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})})}function c(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function f(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function p(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new f(n)}function d(t){this._db=t}function v(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new p(o.result,t.oldVersion,o.transaction))}),i.then(function(t){return new d(t)})}function y(t){return r(indexedDB,"deleteDatabase",[t])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then(function(t){if(t)return new l(t,e._request)})})})}),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["deleteObjectStore","close"]),d.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[h,c].forEach(function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})}),[c,h].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise(function(i){n.iterateCursor(t,function(t){return t?(r.push(t.value),void 0!==e&&r.length==e?void i(r):void t.continue()):void i(r)})})})}),t.openDb=v,t.deleteDb=y,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){n(14),t.exports=n(19)},function(t,e,n){"use strict";"undefined"===typeof Promise&&(n(15).enable(),window.Promise=n(17)),n(18),Object.assign=n(7)},function(t,e,n){"use strict";function r(){c=!1,s._47=null,s._71=null}function i(t){function e(e){(t.allRejections||a(h[e].error,t.whitelist||u))&&(h[e].displayId=l++,t.onUnhandled?(h[e].logged=!0,t.onUnhandled(h[e].displayId,h[e].error)):(h[e].logged=!0,o(h[e].displayId,h[e].error)))}function n(e){h[e].logged&&(t.onHandled?t.onHandled(h[e].displayId,h[e].error):h[e].onUnhandled||(console.warn("Promise Rejection Handled (id: "+h[e].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+h[e].displayId+".")))}t=t||{},c&&r(),c=!0;var i=0,l=0,h={};s._47=function(t){2===t._83&&h[t._56]&&(h[t._56].logged?n(t._56):clearTimeout(h[t._56].timeout),delete h[t._56])},s._71=function(t,n){0===t._75&&(t._56=i++,h[t._56]={displayId:null,error:n,timeout:setTimeout(e.bind(null,t._56),a(n,u)?100:2e3),logged:!1})}}function o(t,e){console.warn("Possible Unhandled Promise Rejection (id: "+t+"):"),((e&&(e.stack||e))+"").split("\n").forEach(function(t){console.warn("  "+t)})}function a(t,e){return e.some(function(e){return t instanceof e})}var s=n(9),u=[ReferenceError,TypeError,RangeError],c=!1;e.disable=r,e.enable=i},function(t,e,n){"use strict";(function(e){function n(t){a.length||(o(),s=!0),a[a.length]=t}function r(){for(;u<a.length;){var t=u;if(u+=1,a[t].call(),u>c){for(var e=0,n=a.length-u;e<n;e++)a[e]=a[e+u];a.length-=u,u=0}}a.length=0,u=0,s=!1}function i(t){return function(){function e(){clearTimeout(n),clearInterval(r),t()}var n=setTimeout(e,0),r=setInterval(e,50)}}t.exports=n;var o,a=[],s=!1,u=0,c=1024,l="undefined"!==typeof e?e:self,h=l.MutationObserver||l.WebKitMutationObserver;o="function"===typeof h?function(t){var e=1,n=new h(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}(r):i(r),n.requestFlush=o,n.makeRequestCallFromTimer=i}).call(e,n(5))},function(t,e,n){"use strict";function r(t){var e=new i(i._44);return e._83=1,e._18=t,e}var i=n(9);t.exports=i;var o=r(!0),a=r(!1),s=r(null),u=r(void 0),c=r(0),l=r("");i.resolve=function(t){if(t instanceof i)return t;if(null===t)return s;if(void 0===t)return u;if(!0===t)return o;if(!1===t)return a;if(0===t)return c;if(""===t)return l;if("object"===typeof t||"function"===typeof t)try{var e=t.then;if("function"===typeof e)return new i(e.bind(t))}catch(t){return new i(function(e,n){n(t)})}return r(t)},i.all=function(t){var e=Array.prototype.slice.call(t);return new i(function(t,n){function r(a,s){if(s&&("object"===typeof s||"function"===typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?r(a,s._18):(2===s._83&&n(s._18),void s.then(function(t){r(a,t)},n))}var u=s.then;if("function"===typeof u){return void new i(u.bind(s)).then(function(t){r(a,t)},n)}}e[a]=s,0===--o&&t(e)}if(0===e.length)return t([]);for(var o=e.length,a=0;a<e.length;a++)r(a,e[a])})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){t.forEach(function(t){i.resolve(t).then(e,n)})})},i.prototype.catch=function(t){return this.then(null,t)}},function(t,e){!function(t){"use strict";function e(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!==typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return g.iterable&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader,n=a(e);return e.readAsArrayBuffer(t),n}function u(t){var e=new FileReader,n=a(e);return e.readAsText(t),n}function c(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function l(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"===typeof t)this._bodyText=t;else if(g.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(g.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(g.arrayBuffer&&g.blob&&b(t))this._bodyArrayBuffer=l(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!g.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!_(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(t)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(t){var e=t.toUpperCase();return w.indexOf(e)>-1?e:t}function p(t,e){e=e||{};var n=e.body;if(t instanceof p){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=f(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function v(t){var e=new i;return t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e}function y(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new i(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var g={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(g.arrayBuffer)var m=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(t){return t&&DataView.prototype.isPrototypeOf(t)},_=ArrayBuffer.isView||function(t){return t&&m.indexOf(Object.prototype.toString.call(t))>-1};i.prototype.append=function(t,r){t=e(t),r=n(r);var i=this.map[t];this.map[t]=i?i+","+r:r},i.prototype.delete=function(t){delete this.map[e(t)]},i.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,r){this.map[e(t)]=n(r)},i.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},i.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},i.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},i.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},g.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},h.call(p.prototype),h.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},y.error=function(){var t=new y(null,{status:0,statusText:""});return t.type="error",t};var E=[301,302,303,307,308];y.redirect=function(t,e){if(-1===E.indexOf(e))throw new RangeError("Invalid status code");return new y(null,{status:e,headers:{location:t}})},t.Headers=i,t.Request=p,t.Response=y,t.fetch=function(t,e){return new Promise(function(n,r){var i=new p(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:v(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;n(new y(e,t))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&g.blob&&(o.responseType="blob"),i.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send("undefined"===typeof i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!==typeof self?self:this)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),i=n.n(r),o=n(21),a=n.n(o),s=n(25),u=(n.n(s),n(26)),c=n(44),l=n(10);a.a.render(i.a.createElement(u.a,null),document.getElementById("root")),Object(c.a)(),Object(l.b)()},function(t,e,n){"use strict";function r(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(t,e,n){this.props=t,this.context=e,this.refs=D,this.updater=n||j}function o(){}function a(t,e,n){this.props=t,this.context=e,this.refs=D,this.updater=n||j}function s(t,e,n){var r,i={},o=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)F.call(e,r)&&!U.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in s=t.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:E,type:t,key:o,ref:a,props:i,_owner:M.current}}function u(t,e){return{$$typeof:E,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function c(t){return"object"===typeof t&&null!==t&&t.$$typeof===E}function l(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}function h(t,e,n,r){if(q.length){var i=q.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function f(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>q.length&&q.push(t)}function p(t,e,n,i){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var a=!1;if(null===t)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case E:case T:a=!0}}if(a)return n(i,t,""===e?"."+v(t,0):e),1;if(a=0,e=""===e?".":e+":",Array.isArray(t))for(var s=0;s<t.length;s++){o=t[s];var u=e+v(o,s);a+=p(o,u,n,i)}else if(null===t||"object"!==typeof t?u=null:(u=R&&t[R]||t["@@iterator"],u="function"===typeof u?u:null),"function"===typeof u)for(t=u.call(t),s=0;!(o=t.next()).done;)o=o.value,u=e+v(o,s++),a+=p(o,u,n,i);else if("object"===o)throw n=""+t,Error(r(31,"[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return a}function d(t,e,n){return null==t?0:p(t,"",e,n)}function v(t,e){return"object"===typeof t&&null!==t&&null!=t.key?l(t.key):e.toString(36)}function y(t,e){t.func.call(t.context,e,t.count++)}function g(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?m(t,r,n,function(t){return t}):null!=t&&(c(t)&&(t=u(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(V,"$&/")+"/")+n)),r.push(t))}function m(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(V,"$&/")+"/"),e=h(e,o,r,i),d(t,g,e),f(e)}function b(){var t=B.current;if(null===t)throw Error(r(321));return t}var _=n(7),w="function"===typeof Symbol&&Symbol.for,E=w?Symbol.for("react.element"):60103,T=w?Symbol.for("react.portal"):60106,I=w?Symbol.for("react.fragment"):60107,O=w?Symbol.for("react.strict_mode"):60108,C=w?Symbol.for("react.profiler"):60114,S=w?Symbol.for("react.provider"):60109,k=w?Symbol.for("react.context"):60110,N=w?Symbol.for("react.forward_ref"):60112,A=w?Symbol.for("react.suspense"):60113,P=w?Symbol.for("react.memo"):60115,x=w?Symbol.for("react.lazy"):60116,R="function"===typeof Symbol&&Symbol.iterator,j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D={};i.prototype.isReactComponent={},i.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(r(85));this.updater.enqueueSetState(this,t,e,"setState")},i.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},o.prototype=i.prototype;var L=a.prototype=new o;L.constructor=a,_(L,i.prototype),L.isPureReactComponent=!0;var M={current:null},F=Object.prototype.hasOwnProperty,U={key:!0,ref:!0,__self:!0,__source:!0},V=/\/+/g,q=[],B={current:null},z={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:M,IsSomeRendererActing:{current:!1},assign:_};e.Children={map:function(t,e,n){if(null==t)return t;var r=[];return m(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;e=h(null,null,e,n),d(t,y,e),f(e)},count:function(t){return d(t,function(){return null},null)},toArray:function(t){var e=[];return m(t,e,null,function(t){return t}),e},only:function(t){if(!c(t))throw Error(r(143));return t}},e.Component=i,e.Fragment=I,e.Profiler=C,e.PureComponent=a,e.StrictMode=O,e.Suspense=A,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(r(267,t));var i=_({},t.props),o=t.key,a=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,s=M.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)F.call(e,c)&&!U.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==u?u[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:E,type:t.type,key:o,ref:a,props:i,_owner:s}},e.createContext=function(t,e){return void 0===e&&(e=null),t={$$typeof:k,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:S,_context:t},t.Consumer=t},e.createElement=s,e.createFactory=function(t){var e=s.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:N,render:t}},e.isValidElement=c,e.lazy=function(t){return{$$typeof:x,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:P,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return b().useCallback(t,e)},e.useContext=function(t,e){return b().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return b().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return b().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return b().useLayoutEffect(t,e)},e.useMemo=function(t,e){return b().useMemo(t,e)},e.useReducer=function(t,e,n){return b().useReducer(t,e,n)},e.useRef=function(t){return b().useRef(t)},e.useState=function(t){return b().useState(t)},e.version="16.14.0"},function(t,e,n){"use strict";function r(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}r(),t.exports=n(22)},function(t,e,n){"use strict";function r(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(t,e,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(t){this.onError(t)}}function o(t,e,n,r,o,a,s,u,c){qi=!1,Bi=null,i.apply(Ki,arguments)}function a(t,e,n,i,a,s,u,c,l){if(o.apply(this,arguments),qi){if(!qi)throw Error(r(198));var h=Bi;qi=!1,Bi=null,zi||(zi=!0,Wi=h)}}function s(t,e,n){var r=t.type||"unknown-event";t.currentTarget=Qi(n),a(r,e,void 0,t),t.currentTarget=null}function u(){if(Yi)for(var t in Xi){var e=Xi[t],n=Yi.indexOf(t);if(!(-1<n))throw Error(r(96,t));if(!$i[n]){if(!e.extractEvents)throw Error(r(97,t));$i[n]=e,n=e.eventTypes;for(var i in n){var o=void 0,a=n[i],s=e,u=i;if(Ji.hasOwnProperty(u))throw Error(r(99,u));Ji[u]=a;var l=a.phasedRegistrationNames;if(l){for(o in l)l.hasOwnProperty(o)&&c(l[o],s,u);o=!0}else a.registrationName?(c(a.registrationName,s,u),o=!0):o=!1;if(!o)throw Error(r(98,i,t))}}}}function c(t,e,n){if(Zi[t])throw Error(r(100,t));Zi[t]=e,to[t]=e.eventTypes[n].dependencies}function l(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var i=t[e];if(!Xi.hasOwnProperty(e)||Xi[e]!==i){if(Xi[e])throw Error(r(102,e));Xi[e]=i,n=!0}}n&&u()}function h(t){if(t=Gi(t)){if("function"!==typeof no)throw Error(r(280));var e=t.stateNode;e&&(e=Hi(e),no(t.stateNode,t.type,e))}}function f(t){ro?io?io.push(t):io=[t]:ro=t}function p(){if(ro){var t=ro,e=io;if(io=ro=null,h(t),e)for(t=0;t<e.length;t++)h(e[t])}}function d(t,e){return t(e)}function v(t,e,n,r,i){return t(e,n,r,i)}function y(){}function g(){null===ro&&null===io||(y(),p())}function m(t,e,n){if(so)return t(e,n);so=!0;try{return oo(t,e,n)}finally{so=!1,g()}}function b(t){return!!co.call(ho,t)||!co.call(lo,t)&&(uo.test(t)?ho[t]=!0:(lo[t]=!0,!1))}function _(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}function w(t,e,n,r){if(null===e||"undefined"===typeof e||_(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function E(t,e,n,r,i,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o}function T(t){return t[1].toUpperCase()}function I(t,e,n,r){var i=fo.hasOwnProperty(e)?fo[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(w(e,n,i,r)&&(n=null),r||null===i?b(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(i=i.type,n=3===i||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}function O(t){return null===t||"object"!==typeof t?null:(t=Ro&&t[Ro]||t["@@iterator"],"function"===typeof t?t:null)}function C(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then(function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)},function(e){0===t._status&&(t._status=2,t._result=e)})}}function S(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case wo:return"Fragment";case _o:return"Portal";case To:return"Profiler";case Eo:return"StrictMode";case ko:return"Suspense";case No:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case Oo:return"Context.Consumer";case Io:return"Context.Provider";case So:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case Ao:return S(t.type);case xo:return S(t.render);case Po:if(t=1===t._status?t._result:null)return S(t)}return null}function k(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=S(t.type);n=null,r&&(n=S(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(go,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}function N(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function A(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function P(t){var e=A(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function x(t){t._valueTracker||(t._valueTracker=P(t))}function R(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=A(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function j(t,e){var n=e.checked;return Ui({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function D(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=N(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function L(t,e){null!=(e=e.checked)&&I(t,"checked",e,!1)}function M(t,e){L(t,e);var n=N(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?U(t,e.type,n):e.hasOwnProperty("defaultValue")&&U(t,e.type,N(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function F(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,""!==n&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function U(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function V(t){var e="";return Fi.Children.forEach(t,function(t){null!=t&&(e+=t)}),e}function q(t,e){return t=Ui({children:void 0},e),(e=V(e.children))&&(t.children=e),t}function B(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+N(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function z(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(r(91));return Ui({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function W(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(r(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(r(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:N(n)}}function K(t,e){var n=N(e.value),r=N(e.defaultValue);null!=n&&(n=""+n,n!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function H(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function G(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Q(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?G(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}function Y(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function X(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}function $(t){if(Mo[t])return Mo[t];if(!Lo[t])return t;var e,n=Lo[t];for(e in n)if(n.hasOwnProperty(e)&&e in Fo)return Mo[t]=n[e];return t}function J(t){var e=Go.get(t);return void 0===e&&(e=new Map,Go.set(t,e)),e}function Z(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{e=t,0!==(1026&e.effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function tt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&null!==(t=t.alternate)&&(e=t.memoizedState),null!==e)return e.dehydrated}return null}function et(t){if(Z(t)!==t)throw Error(r(188))}function nt(t){var e=t.alternate;if(!e){if(null===(e=Z(t)))throw Error(r(188));return e!==t?null:t}for(var n=t,i=e;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(i=o.return)){n=i;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return et(o),t;if(a===i)return et(o),e;a=a.sibling}throw Error(r(188))}if(n.return!==i.return)n=o,i=a;else{for(var s=!1,u=o.child;u;){if(u===n){s=!0,n=o,i=a;break}if(u===i){s=!0,i=o,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,i=o;break}if(u===i){s=!0,i=a,n=o;break}u=u.sibling}if(!s)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?t:e}function rt(t){if(!(t=nt(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function it(t,e){if(null==e)throw Error(r(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function ot(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}function at(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)s(t,e[r],n[r]);else e&&s(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function st(t){if(null!==t&&(Qo=it(Qo,t)),t=Qo,Qo=null,t){if(ot(t,at),Qo)throw Error(r(95));if(zi)throw t=Wi,zi=!1,Wi=null,t}}function ut(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function ct(t){if(!eo)return!1;t="on"+t;var e=t in document;return e||(e=document.createElement("div"),e.setAttribute(t,"return;"),e="function"===typeof e[t]),e}function lt(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>Yo.length&&Yo.push(t)}function ht(t,e,n,r){if(Yo.length){var i=Yo.pop();return i.topLevelType=t,i.eventSystemFlags=r,i.nativeEvent=e,i.targetInst=n,i}return{topLevelType:t,eventSystemFlags:r,nativeEvent:e,targetInst:n,ancestors:[]}}function ft(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;e=n.tag,5!==e&&6!==e||t.ancestors.push(n),n=Qt(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=ut(t.nativeEvent);r=t.topLevelType;var o=t.nativeEvent,a=t.eventSystemFlags;0===n&&(a|=64);for(var s=null,u=0;u<$i.length;u++){var c=$i[u];c&&(c=c.extractEvents(r,e,o,i,a))&&(s=it(s,c))}st(s)}}function pt(t,e,n){if(!n.has(t)){switch(t){case"scroll":St(e,"scroll",!0);break;case"focus":case"blur":St(e,"focus",!0),St(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ct(t)&&St(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ho.indexOf(t)&&Ct(t,e)}n.set(t,null)}}function dt(t,e){var n=J(e);ia.forEach(function(t){pt(t,e,n)}),oa.forEach(function(t){pt(t,e,n)})}function vt(t,e,n,r,i){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:i,container:r}}function yt(t,e){switch(t){case"focus":case"blur":Jo=null;break;case"dragenter":case"dragleave":Zo=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":ea.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":na.delete(e.pointerId)}}function gt(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=vt(e,n,r,i,o),null!==e&&null!==(e=Yt(e))&&Vo(e),t):(t.eventSystemFlags|=r,t)}function mt(t,e,n,r,i){switch(e){case"focus":return Jo=gt(Jo,t,e,n,r,i),!0;case"dragenter":return Zo=gt(Zo,t,e,n,r,i),!0;case"mouseover":return ta=gt(ta,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ea.set(o,gt(ea.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,na.set(o,gt(na.get(o)||null,t,e,n,r,i)),!0}return!1}function bt(t){var e=Qt(t.target);if(null!==e){var n=Z(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=tt(n)))return t.blockedOn=e,void Vi.unstable_runWithPriority(t.priority,function(){qo(n)})}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function _t(t){if(null!==t.blockedOn)return!1;var e=Pt(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var n=Yt(e);return null!==n&&Vo(n),t.blockedOn=e,!1}return!0}function wt(t,e,n){_t(t)&&n.delete(e)}function Et(){for(Xo=!1;0<$o.length;){var t=$o[0];if(null!==t.blockedOn){t=Yt(t.blockedOn),null!==t&&Uo(t);break}var e=Pt(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:$o.shift()}null!==Jo&&_t(Jo)&&(Jo=null),null!==Zo&&_t(Zo)&&(Zo=null),null!==ta&&_t(ta)&&(ta=null),ea.forEach(wt),na.forEach(wt)}function Tt(t,e){t.blockedOn===e&&(t.blockedOn=null,Xo||(Xo=!0,Vi.unstable_scheduleCallback(Vi.unstable_NormalPriority,Et)))}function It(t){function e(e){return Tt(e,t)}if(0<$o.length){Tt($o[0],t);for(var n=1;n<$o.length;n++){var r=$o[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==Jo&&Tt(Jo,t),null!==Zo&&Tt(Zo,t),null!==ta&&Tt(ta,t),ea.forEach(e),na.forEach(e),n=0;n<ra.length;n++)r=ra[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ra.length&&(n=ra[0],null===n.blockedOn);)bt(n),null===n.blockedOn&&ra.shift()}function Ot(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:e},ua.set(r,e),sa.set(r,o),aa[i]=o}}function Ct(t,e){St(e,t,!1)}function St(t,e,n){var r=ua.get(e);switch(void 0===r?2:r){case 0:r=kt.bind(null,e,1,t);break;case 1:r=Nt.bind(null,e,1,t);break;default:r=At.bind(null,e,1,t)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function kt(t,e,n,r){ao||y();var i=At,o=ao;ao=!0;try{v(i,t,e,n,r)}finally{(ao=o)||g()}}function Nt(t,e,n,r){pa(fa,At.bind(null,t,e,n,r))}function At(t,e,n,r){if(da)if(0<$o.length&&-1<ia.indexOf(t))t=vt(null,t,e,n,r),$o.push(t);else{var i=Pt(t,e,n,r);if(null===i)yt(t,r);else if(-1<ia.indexOf(t))t=vt(i,t,e,n,r),$o.push(t);else if(!mt(i,t,e,n,r)){yt(t,r),t=ht(t,r,null,e);try{m(ft,t)}finally{lt(t)}}}}function Pt(t,e,n,r){if(n=ut(r),null!==(n=Qt(n))){var i=Z(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=tt(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}t=ht(t,r,n,e);try{m(ft,t)}finally{lt(t)}return null}function xt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||va.hasOwnProperty(t)&&va[t]?(""+e).trim():e+"px"}function Rt(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=xt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}function jt(t,e){if(e){if(ga[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(r(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(r(60));if(!("object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(r(62,""))}}function Dt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Lt(t,e){t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument;var n=J(t);e=to[e];for(var r=0;r<e.length;r++)pt(e[r],t,n)}function Mt(){}function Ft(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Ut(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vt(t,e){var n=Ut(t);t=0;for(var r;n;){if(3===n.nodeType){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Ut(n)}}function qt(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?qt(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function Bt(){for(var t=window,e=Ft();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;t=e.contentWindow,e=Ft(t.document)}return e}function zt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function Wt(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Kt(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}function Ht(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Gt(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if(n===ba||n===Ea||n===wa){if(0===e)return t;e--}else n===_a&&e++}t=t.previousSibling}return null}function Qt(t){var e=t[ka];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Aa]||n[ka]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Gt(t);null!==t;){if(n=t[ka])return n;t=Gt(t)}return e}t=n,n=t.parentNode}return null}function Yt(t){return t=t[ka]||t[Aa],!t||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Xt(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(r(33))}function $t(t){return t[Na]||null}function Jt(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Zt(t,e){var n=t.stateNode;if(!n)return null;var i=Hi(n);if(!i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!("button"===t||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(r(231,e,typeof n));return n}function te(t,e,n){(e=Zt(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=it(n._dispatchListeners,e),n._dispatchInstances=it(n._dispatchInstances,t))}function ee(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=Jt(e);for(e=n.length;0<e--;)te(n[e],"captured",t);for(e=0;e<n.length;e++)te(n[e],"bubbled",t)}}function ne(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=Zt(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,e),n._dispatchInstances=it(n._dispatchInstances,t))}function re(t){t&&t.dispatchConfig.registrationName&&ne(t._targetInst,null,t)}function ie(t){ot(t,ee)}function oe(){if(Ra)return Ra;var t,e,n=xa,r=n.length,i="value"in Pa?Pa.value:Pa.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return Ra=i.slice(t,1<e?1-e:void 0)}function ae(){return!0}function se(){return!1}function ue(t,e,n,r){this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface;for(var i in t)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ae:se,this.isPropagationStopped=se,this}function ce(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function le(t){if(!(t instanceof this))throw Error(r(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function he(t){t.eventPool=[],t.getPooled=ce,t.release=le}function fe(t,e){switch(t){case"keyup":return-1!==La.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function pe(t){return t=t.detail,"object"===typeof t&&"data"in t?t.data:null}function de(t,e){switch(t){case"compositionend":return pe(e);case"keypress":return 32!==e.which?null:(za=!0,qa);case"textInput":return t=e.data,t===qa&&za?null:t;default:return null}}function ve(t,e){if(Wa)return"compositionend"===t||!Ma&&fe(t,e)?(t=oe(),Ra=xa=Pa=null,Wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Va&&"ko"!==e.locale?null:e.data;default:return null}}function ye(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Ha[t.type]:"textarea"===e}function ge(t,e,n){return t=ue.getPooled(Ga.change,t,e,n),t.type="change",f(n),ie(t),t}function me(t){st(t)}function be(t){if(R(Xt(t)))return t}function _e(t,e){if("change"===t)return e}function we(){Qa&&(Qa.detachEvent("onpropertychange",Ee),Ya=Qa=null)}function Ee(t){if("value"===t.propertyName&&be(Ya))if(t=ge(Ya,t,ut(t)),ao)st(t);else{ao=!0;try{d(me,t)}finally{ao=!1,g()}}}function Te(t,e,n){"focus"===t?(we(),Qa=e,Ya=n,Qa.attachEvent("onpropertychange",Ee)):"blur"===t&&we()}function Ie(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return be(Ya)}function Oe(t,e){if("click"===t)return be(e)}function Ce(t,e){if("input"===t||"change"===t)return be(e)}function Se(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Za[t])&&!!e[t]}function ke(){return Se}function Ne(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e}function Ae(t,e){if(us(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!cs.call(e,n[r])||!us(t[n[r]],e[n[r]]))return!1;return!0}function Pe(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return vs||null==fs||fs!==Ft(n)?null:(n=fs,"selectionStart"in n&&zt(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ds&&Ae(ds,n)?null:(ds=n,t=ue.getPooled(hs.select,ps,t,e),t.type="select",t.target=fs,ie(t),t))}function xe(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function Re(t){0>js||(t.current=Rs[js],Rs[js]=null,js--)}function je(t,e){js++,Rs[js]=t.current,t.current=e}function De(t,e){var n=t.type.contextTypes;if(!n)return Ds;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Le(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Me(){Re(Ms),Re(Ls)}function Fe(t,e,n){if(Ls.current!==Ds)throw Error(r(168));je(Ls,e),je(Ms,n)}function Ue(t,e,n){var i=t.stateNode;if(t=e.childContextTypes,"function"!==typeof i.getChildContext)return n;i=i.getChildContext();for(var o in i)if(!(o in t))throw Error(r(108,S(e)||"Unknown",o));return Ui({},n,{},i)}function Ve(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ds,Fs=Ls.current,je(Ls,t),je(Ms,Ms.current),!0}function qe(t,e,n){var i=t.stateNode;if(!i)throw Error(r(169));n?(t=Ue(t,e,Fs),i.__reactInternalMemoizedMergedChildContext=t,Re(Ms),Re(Ls),je(Ls,t)):Re(Ms),je(Ms,n)}function Be(){switch(Ws()){case Ks:return 99;case Hs:return 98;case Gs:return 97;case Qs:return 96;case Ys:return 95;default:throw Error(r(332))}}function ze(t){switch(t){case 99:return Ks;case 98:return Hs;case 97:return Gs;case 96:return Qs;case 95:return Ys;default:throw Error(r(332))}}function We(t,e){return t=ze(t),Us(t,e)}function Ke(t,e,n){return t=ze(t),Vs(t,e,n)}function He(t){return null===Zs?(Zs=[t],tu=Vs(Ks,Qe)):Zs.push(t),Xs}function Ge(){if(null!==tu){var t=tu;tu=null,qs(t)}Qe()}function Qe(){if(!eu&&null!==Zs){eu=!0;var t=0;try{var e=Zs;We(99,function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}}),Zs=null}catch(e){throw null!==Zs&&(Zs=Zs.slice(t+1)),Vs(Ks,Ge),e}finally{eu=!1}}}function Ye(t,e,n){return n/=10,1073741821-(1+((1073741821-t+e/10)/n|0))*n}function Xe(t,e){if(t&&t.defaultProps){e=Ui({},e),t=t.defaultProps;for(var n in t)void 0===e[n]&&(e[n]=t[n])}return e}function $e(){su=au=ou=null}function Je(t){var e=iu.current;Re(iu),t.type._context._currentValue=e}function Ze(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function tn(t,e){ou=t,su=au=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Du=!0),t.firstContext=null)}function en(t,e){if(su!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(su=t,e=1073741823),e={context:t,observedBits:e,next:null},null===au){if(null===ou)throw Error(r(308));au=e,ou.dependencies={expirationTime:0,firstContext:e,responders:null}}else au=au.next=e;return t._currentValue}function nn(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function rn(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function on(t,e){return t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null},t.next=t}function an(t,e){if(null!==(t=t.updateQueue)){t=t.shared;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function sn(t,e){var n=t.alternate;null!==n&&rn(n,t),t=t.updateQueue,n=t.baseQueue,null===n?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function un(t,e,n,r){var i=t.updateQueue;uu=!1;var o=i.baseQueue,a=i.shared.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}o=a,i.shared.pending=null,s=t.alternate,null!==s&&null!==(s=s.updateQueue)&&(s.baseQueue=a)}if(null!==o){s=o.next;var u=i.baseState,c=0,l=null,h=null,f=null;if(null!==s)for(var p=s;;){if((a=p.expirationTime)<r){var d={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===f?(h=f=d,l=u):f=f.next=d,a>c&&(c=a)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),$r(a,p.suspenseConfig);t:{var v=t,y=p;switch(a=e,d=n,y.tag){case 1:if("function"===typeof(v=y.payload)){u=v.call(d,u,a);break t}u=v;break t;case 3:v.effectTag=-4097&v.effectTag|64;case 0:if(v=y.payload,null===(a="function"===typeof v?v.call(d,u,a):v)||void 0===a)break t;u=Ui({},u,a);break t;case 2:uu=!0}}null!==p.callback&&(t.effectTag|=32,a=i.effects,null===a?i.effects=[p]:a.push(p))}if(null===(p=p.next)||p===s){if(null===(a=i.shared.pending))break;p=o.next=a.next,a.next=s,i.baseQueue=o=a,i.shared.pending=null}}null===f?l=u:f.next=h,i.baseState=l,i.baseQueue=f,Jr(c),t.expirationTime=c,t.memoizedState=u}}function cn(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],o=i.callback;if(null!==o){if(i.callback=null,i=o,o=n,"function"!==typeof i)throw Error(r(191,i));i.call(o)}}}function ln(t,e,n,r){e=t.memoizedState,n=n(r,e),n=null===n||void 0===n?e:Ui({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}function hn(t,e,n,r,i,o,a){return t=t.stateNode,"function"===typeof t.shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!Ae(n,r)||!Ae(i,o))}function fn(t,e,n){var r=!1,i=Ds,o=e.contextType;return"object"===typeof o&&null!==o?o=en(o):(i=Le(e)?Fs:Ls.current,r=e.contextTypes,o=(r=null!==r&&void 0!==r)?De(t,i):Ds),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=hu,t.stateNode=e,e._reactInternalFiber=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function pn(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hu.enqueueReplaceState(e,e.state,null)}function dn(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=lu,nn(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=en(o):(o=Le(e)?Fs:Ls.current,i.context=De(t,o)),un(t,n,i,r),i.state=t.memoizedState,o=e.getDerivedStateFromProps,"function"===typeof o&&(ln(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&hu.enqueueReplaceState(i,i.state,null),un(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.effectTag|=4)}function vn(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,t));var o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=i.refs;e===lu&&(e=i.refs={}),null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}if("string"!==typeof t)throw Error(r(284));if(!n._owner)throw Error(r(290,t))}return t}function yn(t,e){if("textarea"!==t.type)throw Error(r(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function gn(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(t,e){return t=mi(t,e),t.index=0,t.sibling=null,t}function a(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index,r<n?(e.effectTag=2,n):r):(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,r){return null===e||6!==e.tag?(e=wi(n,t.mode,r),e.return=t,e):(e=o(e,n),e.return=t,e)}function c(t,e,n,r){return null!==e&&e.elementType===n.type?(r=o(e,n.props),r.ref=vn(t,e,n),r.return=t,r):(r=bi(n.type,n.key,n.props,null,t.mode,r),r.ref=vn(t,e,n),r.return=t,r)}function l(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?(e=Ei(n,t.mode,r),e.return=t,e):(e=o(e,n.children||[]),e.return=t,e)}function h(t,e,n,r,i){return null===e||7!==e.tag?(e=_i(n,t.mode,r,i),e.return=t,e):(e=o(e,n),e.return=t,e)}function f(t,e,n){if("string"===typeof e||"number"===typeof e)return e=wi(""+e,t.mode,n),e.return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case bo:return n=bi(e.type,e.key,e.props,null,t.mode,n),n.ref=vn(t,null,e),n.return=t,n;case _o:return e=Ei(e,t.mode,n),e.return=t,e}if(fu(e)||O(e))return e=_i(e,t.mode,n,null),e.return=t,e;yn(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case bo:return n.key===i?n.type===wo?h(t,e,n.props.children,r,i):c(t,e,n,r):null;case _o:return n.key===i?l(t,e,n,r):null}if(fu(n)||O(n))return null!==i?null:h(t,e,n,r,null);yn(t,n)}return null}function d(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return t=t.get(n)||null,u(e,t,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case bo:return t=t.get(null===r.key?n:r.key)||null,r.type===wo?h(e,t,r.props.children,i,r.key):c(e,t,r,i);case _o:return t=t.get(null===r.key?n:r.key)||null,l(e,t,r,i)}if(fu(r)||O(r))return t=t.get(n)||null,h(e,t,r,i,null);yn(e,r)}return null}function v(r,o,s,u){for(var c=null,l=null,h=o,v=o=0,y=null;null!==h&&v<s.length;v++){h.index>v?(y=h,h=null):y=h.sibling;var g=p(r,h,s[v],u);if(null===g){null===h&&(h=y);break}t&&h&&null===g.alternate&&e(r,h),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g,h=y}if(v===s.length)return n(r,h),c;if(null===h){for(;v<s.length;v++)null!==(h=f(r,s[v],u))&&(o=a(h,o,v),null===l?c=h:l.sibling=h,l=h);return c}for(h=i(r,h);v<s.length;v++)null!==(y=d(h,r,v,s[v],u))&&(t&&null!==y.alternate&&h.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return t&&h.forEach(function(t){return e(r,t)}),c}function y(o,s,u,c){var l=O(u);if("function"!==typeof l)throw Error(r(150));if(null==(u=l.call(u)))throw Error(r(151));for(var h=l=null,v=s,y=s=0,g=null,m=u.next();null!==v&&!m.done;y++,m=u.next()){v.index>y?(g=v,v=null):g=v.sibling;var b=p(o,v,m.value,c);if(null===b){null===v&&(v=g);break}t&&v&&null===b.alternate&&e(o,v),s=a(b,s,y),null===h?l=b:h.sibling=b,h=b,v=g}if(m.done)return n(o,v),l;if(null===v){for(;!m.done;y++,m=u.next())null!==(m=f(o,m.value,c))&&(s=a(m,s,y),null===h?l=m:h.sibling=m,h=m);return l}for(v=i(o,v);!m.done;y++,m=u.next())null!==(m=d(v,o,y,m.value,c))&&(t&&null!==m.alternate&&v.delete(null===m.key?y:m.key),s=a(m,s,y),null===h?l=m:h.sibling=m,h=m);return t&&v.forEach(function(t){return e(o,t)}),l}return function(t,i,a,u){var c="object"===typeof a&&null!==a&&a.type===wo&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case bo:t:{for(l=a.key,c=i;null!==c;){if(c.key===l){switch(c.tag){case 7:if(a.type===wo){n(t,c.sibling),i=o(c,a.props.children),i.return=t,t=i;break t}break;default:if(c.elementType===a.type){n(t,c.sibling),i=o(c,a.props),i.ref=vn(t,c,a),i.return=t,t=i;break t}}n(t,c);break}e(t,c),c=c.sibling}a.type===wo?(i=_i(a.props.children,t.mode,u,a.key),i.return=t,t=i):(u=bi(a.type,a.key,a.props,null,t.mode,u),u.ref=vn(t,i,a),u.return=t,t=u)}return s(t);case _o:t:{for(c=a.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(t,i.sibling),i=o(i,a.children||[]),i.return=t,t=i;break t}n(t,i);break}e(t,i),i=i.sibling}i=Ei(a,t.mode,u),i.return=t,t=i}return s(t)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==i&&6===i.tag?(n(t,i.sibling),i=o(i,a),i.return=t,t=i):(n(t,i),i=wi(a,t.mode,u),i.return=t,t=i),s(t);if(fu(a))return v(t,i,a,u);if(O(a))return y(t,i,a,u);if(l&&yn(t,a),"undefined"===typeof a&&!c)switch(t.tag){case 1:case 0:throw t=t.type,Error(r(152,t.displayName||t.name||"Component"))}return n(t,i)}}function mn(t){if(t===vu)throw Error(r(174));return t}function bn(t,e){switch(je(mu,e),je(gu,t),je(yu,vu),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Q(null,"");break;default:t=8===t?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Q(e,t)}Re(yu),je(yu,e)}function _n(){Re(yu),Re(gu),Re(mu)}function wn(t){mn(mu.current);var e=mn(yu.current),n=Q(e,t.type);e!==n&&(je(gu,t),je(yu,n))}function En(t){gu.current===t&&(Re(yu),Re(gu))}function Tn(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===wa||n.data===Ea))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function In(t,e){return{responder:t,props:e}}function On(){throw Error(r(321))}function Cn(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!us(t[n],e[n]))return!1;return!0}function Sn(t,e,n,i,o,a){if(Eu=a,Tu=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,_u.current=null===t||null===t.memoizedState?ku:Nu,t=n(i,o),e.expirationTime===Eu){a=0;do{if(e.expirationTime=0,!(25>a))throw Error(r(301));a+=1,Ou=Iu=null,e.updateQueue=null,_u.current=Au,t=n(i,o)}while(e.expirationTime===Eu)}if(_u.current=Su,e=null!==Iu&&null!==Iu.next,Eu=0,Ou=Iu=Tu=null,Cu=!1,e)throw Error(r(300));return t}function kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ou?Tu.memoizedState=Ou=t:Ou=Ou.next=t,Ou}function Nn(){if(null===Iu){var t=Tu.alternate;t=null!==t?t.memoizedState:null}else t=Iu.next;var e=null===Ou?Tu.memoizedState:Ou.next;if(null!==e)Ou=e,Iu=t;else{if(null===t)throw Error(r(310));Iu=t,t={memoizedState:Iu.memoizedState,baseState:Iu.baseState,baseQueue:Iu.baseQueue,queue:Iu.queue,next:null},null===Ou?Tu.memoizedState=Ou=t:Ou=Ou.next=t}return Ou}function An(t,e){return"function"===typeof e?e(t):e}function Pn(t){var e=Nn(),n=e.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=t;var i=Iu,o=i.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}i.baseQueue=o=a,n.pending=null}if(null!==o){o=o.next,i=i.baseState;var u=s=a=null,c=o;do{var l=c.expirationTime;if(l<Eu){var h={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=h,a=i):u=u.next=h,l>Tu.expirationTime&&(Tu.expirationTime=l,Jr(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),$r(l,c.suspenseConfig),i=c.eagerReducer===t?c.eagerState:t(i,c.action);c=c.next}while(null!==c&&c!==o);null===u?a=i:u.next=s,us(i,e.memoizedState)||(Du=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=u,n.lastRenderedState=i}return[e.memoizedState,n.dispatch]}function xn(t){var e=Nn(),n=e.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=t;var i=n.dispatch,o=n.pending,a=e.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=t(a,s.action),s=s.next}while(s!==o);us(a,e.memoizedState)||(Du=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function Rn(t){var e=kn();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:An,lastRenderedState:t},t=t.dispatch=Qn.bind(null,Tu,t),[e.memoizedState,t]}function jn(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Tu.updateQueue,null===e?(e={lastEffect:null},Tu.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,null===n?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Dn(){return Nn().memoizedState}function Ln(t,e,n,r){var i=kn();Tu.effectTag|=t,i.memoizedState=jn(1|e,n,void 0,void 0===r?null:r)}function Mn(t,e,n,r){var i=Nn();r=void 0===r?null:r;var o=void 0;if(null!==Iu){var a=Iu.memoizedState;if(o=a.destroy,null!==r&&Cn(r,a.deps))return void jn(e,n,o,r)}Tu.effectTag|=t,i.memoizedState=jn(1|e,n,o,r)}function Fn(t,e){return Ln(516,4,t,e)}function Un(t,e){return Mn(516,4,t,e)}function Vn(t,e){return Mn(4,2,t,e)}function qn(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Bn(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Mn(4,2,qn.bind(null,e,t),n)}function zn(){}function Wn(t,e){return kn().memoizedState=[t,void 0===e?null:e],t}function Kn(t,e){var n=Nn();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Cn(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Hn(t,e){var n=Nn();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Cn(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Gn(t,e,n){var r=Be();We(98>r?98:r,function(){t(!0)}),We(97<r?97:r,function(){var r=wu.suspense;wu.suspense=void 0===e?null:e;try{t(!1),n()}finally{wu.suspense=r}})}function Qn(t,e,n){var r=Mr(),i=cu.suspense;r=Fr(r,t,i),i={expirationTime:r,suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),e.pending=i,o=t.alternate,t===Tu||null!==o&&o===Tu)Cu=!0,i.expirationTime=Eu,Tu.expirationTime=Eu;else{if(0===t.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,us(s,a))return}catch(t){}Ur(t,r)}}function Yn(t,e){var n=vi(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Xn(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function $n(t){if(Ru){var e=xu;if(e){var n=e;if(!Xn(t,e)){if(!(e=Ht(n.nextSibling))||!Xn(t,e))return t.effectTag=-1025&t.effectTag|2,Ru=!1,void(Pu=t);Yn(Pu,n)}Pu=t,xu=Ht(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,Ru=!1,Pu=t}}function Jn(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Pu=t}function Zn(t){if(t!==Pu)return!1;if(!Ru)return Jn(t),Ru=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Kt(e,t.memoizedProps))for(e=xu;e;)Yn(t,e),e=Ht(e.nextSibling);if(Jn(t),13===t.tag){if(t=t.memoizedState,!(t=null!==t?t.dehydrated:null))throw Error(r(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if(n===_a){if(0===e){xu=Ht(t.nextSibling);break t}e--}else n!==ba&&n!==Ea&&n!==wa||e++}t=t.nextSibling}xu=null}}else xu=Pu?Ht(t.stateNode.nextSibling):null;return!0}function tr(){xu=Pu=null,Ru=!1}function er(t,e,n,r){e.child=null===t?du(e,null,n,r):pu(e,t.child,n,r)}function nr(t,e,n,r,i){n=n.render;var o=e.ref;return tn(e,i),r=Sn(t,e,n,r,o,i),null===t||Du?(e.effectTag|=1,er(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),dr(t,e,i))}function rr(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||yi(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?(t=bi(n.type,null,r,null,e.mode,o),t.ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,ir(t,e,a,r,i,o))}return a=t.child,i<o&&(i=a.memoizedProps,n=n.compare,(n=null!==n?n:Ae)(i,r)&&t.ref===e.ref)?dr(t,e,o):(e.effectTag|=1,t=mi(a,r),t.ref=e.ref,t.return=e,e.child=t)}function ir(t,e,n,r,i,o){return null!==t&&Ae(t.memoizedProps,r)&&t.ref===e.ref&&(Du=!1,i<o)?(e.expirationTime=t.expirationTime,dr(t,e,o)):ar(t,e,n,r,o)}function or(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function ar(t,e,n,r,i){var o=Le(n)?Fs:Ls.current;return o=De(e,o),tn(e,i),n=Sn(t,e,n,r,o,i),null===t||Du?(e.effectTag|=1,er(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),dr(t,e,i))}function sr(t,e,n,r,i){if(Le(n)){var o=!0;Ve(e)}else o=!1;if(tn(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),fn(e,n,r),dn(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=en(c):(c=Le(n)?Fs:Ls.current,c=De(e,c));var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&pn(e,a,r,c),uu=!1;var f=e.memoizedState;a.state=f,un(e,r,a,i),u=e.memoizedState,s!==r||f!==u||Ms.current||uu?("function"===typeof l&&(ln(e,n,l,r),u=e.memoizedState),(s=uu||hn(e,n,s,r,f,u,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.effectTag|=4)):("function"===typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,rn(t,e),s=e.memoizedProps,a.props=e.type===e.elementType?s:Xe(e.type,s),u=a.context,c=n.contextType,"object"===typeof c&&null!==c?c=en(c):(c=Le(n)?Fs:Ls.current,c=De(e,c)),l=n.getDerivedStateFromProps,(h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&pn(e,a,r,c),uu=!1,u=e.memoizedState,a.state=u,un(e,r,a,i),f=e.memoizedState,s!==r||u!==f||Ms.current||uu?("function"===typeof l&&(ln(e,n,l,r),f=e.memoizedState),(l=uu||hn(e,n,s,r,u,f,c))?(h||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,c)),"function"===typeof a.componentDidUpdate&&(e.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=f),a.props=r,a.state=f,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),r=!1);return ur(t,e,n,r,o,i)}function ur(t,e,n,r,i,o){or(t,e);var a=0!==(64&e.effectTag);if(!r&&!a)return i&&qe(e,n,!1),dr(t,e,o);r=e.stateNode,ju.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=pu(e,t.child,null,o),e.child=pu(e,null,s,o)):er(t,e,s,o),e.memoizedState=r.state,i&&qe(e,n,!0),e.child}function cr(t){var e=t.stateNode;e.pendingContext?Fe(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Fe(t,e.context,!1),bn(t,e.containerInfo)}function lr(t,e,n){var r,i=e.mode,o=e.pendingProps,a=bu.current,s=!1;if((r=0!==(64&e.effectTag))||(r=0!==(2&a)&&(null===t||null!==t.memoizedState)),r?(s=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),je(bu,1&a),null===t){if(void 0!==o.fallback&&$n(e),s){if(s=o.fallback,o=_i(null,i,0,null),o.return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return n=_i(s,i,n,null),n.return=e,o.sibling=n,e.memoizedState=Lu,e.child=o,n}return i=o.children,e.memoizedState=null,e.child=du(e,null,i,n)}if(null!==t.memoizedState){if(t=t.child,i=t.sibling,s){if(o=o.fallback,n=mi(t,t.pendingProps),n.return=e,0===(2&e.mode)&&(s=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return i=mi(i,o),i.return=e,n.sibling=i,n.childExpirationTime=0,e.memoizedState=Lu,e.child=n,i}return n=pu(e,t.child,o.children,n),e.memoizedState=null,e.child=n}if(t=t.child,s){if(s=o.fallback,o=_i(null,i,0,null),o.return=e,o.child=t,null!==t&&(t.return=o),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return n=_i(s,i,n,null),n.return=e,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,e.memoizedState=Lu,e.child=o,n}return e.memoizedState=null,e.child=pu(e,t,o.children,n)}function hr(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),Ze(t.return,e)}function fr(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function pr(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(er(t,e,r.children,n),0!==(2&(r=bu.current)))r=1&r|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&hr(t,n);else if(19===t.tag)hr(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(je(bu,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)t=n.alternate,null!==t&&null===Tn(t)&&(i=n),n=n.sibling;n=i,null===n?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),fr(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Tn(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}fr(e,!0,n,null,o,e.lastEffect);break;case"together":fr(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function dr(t,e,n){null!==t&&(e.dependencies=t.dependencies);var i=e.expirationTime;if(0!==i&&Jr(i),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(r(153));if(null!==e.child){for(t=e.child,n=mi(t,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,n=n.sibling=mi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function vr(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function yr(t,e,n){var i=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Le(e.type)&&Me(),null;case 3:return _n(),Re(Ms),Re(Ls),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||!Zn(e)||(e.effectTag|=4),As(e),null;case 5:En(e),n=mn(mu.current);var o=e.type;if(null!==t&&null!=e.stateNode)Ps(t,e,o,i,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!i){if(null===e.stateNode)throw Error(r(166));return null}if(t=mn(yu.current),Zn(e)){i=e.stateNode,o=e.type;var a=e.memoizedProps;switch(i[ka]=e,i[Na]=a,o){case"iframe":case"object":case"embed":Ct("load",i);break;case"video":case"audio":for(t=0;t<Ho.length;t++)Ct(Ho[t],i);break;case"source":Ct("error",i);break;case"img":case"image":case"link":Ct("error",i),Ct("load",i);break;case"form":Ct("reset",i),Ct("submit",i);break;case"details":Ct("toggle",i);break;case"input":D(i,a),Ct("invalid",i),Lt(n,"onChange");break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Ct("invalid",i),Lt(n,"onChange");break;case"textarea":W(i,a),Ct("invalid",i),Lt(n,"onChange")}jt(o,a),t=null;for(var s in a)if(a.hasOwnProperty(s)){var u=a[s];"children"===s?"string"===typeof u?i.textContent!==u&&(t=["children",u]):"number"===typeof u&&i.textContent!==""+u&&(t=["children",""+u]):Zi.hasOwnProperty(s)&&null!=u&&Lt(n,s)}switch(o){case"input":x(i),F(i,a,!0);break;case"textarea":x(i),H(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=Mt)}n=t,e.updateQueue=n,null!==n&&(e.effectTag|=4)}else{switch(s=9===n.nodeType?n:n.ownerDocument,t===ma&&(t=G(o)),t===ma?"script"===o?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=s.createElement(o,{is:i.is}):(t=s.createElement(o),"select"===o&&(s=t,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):t=s.createElementNS(t,o),t[ka]=e,t[Na]=i,Ns(t,e,!1,!1),e.stateNode=t,s=Dt(o,i),o){case"iframe":case"object":case"embed":Ct("load",t),u=i;break;case"video":case"audio":for(u=0;u<Ho.length;u++)Ct(Ho[u],t);u=i;break;case"source":Ct("error",t),u=i;break;case"img":case"image":case"link":Ct("error",t),Ct("load",t),u=i;break;case"form":Ct("reset",t),Ct("submit",t),u=i;break;case"details":Ct("toggle",t),u=i;break;case"input":D(t,i),u=j(t,i),Ct("invalid",t),Lt(n,"onChange");break;case"option":u=q(t,i);break;case"select":t._wrapperState={wasMultiple:!!i.multiple},u=Ui({},i,{value:void 0}),Ct("invalid",t),Lt(n,"onChange");break;case"textarea":W(t,i),u=z(t,i),Ct("invalid",t),Lt(n,"onChange");break;default:u=i}jt(o,u);var c=u;for(a in c)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?Rt(t,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&Do(t,l):"children"===a?"string"===typeof l?("textarea"!==o||""!==l)&&Y(t,l):"number"===typeof l&&Y(t,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Zi.hasOwnProperty(a)?null!=l&&Lt(n,a):null!=l&&I(t,a,l,s))}switch(o){case"input":x(t),F(t,i,!1);break;case"textarea":x(t),H(t);break;case"option":null!=i.value&&t.setAttribute("value",""+N(i.value));break;case"select":t.multiple=!!i.multiple,n=i.value,null!=n?B(t,!!i.multiple,n,!1):null!=i.defaultValue&&B(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof u.onClick&&(t.onclick=Mt)}Wt(o,i)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)xs(t,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(r(166));n=mn(mu.current),mn(yu.current),Zn(e)?(n=e.stateNode,i=e.memoizedProps,n[ka]=e,n.nodeValue!==i&&(e.effectTag|=4)):(n=(9===n.nodeType?n:n.ownerDocument).createTextNode(i),n[ka]=e,e.stateNode=n)}return null;case 13:return Re(bu),(i=e.memoizedState,0!==(64&e.effectTag))?(e.expirationTime=n,e):(n=null!==i,i=!1,null===t?void 0!==e.memoizedProps.fallback&&Zn(e):(o=t.memoizedState,i=null!==o,n||null===o||null!==(o=t.child.sibling)&&(a=e.firstEffect,null!==a?(e.firstEffect=o,o.nextEffect=a):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!i&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&bu.current)?rc===Gu&&(rc=Xu):(rc!==Gu&&rc!==Xu||(rc=$u),0!==uc&&null!==tc&&(Oi(tc,nc),Ci(tc,uc)))),(n||i)&&(e.effectTag|=4),null);case 4:return _n(),As(e),null;case 10:return Je(e),null;case 17:return Le(e.type)&&Me(),null;case 19:if(Re(bu),null===(i=e.memoizedState))return null;if(o=0!==(64&e.effectTag),null===(a=i.rendering)){if(o)vr(i,!1);else if(rc!==Gu||null!==t&&0!==(64&t.effectTag))for(a=e.child;null!==a;){if(null!==(t=Tn(a))){for(e.effectTag|=64,vr(i,!1),o=t.updateQueue,null!==o&&(e.updateQueue=o,e.effectTag|=4),null===i.lastEffect&&(e.firstEffect=null),e.lastEffect=i.lastEffect,i=e.child;null!==i;)o=i,a=n,o.effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,t=o.alternate,null===t?(o.childExpirationTime=0,o.expirationTime=a,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=t.childExpirationTime,o.expirationTime=t.expirationTime,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,a=t.dependencies,o.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),i=i.sibling;return je(bu,1&bu.current|2),e.child}a=a.sibling}}else{if(!o)if(null!==(t=Tn(a))){if(e.effectTag|=64,o=!0,n=t.updateQueue,null!==n&&(e.updateQueue=n,e.effectTag|=4),vr(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate)return e=e.lastEffect=i.lastEffect,null!==e&&(e.nextEffect=null),null}else 2*ru()-i.renderingStartTime>i.tailExpiration&&1<n&&(e.effectTag|=64,o=!0,vr(i,!1),e.expirationTime=e.childExpirationTime=n-1);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,null!==n?n.sibling=a:e.child=a,i.last=a)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=ru()+500),n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=e.lastEffect,i.renderingStartTime=ru(),n.sibling=null,e=bu.current,je(bu,o?1&e|2:1&e),n):null}throw Error(r(156,e.tag))}function gr(t){switch(t.tag){case 1:Le(t.type)&&Me();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(_n(),Re(Ms),Re(Ls),0!==(64&(e=t.effectTag)))throw Error(r(285));return t.effectTag=-4097&e|64,t;case 5:return En(t),null;case 13:return Re(bu),e=t.effectTag,4096&e?(t.effectTag=-4097&e|64,t):null;case 19:return Re(bu),null;case 4:return _n(),null;case 10:return Je(t),null;default:return null}}function mr(t,e){return{value:t,source:e,stack:k(e)}}function br(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=k(n)),null!==n&&S(n.type),e=e.value,null!==t&&1===t.tag&&S(t.type);try{console.error(e)}catch(t){setTimeout(function(){throw t})}}function _r(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){li(t,e)}}function wr(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(e){li(t,e)}else e.current=null}function Er(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,i=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:Xe(e.type,n),i),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(r(163))}function Tr(t,e){if(e=e.updateQueue,null!==(e=null!==e?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==e)}}function Ir(t,e){if(e=e.updateQueue,null!==(e=null!==e?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Or(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void Ir(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var i=n.elementType===n.type?e.memoizedProps:Xe(n.type,e.memoizedProps);t.componentDidUpdate(i,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&cn(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}cn(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&Wt(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&null!==(n=n.alternate)&&null!==(n=n.memoizedState)&&null!==(n=n.dehydrated)&&It(n));case 19:case 17:case 20:case 21:return}throw Error(r(163))}function Cr(t,e,n){switch("function"===typeof Ic&&Ic(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t.next;We(97<n?97:n,function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(t){li(i,t)}}t=t.next}while(t!==r)})}break;case 1:wr(e),n=e.stateNode,"function"===typeof n.componentWillUnmount&&_r(e,n);break;case 5:wr(e);break;case 4:xr(t,e,n)}}function Sr(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&Sr(e)}function kr(t){return 5===t.tag||3===t.tag||4===t.tag}function Nr(t){t:{for(var e=t.return;null!==e;){if(kr(e)){var n=e;break t}e=e.return}throw Error(r(160))}switch(e=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:e=e.containerInfo,i=!0;break;default:throw Error(r(161))}16&n.effectTag&&(Y(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||kr(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}i?Ar(t,n,e):Pr(t,n,e)}function Ar(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Mt));else if(4!==r&&null!==(t=t.child))for(Ar(t,e,n),t=t.sibling;null!==t;)Ar(t,e,n),t=t.sibling}function Pr(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(Pr(t,e,n),t=t.sibling;null!==t;)Pr(t,e,n),t=t.sibling}function xr(t,e,n){for(var i,o,a=e,s=!1;;){if(!s){s=a.return;t:for(;;){if(null===s)throw Error(r(160));switch(i=s.stateNode,s.tag){case 5:o=!1;break t;case 3:case 4:i=i.containerInfo,o=!0;break t}s=s.return}s=!0}if(5===a.tag||6===a.tag){t:for(var u=t,c=a,l=n,h=c;;)if(Cr(u,h,l),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===c)break t;for(;null===h.sibling;){if(null===h.return||h.return===c)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}o?(u=i,c=a.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):i.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){i=a.stateNode.containerInfo,o=!0,a.child.return=a,a=a.child;continue}}else if(Cr(t,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)return;a=a.return,4===a.tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function Rr(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void Tr(3,e);case 1:return;case 5:var n=e.stateNode;if(null!=n){var i=e.memoizedProps,o=null!==t?t.memoizedProps:i;t=e.type;var a=e.updateQueue;if(e.updateQueue=null,null!==a){for(n[Na]=i,"input"===t&&"radio"===i.type&&null!=i.name&&L(n,i),Dt(t,o),e=Dt(t,i),o=0;o<a.length;o+=2){var s=a[o],u=a[o+1];"style"===s?Rt(n,u):"dangerouslySetInnerHTML"===s?Do(n,u):"children"===s?Y(n,u):I(n,s,u,e)}switch(t){case"input":M(n,i);break;case"textarea":K(n,i);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,t=i.value,null!=t?B(n,!!i.multiple,t,!1):e!==!!i.multiple&&(null!=i.defaultValue?B(n,!!i.multiple,i.defaultValue,!0):B(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(r(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return e=e.stateNode,void(e.hydrate&&(e.hydrate=!1,It(e.containerInfo)));case 12:return;case 13:if(n=e,null===e.memoizedState?i=!1:(i=!0,n=e.child,lc=ru()),null!==n)t:for(t=n;;){if(5===t.tag)a=t.stateNode,i?(a=a.style,"function"===typeof a.setProperty?a.setProperty("display","none","important"):a.display="none"):(a=t.stateNode,o=t.memoizedProps.style,o=void 0!==o&&null!==o&&o.hasOwnProperty("display")?o.display:null,a.style.display=xt("display",o));else if(6===t.tag)t.stateNode.nodeValue=i?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){a=t.child.sibling,a.return=t,t=a;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void jr(e);case 19:return void jr(e);case 17:return}throw Error(r(163))}function jr(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Fu),e.forEach(function(e){var r=fi.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))})}}function Dr(t,e,n){n=on(n,null),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){pc||(pc=!0,dc=r),br(t,e)},n}function Lr(t,e,n){n=on(n,null),n.tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return br(t,e),r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===vc?vc=new Set([this]):vc.add(this),br(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}function Mr(){return(Zu&(Ku|Hu))!==zu?1073741821-(ru()/10|0):0!==Ec?Ec:Ec=1073741821-(ru()/10|0)}function Fr(t,e,n){if(0===(2&(e=e.mode)))return 1073741823;var i=Be();if(0===(4&e))return 99===i?1073741823:1073741822;if((Zu&Ku)!==zu)return nc;if(null!==n)t=Ye(t,0|n.timeoutMs||5e3,250);else switch(i){case 99:t=1073741823;break;case 98:t=Ye(t,150,100);break;case 97:case 96:t=Ye(t,5e3,250);break;case 95:t=2;break;default:throw Error(r(326))}return null!==tc&&t===nc&&--t,t}function Ur(t,e){if(50<_c)throw _c=0,wc=null,Error(r(185));if(null!==(t=Vr(t,e))){var n=Be();1073741823===e?(Zu&Wu)!==zu&&(Zu&(Ku|Hu))===zu?Wr(t):(Br(t),Zu===zu&&Ge()):Br(t),(4&Zu)===zu||98!==n&&99!==n||(null===bc?bc=new Map([[t,e]]):(void 0===(n=bc.get(t))||n>e)&&bc.set(t,e))}}function Vr(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(tc===i&&(Jr(e),rc===$u&&Oi(i,nc)),Ci(i,e)),i}function qr(t){var e=t.lastExpiredTime;if(0!==e)return e;if(e=t.firstPendingTime,!Ii(t,e))return e;var n=t.lastPingedTime;return t=t.nextKnownPendingLevel,t=n>t?n:t,2>=t&&e!==t?0:t}function Br(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=He(Wr.bind(null,t));else{var e=qr(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=Mr();if(1073741823===e?r=99:1===e||2===e?r=95:(r=10*(1073741821-e)-10*(1073741821-r),r=0>=r?99:250>=r?98:5250>=r?97:95),null!==n){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=r)return;n!==Xs&&qs(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=1073741823===e?He(Wr.bind(null,t)):Ke(r,zr.bind(null,t),{timeout:10*(1073741821-e)-ru()}),t.callbackNode=e}}}function zr(t,e){if(Ec=0,e)return e=Mr(),Si(t,e),Br(t),null;var n=qr(t);if(0!==n){if(e=t.callbackNode,(Zu&(Ku|Hu))!==zu)throw Error(r(327));if(si(),t===tc&&n===nc||Qr(t,n),null!==ec){var i=Zu;Zu|=Ku;for(var o=Xr();;)try{ti();break}catch(e){Yr(t,e)}if($e(),Zu=i,qu.current=o,rc===Qu)throw e=ic,Qr(t,n),Oi(t,n),Br(t),e;if(null===ec)switch(o=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,i=rc,tc=null,i){case Gu:case Qu:throw Error(r(345));case Yu:Si(t,2<n?2:n);break;case Xu:if(Oi(t,n),i=t.lastSuspendedTime,n===i&&(t.nextKnownPendingLevel=ri(o)),1073741823===oc&&10<(o=lc+hc-ru())){if(cc){var a=t.lastPingedTime;if(0===a||a>=n){t.lastPingedTime=n,Qr(t,n);break}}if(0!==(a=qr(t))&&a!==n)break;if(0!==i&&i!==n){t.lastPingedTime=i;break}t.timeoutHandle=Oa(ii.bind(null,t),o);break}ii(t);break;case $u:if(Oi(t,n),i=t.lastSuspendedTime,n===i&&(t.nextKnownPendingLevel=ri(o)),cc&&(0===(o=t.lastPingedTime)||o>=n)){t.lastPingedTime=n,Qr(t,n);break}if(0!==(o=qr(t))&&o!==n)break;if(0!==i&&i!==n){t.lastPingedTime=i;break}if(1073741823!==ac?i=10*(1073741821-ac)-ru():1073741823===oc?i=0:(i=10*(1073741821-oc)-5e3,o=ru(),n=10*(1073741821-n)-o,i=o-i,0>i&&(i=0),i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Vu(i/1960))-i,n<i&&(i=n)),10<i){t.timeoutHandle=Oa(ii.bind(null,t),i);break}ii(t);break;case Ju:if(1073741823!==oc&&null!==sc){a=oc;var s=sc;if(i=0|s.busyMinDurationMs,0>=i?i=0:(o=0|s.busyDelayMs,a=ru()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)),i=a<=o?0:o+i-a),10<i){Oi(t,n),t.timeoutHandle=Oa(ii.bind(null,t),i);break}}ii(t);break;default:throw Error(r(329))}if(Br(t),t.callbackNode===e)return zr.bind(null,t)}}return null}function Wr(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,(Zu&(Ku|Hu))!==zu)throw Error(r(327));if(si(),t===tc&&e===nc||Qr(t,e),null!==ec){var n=Zu;Zu|=Ku;for(var i=Xr();;)try{Zr();break}catch(e){Yr(t,e)}if($e(),Zu=n,qu.current=i,rc===Qu)throw n=ic,Qr(t,e),Oi(t,e),Br(t),n;if(null!==ec)throw Error(r(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,tc=null,ii(t),Br(t)}return null}function Kr(){if(null!==bc){var t=bc;bc=null,t.forEach(function(t,e){Si(e,t),Br(e)}),Ge()}}function Hr(t,e){var n=Zu;Zu|=1;try{return t(e)}finally{(Zu=n)===zu&&Ge()}}function Gr(t,e){var n=Zu;Zu&=-2,Zu|=Wu;try{return t(e)}finally{(Zu=n)===zu&&Ge()}}function Qr(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Ca(n)),null!==ec)for(n=ec.return;null!==n;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,null!==r&&void 0!==r&&Me();break;case 3:_n(),Re(Ms),Re(Ls);break;case 5:En(r);break;case 4:_n();break;case 13:case 19:Re(bu);break;case 10:Je(r)}n=n.return}tc=t,ec=mi(t.current,null),nc=e,rc=Gu,ic=null,ac=oc=1073741823,sc=null,uc=0,cc=!1}function Yr(t,e){for(;;){try{if($e(),_u.current=Su,Cu)for(var n=Tu.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Eu=0,Ou=Iu=Tu=null,Cu=!1,null===ec||null===ec.return)return rc=Qu,ic=e,ec=null;t:{var i=t,o=ec.return,a=ec,s=e;if(e=nc,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var l=0!==(1&bu.current),h=o;do{var f;if(f=13===h.tag){var p=h.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var d=h.memoizedProps;f=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!l)}}if(f){var v=h.updateQueue;if(null===v){var y=new Set;y.add(u),h.updateQueue=y}else v.add(u);if(0===(2&h.mode)){if(h.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var g=on(1073741823,null);g.tag=2,an(a,g)}a.expirationTime=1073741823;break t}s=void 0,a=e;var m=i.pingCache;if(null===m?(m=i.pingCache=new Uu,s=new Set,m.set(u,s)):void 0===(s=m.get(u))&&(s=new Set,m.set(u,s)),!s.has(a)){s.add(a);var b=hi.bind(null,i,u,a);u.then(b,b)}h.effectTag|=4096,h.expirationTime=e;break t}h=h.return}while(null!==h);s=Error((S(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+k(a))}rc!==Ju&&(rc=Yu),s=mr(s,a),h=o;do{switch(h.tag){case 3:u=s,h.effectTag|=4096,h.expirationTime=e;sn(h,Dr(h,u,e));break t;case 1:u=s;var _=h.type,w=h.stateNode;if(0===(64&h.effectTag)&&("function"===typeof _.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===vc||!vc.has(w)))){h.effectTag|=4096,h.expirationTime=e;sn(h,Lr(h,u,e));break t}}h=h.return}while(null!==h)}ec=ni(ec)}catch(t){e=t;continue}break}}function Xr(){var t=qu.current;return qu.current=Su,null===t?Su:t}function $r(t,e){t<oc&&2<t&&(oc=t),null!==e&&t<ac&&2<t&&(ac=t,sc=e)}function Jr(t){t>uc&&(uc=t)}function Zr(){for(;null!==ec;)ec=ei(ec)}function ti(){for(;null!==ec&&!$s();)ec=ei(ec)}function ei(t){var e=Mu(t.alternate,t,nc);return t.memoizedProps=t.pendingProps,null===e&&(e=ni(t)),Bu.current=null,e}function ni(t){ec=t;do{var e=ec.alternate;if(t=ec.return,0===(2048&ec.effectTag)){if(e=yr(e,ec,nc),1===nc||1!==ec.childExpirationTime){for(var n=0,r=ec.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}ec.childExpirationTime=n}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=ec.firstEffect),null!==ec.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=ec.firstEffect),t.lastEffect=ec.lastEffect),1<ec.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=ec:t.firstEffect=ec,t.lastEffect=ec))}else{if(null!==(e=gr(ec)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=ec.sibling))return e;ec=t}while(null!==ec);return rc===Gu&&(rc=Ju),null}function ri(t){var e=t.expirationTime;return t=t.childExpirationTime,e>t?e:t}function ii(t){var e=Be();return We(99,oi.bind(null,t,e)),null}function oi(t,e){do{si()}while(null!==gc);if((Zu&(Ku|Hu))!==zu)throw Error(r(327));var n=t.finishedWork,i=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(r(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var o=ri(n);if(t.firstPendingTime=o,i<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:i<=t.firstSuspendedTime&&(t.firstSuspendedTime=i-1),i<=t.lastPingedTime&&(t.lastPingedTime=0),i<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===tc&&(ec=tc=null,nc=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,o=n.firstEffect):o=n:o=n.firstEffect,null!==o){var a=Zu;Zu|=Hu,Bu.current=null,Ta=da;var s=Bt();if(zt(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else t:{u=(u=s.ownerDocument)&&u.defaultView||window;var c=u.getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{u.nodeType,h.nodeType}catch(t){u=null;break t}var f=0,p=-1,d=-1,v=0,y=0,g=s,m=null;e:for(;;){for(var b;g!==u||0!==l&&3!==g.nodeType||(p=f+l),g!==h||0!==c&&3!==g.nodeType||(d=f+c),3===g.nodeType&&(f+=g.nodeValue.length),null!==(b=g.firstChild);)m=g,g=b;for(;;){if(g===s)break e;if(m===u&&++v===l&&(p=f),m===h&&++y===c&&(d=f),null!==(b=g.nextSibling))break;g=m,m=g.parentNode}g=b}u=-1===p||-1===d?null:{start:p,end:d}}else u=null}u=u||{start:0,end:0}}else u=null;Ia={activeElementDetached:null,focusedElem:s,selectionRange:u},da=!1,fc=o;do{try{ai()}catch(t){if(null===fc)throw Error(r(330));li(fc,t),fc=fc.nextEffect}}while(null!==fc);fc=o;do{try{for(s=t,u=e;null!==fc;){var _=fc.effectTag;if(16&_&&Y(fc.stateNode,""),128&_){var w=fc.alternate;if(null!==w){var E=w.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(1038&_){case 2:Nr(fc),fc.effectTag&=-3;break;case 6:Nr(fc),fc.effectTag&=-3,Rr(fc.alternate,fc);break;case 1024:fc.effectTag&=-1025;break;case 1028:fc.effectTag&=-1025,Rr(fc.alternate,fc);break;case 4:Rr(fc.alternate,fc);break;case 8:l=fc,xr(s,l,u),Sr(l)}fc=fc.nextEffect}}catch(t){if(null===fc)throw Error(r(330));li(fc,t),fc=fc.nextEffect}}while(null!==fc);if(E=Ia,w=Bt(),_=E.focusedElem,u=E.selectionRange,w!==_&&_&&_.ownerDocument&&qt(_.ownerDocument.documentElement,_)){null!==u&&zt(_)&&(w=u.start,E=u.end,void 0===E&&(E=w),"selectionStart"in _?(_.selectionStart=w,_.selectionEnd=Math.min(E,_.value.length)):(E=(w=_.ownerDocument||document)&&w.defaultView||window,E.getSelection&&(E=E.getSelection(),l=_.textContent.length,s=Math.min(u.start,l),u=void 0===u.end?s:Math.min(u.end,l),!E.extend&&s>u&&(l=u,u=s,s=l),l=Vt(_,s),h=Vt(_,u),l&&h&&(1!==E.rangeCount||E.anchorNode!==l.node||E.anchorOffset!==l.offset||E.focusNode!==h.node||E.focusOffset!==h.offset)&&(w=w.createRange(),w.setStart(l.node,l.offset),E.removeAllRanges(),s>u?(E.addRange(w),E.extend(h.node,h.offset)):(w.setEnd(h.node,h.offset),E.addRange(w)))))),w=[];for(E=_;E=E.parentNode;)1===E.nodeType&&w.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<w.length;_++)E=w[_],E.element.scrollLeft=E.left,E.element.scrollTop=E.top}da=!!Ta,Ia=Ta=null,t.current=n,fc=o;do{try{for(_=t;null!==fc;){var T=fc.effectTag;if(36&T&&Or(_,fc.alternate,fc),128&T){w=void 0;var I=fc.ref;if(null!==I){var O=fc.stateNode;switch(fc.tag){case 5:w=O;break;default:w=O}"function"===typeof I?I(w):I.current=w}}fc=fc.nextEffect}}catch(t){if(null===fc)throw Error(r(330));li(fc,t),fc=fc.nextEffect}}while(null!==fc);fc=null,Js(),Zu=a}else t.current=n;if(yc)yc=!1,gc=t,mc=e;else for(fc=o;null!==fc;)e=fc.nextEffect,fc.nextEffect=null,fc=e;if(e=t.firstPendingTime,0===e&&(vc=null),1073741823===e?t===wc?_c++:(_c=0,wc=t):_c=0,"function"===typeof Tc&&Tc(n.stateNode,i),Br(t),pc)throw pc=!1,t=dc,dc=null,t;return(Zu&Wu)!==zu?null:(Ge(),null)}function ai(){for(;null!==fc;){var t=fc.effectTag;0!==(256&t)&&Er(fc.alternate,fc),0===(512&t)||yc||(yc=!0,Ke(97,function(){return si(),null})),fc=fc.nextEffect}}function si(){if(90!==mc){var t=97<mc?97:mc;return mc=90,We(t,ui)}}function ui(){if(null===gc)return!1;var t=gc;if(gc=null,(Zu&(Ku|Hu))!==zu)throw Error(r(331));var e=Zu;for(Zu|=Hu,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:Tr(5,n),Ir(5,n)}}catch(e){if(null===t)throw Error(r(330));li(t,e)}n=t.nextEffect,t.nextEffect=null,t=n}return Zu=e,Ge(),!0}function ci(t,e,n){e=mr(n,e),e=Dr(t,e,1073741823),an(t,e),null!==(t=Vr(t,1073741823))&&Br(t)}function li(t,e){if(3===t.tag)ci(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){ci(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===vc||!vc.has(r))){t=mr(e,t),t=Lr(n,t,1073741823),an(n,t),n=Vr(n,1073741823),null!==n&&Br(n);break}}n=n.return}}function hi(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),tc===t&&nc===n?rc===$u||rc===Xu&&1073741823===oc&&ru()-lc<hc?Qr(t,nc):cc=!0:Ii(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,Br(t)))}function fi(t,e){var n=t.stateNode;null!==n&&n.delete(e),e=0,0===e&&(e=Mr(),e=Fr(e,t,null)),null!==(t=Vr(t,e))&&Br(t)}function pi(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);Tc=function(t){try{e.onCommitFiberRoot(n,t,void 0,64===(64&t.current.effectTag))}catch(t){}},Ic=function(t){try{e.onCommitFiberUnmount(n,t)}catch(t){}}}catch(t){}return!0}function di(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function vi(t,e,n,r){return new di(t,e,n,r)}function yi(t){return!(!(t=t.prototype)||!t.isReactComponent)}function gi(t){if("function"===typeof t)return yi(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===So)return 11;if(t===Ao)return 14}return 2}function mi(t,e){var n=t.alternate;return null===n?(n=vi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bi(t,e,n,i,o,a){var s=2;if(i=t,"function"===typeof t)yi(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case wo:return _i(n.children,o,a,e);case Co:s=8,o|=7;break;case Eo:s=8,o|=1;break;case To:return t=vi(12,n,e,8|o),t.elementType=To,t.type=To,t.expirationTime=a,t;case ko:return t=vi(13,n,e,o),t.type=ko,t.elementType=ko,t.expirationTime=a,t;case No:return t=vi(19,n,e,o),t.elementType=No,t.expirationTime=a,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case Io:s=10;break t;case Oo:s=9;break t;case So:s=11;break t;case Ao:s=14;break t;case Po:s=16,i=null;break t;case xo:s=22;break t}throw Error(r(130,null==t?t:typeof t,""))}return e=vi(s,n,e,o),e.elementType=t,e.type=i,e.expirationTime=a,e}function _i(t,e,n,r){return t=vi(7,t,r,e),t.expirationTime=n,t}function wi(t,e,n){return t=vi(6,t,null,e),t.expirationTime=n,t}function Ei(t,e,n){return e=vi(4,null!==t.children?t.children:[],t.key,e),e.expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ti(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Ii(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function Oi(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Ci(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Si(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function ki(t,e,n,i){var o=e.current,a=Mr(),s=cu.suspense;a=Fr(a,o,s);t:if(n){n=n._reactInternalFiber;e:{if(Z(n)!==n||1!==n.tag)throw Error(r(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Le(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(r(171))}if(1===n.tag){var c=n.type;if(Le(c)){n=Ue(n,c,u);break t}}n=u}else n=Ds;return null===e.context?e.context=n:e.pendingContext=n,e=on(a,s),e.payload={element:t},i=void 0===i?null:i,null!==i&&(e.callback=i),an(o,e),Ur(o,a),a}function Ni(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Ai(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function Pi(t,e){Ai(t,e),(t=t.alternate)&&Ai(t,e)}function xi(t,e,n){n=null!=n&&!0===n.hydrate;var r=new Ti(t,e,n),i=vi(3,null,null,2===e?7:1===e?3:0);r.current=i,i.stateNode=r,nn(i),t[Aa]=r.current,n&&0!==e&&dt(t,9===t.nodeType?t:t.ownerDocument),this._internalRoot=r}function Ri(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function ji(t,e){if(e||(e=t?9===t.nodeType?t.documentElement:t.firstChild:null,e=!(!e||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new xi(t,0,e?{hydrate:!0}:void 0)}function Di(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var t=Ni(a);s.call(t)}}ki(e,a,t,i)}else{if(o=n._reactRootContainer=ji(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var t=Ni(a);u.call(t)}}Gr(function(){ki(e,a,t,i)})}return Ni(a)}function Li(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_o,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Mi(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ri(e))throw Error(r(200));return Li(t,e,null,n)}var Fi=n(8),Ui=n(7),Vi=n(23);if(!Fi)throw Error(r(227));var qi=!1,Bi=null,zi=!1,Wi=null,Ki={onError:function(t){qi=!0,Bi=t}},Hi=null,Gi=null,Qi=null,Yi=null,Xi={},$i=[],Ji={},Zi={},to={},eo=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),no=null,ro=null,io=null,oo=d,ao=!1,so=!1,uo=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,co=Object.prototype.hasOwnProperty,lo={},ho={},fo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fo[t]=new E(t,0,!1,t,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fo[e]=new E(e,1,!1,t[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){fo[t]=new E(t,2,!1,t.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fo[t]=new E(t,2,!1,t,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fo[t]=new E(t,3,!1,t.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(t){fo[t]=new E(t,3,!0,t,null,!1)}),["capture","download"].forEach(function(t){fo[t]=new E(t,4,!1,t,null,!1)}),["cols","rows","size","span"].forEach(function(t){fo[t]=new E(t,6,!1,t,null,!1)}),["rowSpan","start"].forEach(function(t){fo[t]=new E(t,5,!1,t.toLowerCase(),null,!1)});var po=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(po,T);fo[e]=new E(e,1,!1,t,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(po,T);fo[e]=new E(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(po,T);fo[e]=new E(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(t){fo[t]=new E(t,1,!1,t.toLowerCase(),null,!1)}),fo.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(t){fo[t]=new E(t,1,!1,t.toLowerCase(),null,!0)});var vo=Fi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;vo.hasOwnProperty("ReactCurrentDispatcher")||(vo.ReactCurrentDispatcher={current:null}),vo.hasOwnProperty("ReactCurrentBatchConfig")||(vo.ReactCurrentBatchConfig={suspense:null});var yo,go=/^(.*)[\\\/]/,mo="function"===typeof Symbol&&Symbol.for,bo=mo?Symbol.for("react.element"):60103,_o=mo?Symbol.for("react.portal"):60106,wo=mo?Symbol.for("react.fragment"):60107,Eo=mo?Symbol.for("react.strict_mode"):60108,To=mo?Symbol.for("react.profiler"):60114,Io=mo?Symbol.for("react.provider"):60109,Oo=mo?Symbol.for("react.context"):60110,Co=mo?Symbol.for("react.concurrent_mode"):60111,So=mo?Symbol.for("react.forward_ref"):60112,ko=mo?Symbol.for("react.suspense"):60113,No=mo?Symbol.for("react.suspense_list"):60120,Ao=mo?Symbol.for("react.memo"):60115,Po=mo?Symbol.for("react.lazy"):60116,xo=mo?Symbol.for("react.block"):60121,Ro="function"===typeof Symbol&&Symbol.iterator,jo={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},Do=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n)})}:t}(function(t,e){if(t.namespaceURI!==jo.svg||"innerHTML"in t)t.innerHTML=e;else{for(yo=yo||document.createElement("div"),yo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}),Lo={animationend:X("Animation","AnimationEnd"),animationiteration:X("Animation","AnimationIteration"),animationstart:X("Animation","AnimationStart"),transitionend:X("Transition","TransitionEnd")},Mo={},Fo={};eo&&(Fo=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);var Uo,Vo,qo,Bo=$("animationend"),zo=$("animationiteration"),Wo=$("animationstart"),Ko=$("transitionend"),Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Go=new("function"===typeof WeakMap?WeakMap:Map),Qo=null,Yo=[],Xo=!1,$o=[],Jo=null,Zo=null,ta=null,ea=new Map,na=new Map,ra=[],ia="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),oa="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" "),aa={},sa=new Map,ua=new Map,ca=["abort","abort",Bo,"animationEnd",zo,"animationIteration",Wo,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ko,"transitionEnd","waiting","waiting"];Ot("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ot("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ot(ca,2);for(var la="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),ha=0;ha<la.length;ha++)ua.set(la[ha],0);var fa=Vi.unstable_UserBlockingPriority,pa=Vi.unstable_runWithPriority,da=!0,va={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ya=["Webkit","ms","Moz","O"];Object.keys(va).forEach(function(t){ya.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),va[e]=va[t]})});var ga=Ui({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),ma=jo.html,ba="$",_a="/$",wa="$?",Ea="$!",Ta=null,Ia=null,Oa="function"===typeof setTimeout?setTimeout:void 0,Ca="function"===typeof clearTimeout?clearTimeout:void 0,Sa=Math.random().toString(36).slice(2),ka="__reactInternalInstance$"+Sa,Na="__reactEventHandlers$"+Sa,Aa="__reactContainere$"+Sa,Pa=null,xa=null,Ra=null;Ui(ue.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=ae)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=ae)},persist:function(){this.isPersistent=ae},isPersistent:se,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=se,this._dispatchInstances=this._dispatchListeners=null}}),ue.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ue.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var i=new e;return Ui(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=Ui({},r.Interface,t),n.extend=r.extend,he(n),n},he(ue);var ja=ue.extend({data:null}),Da=ue.extend({data:null}),La=[9,13,27,32],Ma=eo&&"CompositionEvent"in window,Fa=null;eo&&"documentMode"in document&&(Fa=document.documentMode);var Ua=eo&&"TextEvent"in window&&!Fa,Va=eo&&(!Ma||Fa&&8<Fa&&11>=Fa),qa=String.fromCharCode(32),Ba={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},za=!1,Wa=!1,Ka={eventTypes:Ba,extractEvents:function(t,e,n,r){var i;if(Ma)t:{switch(t){case"compositionstart":var o=Ba.compositionStart;break t;case"compositionend":o=Ba.compositionEnd;break t;case"compositionupdate":o=Ba.compositionUpdate;break t}o=void 0}else Wa?fe(t,n)&&(o=Ba.compositionEnd):"keydown"===t&&229===n.keyCode&&(o=Ba.compositionStart);return o?(Va&&"ko"!==n.locale&&(Wa||o!==Ba.compositionStart?o===Ba.compositionEnd&&Wa&&(i=oe()):(Pa=r,xa="value"in Pa?Pa.value:Pa.textContent,Wa=!0)),o=ja.getPooled(o,e,n,r),i?o.data=i:null!==(i=pe(n))&&(o.data=i),ie(o),i=o):i=null,(t=Ua?de(t,n):ve(t,n))?(e=Da.getPooled(Ba.beforeInput,e,n,r),e.data=t,ie(e)):e=null,null===i?e:null===e?i:[i,e]}},Ha={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Ga={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},Qa=null,Ya=null,Xa=!1;eo&&(Xa=ct("input")&&(!document.documentMode||9<document.documentMode));var $a={eventTypes:Ga,_isInputEventSupported:Xa,extractEvents:function(t,e,n,r){var i=e?Xt(e):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=_e;else if(ye(i))if(Xa)a=Ce;else{a=Ie;var s=Te}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Oe);if(a&&(a=a(t,e)))return ge(a,n,r);s&&s(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&U(i,"number",i.value)}},Ja=ue.extend({view:null,detail:null}),Za={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},ts=0,es=0,ns=!1,rs=!1,is=Ja.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:ke,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=ts;return ts=t.screenX,ns?"mousemove"===t.type?t.screenX-e:0:(ns=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=es;return es=t.screenY,rs?"mousemove"===t.type?t.screenY-e:0:(rs=!0,0)}}),os=is.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),as={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},ss={eventTypes:as,extractEvents:function(t,e,n,r,i){var o="mouseover"===t||"pointerover"===t,a="mouseout"===t||"pointerout"===t;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;if(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a){if(a=e,null!==(e=(e=n.relatedTarget||n.toElement)?Qt(e):null)){var s=Z(e);(e!==s||5!==e.tag&&6!==e.tag)&&(e=null)}}else a=null;if(a===e)return null;if("mouseout"===t||"mouseover"===t)var u=is,c=as.mouseLeave,l=as.mouseEnter,h="mouse";else"pointerout"!==t&&"pointerover"!==t||(u=os,c=as.pointerLeave,l=as.pointerEnter,h="pointer");if(t=null==a?o:Xt(a),o=null==e?o:Xt(e),c=u.getPooled(c,a,n,r),c.type=h+"leave",c.target=t,c.relatedTarget=o,n=u.getPooled(l,e,n,r),n.type=h+"enter",n.target=o,n.relatedTarget=t,r=a,h=e,r&&h)t:{for(u=r,l=h,a=0,t=u;t;t=Jt(t))a++;for(t=0,e=l;e;e=Jt(e))t++;for(;0<a-t;)u=Jt(u),a--;for(;0<t-a;)l=Jt(l),t--;for(;a--;){if(u===l||u===l.alternate)break t;u=Jt(u),l=Jt(l)}u=null}else u=null;for(l=u,u=[];r&&r!==l&&(null===(a=r.alternate)||a!==l);)u.push(r),r=Jt(r);for(r=[];h&&h!==l&&(null===(a=h.alternate)||a!==l);)r.push(h),h=Jt(h);for(h=0;h<u.length;h++)ne(u[h],"bubbled",c);for(h=r.length;0<h--;)ne(r[h],"captured",n);return 0===(64&i)?[c]:[c,n]}},us="function"===typeof Object.is?Object.is:Ne,cs=Object.prototype.hasOwnProperty,ls=eo&&"documentMode"in document&&11>=document.documentMode,hs={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},fs=null,ps=null,ds=null,vs=!1,ys={eventTypes:hs,extractEvents:function(t,e,n,r,i,o){if(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument),!(o=!i)){t:{i=J(i),o=to.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break t}i=!0}o=!i}if(o)return null;switch(i=e?Xt(e):window,t){case"focus":(ye(i)||"true"===i.contentEditable)&&(fs=i,ps=e,ds=null);break;case"blur":ds=ps=fs=null;break;case"mousedown":vs=!0;break;case"contextmenu":case"mouseup":case"dragend":return vs=!1,Pe(n,r);case"selectionchange":if(ls)break;case"keydown":case"keyup":return Pe(n,r)}return null}},gs=ue.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ms=ue.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bs=Ja.extend({relatedTarget:null}),_s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ws={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Es=Ja.extend({key:function(t){if(t.key){var e=_s[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?(t=xe(t),13===t?"Enter":String.fromCharCode(t)):"keydown"===t.type||"keyup"===t.type?ws[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:ke,charCode:function(t){return"keypress"===t.type?xe(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?xe(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Ts=is.extend({dataTransfer:null}),Is=Ja.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:ke}),Os=ue.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Cs=is.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),Ss={eventTypes:aa,extractEvents:function(t,e,n,r){var i=sa.get(t);if(!i)return null;switch(t){case"keypress":if(0===xe(n))return null;case"keydown":case"keyup":t=Es;break;case"blur":case"focus":t=bs;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=is;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=Ts;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=Is;break;case Bo:case zo:case Wo:t=gs;break;case Ko:t=Os;break;case"scroll":t=Ja;break;case"wheel":t=Cs;break;case"copy":case"cut":case"paste":t=ms;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=os;break;default:t=ue}return e=t.getPooled(i,e,n,r),ie(e),e}};if(Yi)throw Error(r(101));Yi=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),u();var ks=Yt;Hi=$t,Gi=ks,Qi=Xt,l({SimpleEventPlugin:Ss,EnterLeaveEventPlugin:ss,ChangeEventPlugin:$a,SelectEventPlugin:ys,BeforeInputEventPlugin:Ka});var Ns,As,Ps,xs,Rs=[],js=-1,Ds={},Ls={current:Ds},Ms={current:!1},Fs=Ds,Us=Vi.unstable_runWithPriority,Vs=Vi.unstable_scheduleCallback,qs=Vi.unstable_cancelCallback,Bs=Vi.unstable_requestPaint,zs=Vi.unstable_now,Ws=Vi.unstable_getCurrentPriorityLevel,Ks=Vi.unstable_ImmediatePriority,Hs=Vi.unstable_UserBlockingPriority,Gs=Vi.unstable_NormalPriority,Qs=Vi.unstable_LowPriority,Ys=Vi.unstable_IdlePriority,Xs={},$s=Vi.unstable_shouldYield,Js=void 0!==Bs?Bs:function(){},Zs=null,tu=null,eu=!1,nu=zs(),ru=1e4>nu?zs:function(){return zs()-nu},iu={current:null},ou=null,au=null,su=null,uu=!1,cu=vo.ReactCurrentBatchConfig,lu=(new Fi.Component).refs,hu={isMounted:function(t){return!!(t=t._reactInternalFiber)&&Z(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=Mr(),i=cu.suspense;r=Fr(r,t,i),i=on(r,i),i.payload=e,void 0!==n&&null!==n&&(i.callback=n),an(t,i),Ur(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=Mr(),i=cu.suspense;r=Fr(r,t,i),i=on(r,i),i.tag=1,i.payload=e,void 0!==n&&null!==n&&(i.callback=n),an(t,i),Ur(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=Mr(),r=cu.suspense;n=Fr(n,t,r),r=on(n,r),r.tag=2,void 0!==e&&null!==e&&(r.callback=e),an(t,r),Ur(t,n)}},fu=Array.isArray,pu=gn(!0),du=gn(!1),vu={},yu={current:vu},gu={current:vu},mu={current:vu},bu={current:0},_u=vo.ReactCurrentDispatcher,wu=vo.ReactCurrentBatchConfig,Eu=0,Tu=null,Iu=null,Ou=null,Cu=!1,Su={readContext:en,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useResponder:On,useDeferredValue:On,useTransition:On},ku={readContext:en,useCallback:Wn,useContext:en,useEffect:Fn,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Ln(4,2,qn.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ln(4,2,t,e)},useMemo:function(t,e){var n=kn();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=kn();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=Qn.bind(null,Tu,t),[r.memoizedState,t]},useRef:function(t){var e=kn();return t={current:t},e.memoizedState=t},useState:Rn,useDebugValue:zn,useResponder:In,useDeferredValue:function(t,e){var n=Rn(t),r=n[0],i=n[1];return Fn(function(){var n=wu.suspense;wu.suspense=void 0===e?null:e;try{i(t)}finally{wu.suspense=n}},[t,e]),r},useTransition:function(t){var e=Rn(!1),n=e[0];return e=e[1],[Wn(Gn.bind(null,e,t),[e,t]),n]}},Nu={readContext:en,useCallback:Kn,useContext:en,useEffect:Un,useImperativeHandle:Bn,useLayoutEffect:Vn,useMemo:Hn,useReducer:Pn,useRef:Dn,useState:function(){return Pn(An)},useDebugValue:zn,useResponder:In,useDeferredValue:function(t,e){var n=Pn(An),r=n[0],i=n[1];return Un(function(){var n=wu.suspense;wu.suspense=void 0===e?null:e;try{i(t)}finally{wu.suspense=n}},[t,e]),r},useTransition:function(t){var e=Pn(An),n=e[0];return e=e[1],[Kn(Gn.bind(null,e,t),[e,t]),n]}},Au={readContext:en,useCallback:Kn,useContext:en,useEffect:Un,useImperativeHandle:Bn,useLayoutEffect:Vn,useMemo:Hn,useReducer:xn,useRef:Dn,useState:function(){return xn(An)},useDebugValue:zn,useResponder:In,useDeferredValue:function(t,e){var n=xn(An),r=n[0],i=n[1];return Un(function(){var n=wu.suspense;wu.suspense=void 0===e?null:e;try{i(t)}finally{wu.suspense=n}},[t,e]),r},useTransition:function(t){var e=xn(An),n=e[0];return e=e[1],[Kn(Gn.bind(null,e,t),[e,t]),n]}},Pu=null,xu=null,Ru=!1,ju=vo.ReactCurrentOwner,Du=!1,Lu={dehydrated:null,retryTime:0};Ns=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},As=function(){},Ps=function(t,e,n,r,i){var o=t.memoizedProps;if(o!==r){var a=e.stateNode;switch(mn(yu.current),t=null,n){case"input":o=j(a,o),r=j(a,r),t=[];break;case"option":o=q(a,o),r=q(a,r),t=[];break;case"select":o=Ui({},o,{value:void 0}),r=Ui({},r,{value:void 0}),t=[];break;case"textarea":o=z(a,o),r=z(a,r),t=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(a.onclick=Mt)}jt(n,r);var s,u;n=null;for(s in o)if(!r.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(u in a=o[s])a.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(Zi.hasOwnProperty(s)?t||(t=[]):(t=t||[]).push(s,null));for(s in r){var c=r[s];if(a=null!=o?o[s]:void 0,r.hasOwnProperty(s)&&c!==a&&(null!=c||null!=a))if("style"===s)if(a){for(u in a)!a.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in c)c.hasOwnProperty(u)&&a[u]!==c[u]&&(n||(n={}),n[u]=c[u])}else n||(t||(t=[]),t.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,a=a?a.__html:void 0,null!=c&&a!==c&&(t=t||[]).push(s,c)):"children"===s?a===c||"string"!==typeof c&&"number"!==typeof c||(t=t||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(Zi.hasOwnProperty(s)?(null!=c&&Lt(i,s),t||a===c||(t=[])):(t=t||[]).push(s,c))}n&&(t=t||[]).push("style",n),i=t,(e.updateQueue=i)&&(e.effectTag|=4)}},xs=function(t,e,n,r){n!==r&&(e.effectTag|=4)};var Mu,Fu="function"===typeof WeakSet?WeakSet:Set,Uu="function"===typeof WeakMap?WeakMap:Map,Vu=Math.ceil,qu=vo.ReactCurrentDispatcher,Bu=vo.ReactCurrentOwner,zu=0,Wu=8,Ku=16,Hu=32,Gu=0,Qu=1,Yu=2,Xu=3,$u=4,Ju=5,Zu=zu,tc=null,ec=null,nc=0,rc=Gu,ic=null,oc=1073741823,ac=1073741823,sc=null,uc=0,cc=!1,lc=0,hc=500,fc=null,pc=!1,dc=null,vc=null,yc=!1,gc=null,mc=90,bc=null,_c=0,wc=null,Ec=0;Mu=function(t,e,n){var i=e.expirationTime;if(null!==t){var o=e.pendingProps;if(t.memoizedProps!==o||Ms.current)Du=!0;else{if(i<n){switch(Du=!1,e.tag){case 3:cr(e),tr();break;case 5:if(wn(e),4&e.mode&&1!==n&&o.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:Le(e.type)&&Ve(e);break;case 4:bn(e,e.stateNode.containerInfo);break;case 10:i=e.memoizedProps.value,o=e.type._context,je(iu,o._currentValue),o._currentValue=i;break;case 13:if(null!==e.memoizedState)return 0!==(i=e.child.childExpirationTime)&&i>=n?lr(t,e,n):(je(bu,1&bu.current),e=dr(t,e,n),null!==e?e.sibling:null);je(bu,1&bu.current);break;case 19:if(i=e.childExpirationTime>=n,0!==(64&t.effectTag)){if(i)return pr(t,e,n);e.effectTag|=64}if(o=e.memoizedState,null!==o&&(o.rendering=null,o.tail=null),je(bu,bu.current),!i)return null}return dr(t,e,n)}Du=!1}}else Du=!1;switch(e.expirationTime=0,e.tag){case 2:if(i=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,o=De(e,Ls.current),tn(e,n),o=Sn(null,e,i,t,o,n),e.effectTag|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Le(i)){var a=!0;Ve(e)}else a=!1;e.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,nn(e);var s=i.getDerivedStateFromProps;"function"===typeof s&&ln(e,i,s,t),o.updater=hu,e.stateNode=o,o._reactInternalFiber=e,dn(e,i,t,n),e=ur(null,e,i,!0,a,n)}else e.tag=0,er(null,e,o,n),e=e.child;return e;case 16:t:{if(o=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,C(o),1!==o._status)throw o._result;switch(o=o._result,e.type=o,a=e.tag=gi(o),t=Xe(o,t),a){case 0:e=ar(null,e,o,t,n);break t;case 1:e=sr(null,e,o,t,n);break t;case 11:e=nr(null,e,o,t,n);break t;case 14:e=rr(null,e,o,Xe(o.type,t),i,n);break t}throw Error(r(306,o,""))}return e;case 0:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:Xe(i,o),ar(t,e,i,o,n);case 1:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:Xe(i,o),sr(t,e,i,o,n);case 3:if(cr(e),i=e.updateQueue,null===t||null===i)throw Error(r(282));if(i=e.pendingProps,o=e.memoizedState,o=null!==o?o.element:null,rn(t,e),un(e,i,null,n),(i=e.memoizedState.element)===o)tr(),e=dr(t,e,n);else{if((o=e.stateNode.hydrate)&&(xu=Ht(e.stateNode.containerInfo.firstChild),Pu=e,o=Ru=!0),o)for(n=du(e,null,i,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else er(t,e,i,n),tr();e=e.child}return e;case 5:return wn(e),null===t&&$n(e),i=e.type,o=e.pendingProps,a=null!==t?t.memoizedProps:null,s=o.children,Kt(i,o)?s=null:null!==a&&Kt(i,a)&&(e.effectTag|=16),or(t,e),4&e.mode&&1!==n&&o.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(er(t,e,s,n),e=e.child),e;case 6:return null===t&&$n(e),null;case 13:return lr(t,e,n);case 4:return bn(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=pu(e,null,i,n):er(t,e,i,n),e.child;case 11:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:Xe(i,o),nr(t,e,i,o,n);case 7:return er(t,e,e.pendingProps,n),e.child;case 8:case 12:return er(t,e,e.pendingProps.children,n),e.child;case 10:t:{i=e.type._context,o=e.pendingProps,s=e.memoizedProps,a=o.value;var u=e.type._context;if(je(iu,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=us(u,a)?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(u,a):1073741823))){if(s.children===o.children&&!Ms.current){e=dr(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===i&&0!==(l.observedBits&a)){1===u.tag&&(l=on(n,null),l.tag=2,an(u,l)),u.expirationTime<n&&(u.expirationTime=n),l=u.alternate,null!==l&&l.expirationTime<n&&(l.expirationTime=n),Ze(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===e.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===e){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}er(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,a=e.pendingProps,i=a.children,tn(e,n),o=en(o,a.unstable_observedBits),i=i(o),e.effectTag|=1,er(t,e,i,n),e.child;case 14:return o=e.type,a=Xe(o,e.pendingProps),a=Xe(o.type,a),rr(t,e,o,a,i,n);case 15:return ir(t,e,e.type,e.pendingProps,i,n);case 17:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:Xe(i,o),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,Le(i)?(t=!0,Ve(e)):t=!1,tn(e,n),fn(e,i,o),dn(e,i,o,n),ur(null,e,i,!0,t,n);case 19:return pr(t,e,n)}throw Error(r(156,e.tag))};var Tc=null,Ic=null;xi.prototype.render=function(t){ki(t,this._internalRoot,null,null)},xi.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;ki(null,t,null,function(){e[Aa]=null})},Uo=function(t){if(13===t.tag){var e=Ye(Mr(),150,100);Ur(t,e),Pi(t,e)}},Vo=function(t){13===t.tag&&(Ur(t,3),Pi(t,3))},qo=function(t){if(13===t.tag){var e=Mr();e=Fr(e,t,null),Ur(t,e),Pi(t,e)}},no=function(t,e,n){switch(e){case"input":if(M(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var o=$t(i);if(!o)throw Error(r(90));R(i),M(i,o)}}}break;case"textarea":K(t,n);break;case"select":null!=(e=n.value)&&B(t,!!n.multiple,e,!1)}},d=Hr,v=function(t,e,n,r,i){var o=Zu;Zu|=4;try{return We(98,t.bind(null,e,n,r,i))}finally{(Zu=o)===zu&&Ge()}},y=function(){(Zu&(1|Ku|Hu))===zu&&(Kr(),si())},oo=function(t,e){var n=Zu;Zu|=2;try{return t(e)}finally{(Zu=n)===zu&&Ge()}};var Oc={Events:[Yt,Xt,$t,l,Ji,ie,function(t){ot(t,re)},f,p,At,st,si,{current:!1}]};!function(t){var e=t.findFiberByHostInstance;pi(Ui({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rt(t),null===t?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Qt,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oc,e.createPortal=Mi,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(r(188));throw Error(r(268,Object.keys(t)))}return t=rt(e),t=null===t?null:t.stateNode},e.flushSync=function(t,e){if((Zu&(Ku|Hu))!==zu)throw Error(r(187));var n=Zu;Zu|=1;try{return We(99,t.bind(null,e))}finally{Zu=n,Ge()}},e.hydrate=function(t,e,n){if(!Ri(e))throw Error(r(200));return Di(null,t,e,!0,n)},e.render=function(t,e,n){if(!Ri(e))throw Error(r(200));return Di(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Ri(t))throw Error(r(40));return!!t._reactRootContainer&&(Gr(function(){Di(null,null,t,!1,function(){t._reactRootContainer=null,t[Aa]=null})}),!0)},e.unstable_batchedUpdates=Hr,e.unstable_createPortal=function(t,e){return Mi(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Ri(n))throw Error(r(200));if(null==t||void 0===t._reactInternalFiber)throw Error(r(38));return Di(t,e,n,!1,i)},e.version="16.14.0"},function(t,e,n){"use strict";t.exports=n(24)},function(t,e,n){"use strict";function r(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<a(i,e)))break t;t[r]=e,t[n]=i,n=r}}function i(t){return t=t[0],void 0===t?null:t}function o(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,s=t[o],u=o+1,c=t[u];if(void 0!==s&&0>a(s,n))void 0!==c&&0>a(c,s)?(t[r]=c,t[u]=n,r=u):(t[r]=s,t[o]=n,r=o);else{if(!(void 0!==c&&0>a(c,n)))break t;t[r]=c,t[u]=n,r=u}}}return e}return null}function a(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}function s(t){for(var e=i(j);null!==e;){if(null===e.callback)o(j);else{if(!(e.startTime<=t))break;o(j),e.sortIndex=e.expirationTime,r(R,e)}e=i(j)}}function u(t){if(V=!1,s(t),!U)if(null!==i(R))U=!0,h(c);else{var e=i(j);null!==e&&f(u,e.startTime-t)}}function c(t,n){U=!1,V&&(V=!1,p()),F=!0;var r=M;try{for(s(n),L=i(R);null!==L&&(!(L.expirationTime>n)||t&&!d());){var a=L.callback;if(null!==a){L.callback=null,M=L.priorityLevel;var c=a(L.expirationTime<=n);n=e.unstable_now(),"function"===typeof c?L.callback=c:L===i(R)&&o(R),s(n)}else o(R);L=i(R)}if(null!==L)var l=!0;else{var h=i(j);null!==h&&f(u,h.startTime-n),l=!1}return l}finally{L=null,M=r,F=!1}}function l(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var h,f,p,d,v;if("undefined"===typeof window||"function"!==typeof MessageChannel){var y=null,g=null,m=function(){if(null!==y)try{var t=e.unstable_now();y(!0,t),y=null}catch(t){throw setTimeout(m,0),t}},b=Date.now();e.unstable_now=function(){return Date.now()-b},h=function(t){null!==y?setTimeout(h,0,t):(y=t,setTimeout(m,0))},f=function(t,e){g=setTimeout(t,e)},p=function(){clearTimeout(g)},d=function(){return!1},v=e.unstable_forceFrameRate=function(){}}else{var _=window.performance,w=window.Date,E=window.setTimeout,T=window.clearTimeout;if("undefined"!==typeof console){var I=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof I&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof _&&"function"===typeof _.now)e.unstable_now=function(){return _.now()};else{var O=w.now();e.unstable_now=function(){return w.now()-O}}var C=!1,S=null,k=-1,N=5,A=0;d=function(){return e.unstable_now()>=A},v=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):N=0<t?Math.floor(1e3/t):5};var P=new MessageChannel,x=P.port2;P.port1.onmessage=function(){if(null!==S){var t=e.unstable_now();A=t+N;try{S(!0,t)?x.postMessage(null):(C=!1,S=null)}catch(t){throw x.postMessage(null),t}}else C=!1},h=function(t){S=t,C||(C=!0,x.postMessage(null))},f=function(t,n){k=E(function(){t(e.unstable_now())},n)},p=function(){T(k),k=-1}}var R=[],j=[],D=1,L=null,M=3,F=!1,U=!1,V=!1,q=v;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){U||F||(U=!0,h(c))},e.unstable_getCurrentPriorityLevel=function(){return M},e.unstable_getFirstCallbackNode=function(){return i(R)},e.unstable_next=function(t){switch(M){case 1:case 2:case 3:var e=3;break;default:e=M}var n=M;M=e;try{return t()}finally{M=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=q,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=M;M=t;try{return e()}finally{M=n}},e.unstable_scheduleCallback=function(t,n,o){var a=e.unstable_now();if("object"===typeof o&&null!==o){var s=o.delay;s="number"===typeof s&&0<s?a+s:a,o="number"===typeof o.timeout?o.timeout:l(t)}else o=l(t),s=a;return o=s+o,t={id:D++,callback:n,priorityLevel:t,startTime:s,expirationTime:o,sortIndex:-1},s>a?(t.sortIndex=s,r(j,t),null===i(R)&&t===i(j)&&(V?p():V=!0,f(u,s-a))):(t.sortIndex=o,r(R,t),U||F||(U=!0,h(c))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();s(t);var n=i(R);return n!==L&&null!==L&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<L.expirationTime||d()},e.unstable_wrapCallback=function(t){var e=M;return function(){var n=M;M=e;try{return t.apply(this,arguments)}finally{M=n}}}},function(t,e){},function(t,e,n){"use strict";var r=n(8),i=n.n(r),o=n(27),a=n.n(o),s=n(28),u=(n.n(s),n(10)),c=function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("img",{src:a.a,className:"App-logo",alt:"icon"}),i.a.createElement("h1",{className:"App-title"},"POC - push-notification!")),i.a.createElement("button",{onClick:u.a},"Confirme para receber notifica\xe7\xf5es"))};e.a=c},function(t,e,n){t.exports=n.p+"static/media/icon.18773506.png"},function(t,e){},function(t,e,n){t.exports=n(30)},function(t,e,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(31),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";function n(t,e,n,r){var o=e&&e.prototype instanceof i?e:i,a=Object.create(o.prototype),s=new p(r||[]);return a._invoke=c(t,n,s),a}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function i(){}function o(){}function a(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function u(t){function e(n,i,o,a){var s=r(t[n],t,i);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"===typeof c&&m.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(c).then(function(t){u.value=t,o(u)},a)}a(s.arg)}function n(t,n){function r(){return new Promise(function(r,i){e(t,n,r,i)})}return i=i?i.then(r,r):r()}var i;this._invoke=n}function c(t,e,n){var i=O;return function(o,a){if(i===S)throw new Error("Generator is already running");if(i===k){if("throw"===o)throw a;return v()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=l(s,n);if(u){if(u===N)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===O)throw i=k,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=S;var c=r(t,e,n);if("normal"===c.type){if(i=n.done?k:C,c.arg===N)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=k,n.method="throw",n.arg=c.arg)}}}function l(t,e){var n=t.iterator[e.method];if(n===y){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=y,l(t,e),"throw"===e.method))return N;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return N}var i=r(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,N;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=y),e.delegate=null,N):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,N)}function h(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function f(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function p(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function d(t){if(t){var e=t[_];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(m.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=y,e.done=!0,e};return r.next=r}}return{next:v}}function v(){return{value:y,done:!0}}var y,g=Object.prototype,m=g.hasOwnProperty,b="function"===typeof Symbol?Symbol:{},_=b.iterator||"@@iterator",w=b.asyncIterator||"@@asyncIterator",E=b.toStringTag||"@@toStringTag",T="object"===typeof t,I=e.regeneratorRuntime;if(I)return void(T&&(t.exports=I));I=e.regeneratorRuntime=T?t.exports:{},I.wrap=n;var O="suspendedStart",C="suspendedYield",S="executing",k="completed",N={},A={};A[_]=function(){return this};var P=Object.getPrototypeOf,x=P&&P(P(d([])));x&&x!==g&&m.call(x,_)&&(A=x);var R=a.prototype=i.prototype=Object.create(A);o.prototype=R.constructor=a,a.constructor=o,a[E]=o.displayName="GeneratorFunction",I.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},I.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,E in t||(t[E]="GeneratorFunction")),t.prototype=Object.create(R),t},I.awrap=function(t){return{__await:t}},s(u.prototype),u.prototype[w]=function(){return this},I.AsyncIterator=u,I.async=function(t,e,r,i){var o=new u(n(t,e,r,i));return I.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},s(R),R[E]="Generator",R[_]=function(){return this},R.toString=function(){return"[object Generator]"},I.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},I.values=d,p.prototype={constructor:p,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(f),!t)for(var e in this)"t"===e.charAt(0)&&m.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=y)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,r&&(n.method="next",n.arg=y),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=m.call(i,"catchLoc"),s=m.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&m.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,N):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),N},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),f(n),N}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;f(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:d(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=y),N}}}(function(){return this}()||Function("return this")())},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return r.a});n(33),n(34),n(36),n(38),n(39),n(40),n(41),n(42),n(43);r.a.registerVersion("firebase","8.1.1","app");console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),r.a.registerVersion("firebase","8.1.1")},function(t,e,n){"use strict";(function(t){var e=n(0);(function(){function n(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function r(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:n(t)}}function i(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&Mc.test(t)?t:""}function o(){}function a(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function s(t){var e=a(t);return"array"==e||"object"==e&&"number"==typeof t.length}function u(t){return"function"==a(t)}function c(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function l(t){return Object.prototype.hasOwnProperty.call(t,Uc)&&t[Uc]||(t[Uc]=++Vc)}function h(t,e,n){return t.call.apply(t.bind,arguments)}function f(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function p(t,e,n){return p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?h:f,p.apply(null,arguments)}function d(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function v(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function y(t){return t}function g(t,e,n){this.code=zc+t,this.message=e||Wc[t]||"",this.a=n||null}function m(t){var e=t&&t.code;return e?new g(e.substring(zc.length),t.message,t.serverResponse):null}function b(t){for(var e in Kc)if(Kc[e].id===t)return t=Kc[e],{firebaseEndpoint:t.Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function _(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function w(t){if(Error.captureStackTrace)Error.captureStackTrace(this,w);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function E(t,e){t=t.split("%s");for(var n="",r=t.length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");w.call(this,n+t[r])}function T(t,e){throw new E("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function I(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function O(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function C(){this.b=this.a=null}function S(){var t=ql,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function k(){this.next=this.b=this.a=null}function N(t,e){for(var n="string"===typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}function A(t){t:{for(var e=vi,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}function P(t,e){return 0<=Qc(t,e)}function x(t,e){e=Qc(t,e);var n;return(n=0<=e)&&Array.prototype.splice.call(t,e,1),n}function R(t,e){var n=0;N(t,function(r,i){e.call(void 0,r,i,t)&&1==Array.prototype.splice.call(t,i,1).length&&n++})}function j(t){return Array.prototype.concat.apply([],arguments)}function D(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function L(t,e){return-1!=t.indexOf(e)}function M(t,e){return t<e?-1:t>e?1:0}function F(t){return L(Gc,t)}function U(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function V(t){for(var e in t)return!1;return!0}function q(t){var e,n={};for(e in t)n[e]=t[e];return n}function B(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<cl.length;o++)n=cl[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function z(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if(r=r||Lc,r.Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&"undefined"!=typeof i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(c(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;T("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function W(t,e){this.a=t===fl&&e||"",this.b=hl}function K(t){return t instanceof W&&t.constructor===W&&t.b===hl?t.a:(T("expected object of type Const, got '"+t+"'"),"type_error:Const")}function H(){if(void 0===ll){var t=null,e=Lc.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:y,createScript:y,createScriptURL:y})}catch(t){Lc.console&&Lc.console.error(t.message)}ll=t}else ll=t}return ll}function G(t,e){this.a=e===vl?t:""}function Q(t){return t instanceof G&&t.constructor===G?t.a:(T("expected object of type TrustedResourceUrl, got '"+t+"' of type "+a(t)),"type_error:TrustedResourceUrl")}function Y(t,e){var n=K(t);if(!dl.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(pl,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return t=e[r],t instanceof W?K(t):encodeURIComponent(String(t))}),X(t)}function X(t){var e=H();return t=e?e.createScriptURL(t):t,new G(t,vl)}function $(t,e){this.a=e===bl?t:""}function J(t){return t instanceof $&&t.constructor===$?t.a:(T("expected object of type SafeUrl, got '"+t+"' of type "+a(t)),"type_error:SafeUrl")}function Z(t){if(t instanceof $)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),ml.test(t))t=new $(t,bl);else{t=String(t),t=t.replace(/(%0A|%0D)/g,"");var e=t.match(gl);t=e&&yl.test(e[1])?new $(t,bl):null}return t}function tt(t){return t instanceof $?t:(t="object"==typeof t&&t.sa?t.ra():String(t),ml.test(t)||(t="about:invalid#zClosurez"),new $(t,bl))}function et(t,e,n){this.a=n===wl?t:""}function nt(t){return t instanceof et&&t.constructor===et?t.a:(T("expected object of type SafeHtml, got '"+t+"' of type "+a(t)),"type_error:SafeHtml")}function rt(t,e){z(t,"HTMLScriptElement"),t.src=Q(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=Lc?e=i(e.document):(null===Fc&&(Fc=i(Lc.document)),e=Fc),e&&t.setAttribute("nonce",e)}function it(t,e,n,r){return t=t instanceof $?t:tt(t),e=e||Lc,n=n instanceof W?K(n):n||"",e.open(J(t),n,r,void 0)}function ot(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function at(t){return al.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(tl,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(el,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(nl,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(rl,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(il,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(ol,"&#0;"))),t}function st(t){return st[" "](t),t}function ut(t,e){var n=Rl;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}function ct(){var t=Lc.document;return t?t.documentMode:void 0}function lt(t){return ut(t,function(){for(var e=0,n=Zc(String(El)).split("."),r=Zc(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=M(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||M(0==a[2].length,0==s[2].length)||M(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}function ht(t){var e=document;return"string"===typeof t?e.getElementById(t):t}function ft(t,e){U(e,function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Ul.hasOwnProperty(n)?t.setAttribute(Ul[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}function pt(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!Fl&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',at(a.name),'"'),a.type){o.push(' type="',at(a.type),'"');var s={};B(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=vt(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ft(o,a)),2<r.length&&dt(i,o,r),o}function dt(t,e,n){function r(n){n&&e.appendChild("string"===typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!s(o)||c(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(c(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(u(o)){a="function"==typeof o.item;break t}}a=!1}Yc(a?D(o):o,r)}}}function vt(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function yt(t){Lc.setTimeout(function(){throw t},0)}function gt(){var t=Lc.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!F("Presto")&&(t=function(){var t=vt(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;t=e.document,t.open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=p(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!F("Trident")&&!F("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var t=n.Fb;n.Fb=null,t()}},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}return function(t){Lc.setTimeout(t,0)}}function mt(t,e){Ml||bt(),Vl||(Ml(),Vl=!0),ql.add(t,e)}function bt(){if(Lc.Promise&&Lc.Promise.resolve){var t=Lc.Promise.resolve(void 0);Ml=function(){t.then(_t)}}else Ml=function(){var t=_t;!u(Lc.setImmediate)||Lc.Window&&Lc.Window.prototype&&!F("Edge")&&Lc.Window.prototype.setImmediate==Lc.setImmediate?(Ll||(Ll=gt()),Ll(t)):Lc.setImmediate(t)}}function _t(){for(var t;t=S();){try{t.a.call(t.b)}catch(t){yt(t)}O(Hc,t)}Vl=!1}function wt(t,e){if(this.a=Bl,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=o)try{var n=this;t.call(e,function(t){xt(n,zl,t)},function(t){if(!(t instanceof Vt))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}xt(n,Wl,t)})}catch(t){xt(this,Wl,t)}}function Et(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}function Tt(t,e,n){var r=Kl.get();return r.g=t,r.b=e,r.f=n,r}function It(t){if(t instanceof wt)return t;var e=new wt(o);return xt(e,zl,t),e}function Ot(t){return new wt(function(e,n){n(t)})}function Ct(t,e,n){Rt(t,e,n,null)||mt(d(e,t))}function St(t){return new wt(function(e,n){var r=t.length,i=[];if(r)for(var o,a=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},u=0;u<t.length;u++)o=t[u],Ct(o,d(a,u),s);else e(i)})}function kt(t){return new wt(function(e){var n=t.length,r=[];if(n)for(var i,o=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},a=0;a<t.length;a++)i=t[a],Ct(i,d(o,a,!0),d(o,a,!1));else e(r)})}function Nt(t,e){if(t.a==Bl)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Bl&&1==r?Nt(n,e):(o?(r=o,r.next==n.f&&(n.f=r),r.next=r.next.next):Lt(n),Mt(n,i,Wl,e)))}t.c=null}else xt(t,Wl,e)}function At(t,e){t.b||t.a!=zl&&t.a!=Wl||Dt(t),t.f?t.f.next=e:t.b=e,t.f=e}function Pt(t,e,n,r){var i=Tt(null,null,null);return i.a=new wt(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Vt?o(e):t(i)}catch(t){o(t)}}:o}),i.a.c=t,At(t,i),i.a}function xt(t,e,n){t.a==Bl&&(t===n&&(e=Wl,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Rt(n,t.Zc,t.$c,t)||(t.i=n,t.a=e,t.c=null,Dt(t),e!=Wl||n instanceof Vt||Ut(t,n)))}function Rt(t,e,n,r){if(t instanceof wt)return At(t,Tt(e||o,n||null,r)),!0;if(_(t))return t.then(e,n,r),!0;if(c(t))try{var i=t.then;if(u(i))return jt(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function jt(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(t){o(t)}}function Dt(t){t.h||(t.h=!0,mt(t.fc,t))}function Lt(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Mt(t,e,n,r){if(n==Wl&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ft(e,n,r);else try{e.c?e.g.call(e.f):Ft(e,n,r)}catch(t){Hl.call(null,t)}O(Kl,e)}function Ft(t,e,n){e==zl?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}function Ut(t,e){t.g=!0,mt(function(){t.g&&Hl.call(null,e)})}function Vt(t){w.call(this,t)}function qt(){0!=Gl&&(Ql[l(this)]=this),this.xa=this.xa,this.oa=this.oa}function Bt(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=Gl)){var e=l(t);if(0!=Gl&&t.oa&&0<t.oa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ql[e]}}function zt(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Wt(t,e){if(zt.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Sl){t:{try{st(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:Zl[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}function Kt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++eh,this.va=this.Oa=!1}function Ht(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function Gt(t){this.src=t,this.a={},this.b=0}function Qt(t,e){var n=e.type;n in t.a&&x(t.a[n],e)&&(Ht(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function Yt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}function Xt(t,e,n,r,i){if(r&&r.once)Zt(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)Xt(t,e[o],n,r,i);else n=se(n),t&&t[th]?ce(t,e,n,c(r)?!!r.capture:!!r,i):$t(t,e,n,!1,r,i)}function $t(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=c(i)?!!i.capture:!!i,s=ae(t);if(s||(t[nh]=s=new Gt(t)),n=s.add(e,n,r,a,o),!n.proxy){if(r=Jt(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Jl||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ne(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}ih++}}function Jt(){var t=oe,e=Xl?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}function Zt(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Zt(t,e[o],n,r,i);else n=se(n),t&&t[th]?le(t,e,n,c(r)?!!r.capture:!!r,i):$t(t,e,n,!0,r,i)}function te(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)te(t,e[o],n,r,i);else r=c(r)?!!r.capture:!!r,n=se(n),t&&t[th]?(t=t.v,(e=String(e).toString())in t.a&&(o=t.a[e],-1<(n=Yt(o,n,r,i))&&(Ht(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=ae(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Yt(e,n,r,i)),(n=-1<t?e[t]:null)&&ee(n))}function ee(t){if("number"!==typeof t&&t&&!t.va){var e=t.src;if(e&&e[th])Qt(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ne(n),r):e.addListener&&e.removeListener&&e.removeListener(r),ih--,(n=ae(e))?(Qt(n,t),0==n.b&&(n.src=null,e[nh]=null)):Ht(t)}}}function ne(t){return t in rh?rh[t]:rh[t]="on"+t}function re(t,e,n,r){var i=!0;if((t=ae(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=ie(o,r),i=i&&!1!==o)}return i}function ie(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&ee(t),n.call(r,e)}function oe(t,e){if(t.va)return!0;if(!Xl){if(!e)t:{e=["window","event"];for(var n=Lc,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(r=e,e=new Wt(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=re(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=re(r[i],t,!1,e),n=n&&o}return n}return ie(t,new Wt(e,this))}function ae(t){return t=t[nh],t instanceof Gt?t:null}function se(t){return u(t)?t:(t[oh]||(t[oh]=function(e){return t.handleEvent(e)}),t[oh])}function ue(){qt.call(this),this.v=new Gt(this),this.$b=this,this.fb=null}function ce(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function le(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function he(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Ua||a.src;a.Oa&&Qt(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function fe(t,e,n){if(u(t))n&&(t=p(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=p(t.handleEvent,t)}return 2147483647<Number(e)?-1:Lc.setTimeout(t,e||0)}function pe(t){var e=null;return new wt(function(n,r){-1==(e=fe(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).s(function(t){throw Lc.clearTimeout(e),t})}function de(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"===typeof t)return t.split("");if(s(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function ve(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(s(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(var r in t)e[n++]=r;return e}}function ye(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(s(t)||"string"===typeof t)Yc(t,e,void 0);else for(var n=ve(t),r=de(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}function ge(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ge)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function me(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];be(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],be(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function be(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _e(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function we(t,e){this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1;var n;t instanceof we?(this.i=void 0!==e?e:t.i,Ee(this,t.f),this.l=t.l,this.a=t.a,Te(this,t.g),this.c=t.c,Ie(this,Fe(t.b)),this.h=t.h):t&&(n=String(t).match(ah))?(this.i=!!e,Ee(this,n[1]||"",!0),this.l=Ne(n[2]||""),this.a=Ne(n[3]||"",!0),Te(this,n[4]),this.c=Ne(n[5]||"",!0),Ie(this,n[6]||"",!0),this.h=Ne(n[7]||"")):(this.i=!!e,this.b=new xe(null,this.i))}function Ee(t,e,n){t.f=n?Ne(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Te(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Ie(t,e,n){e instanceof xe?(t.b=e,Ve(t.b,t.i)):(n||(e=Ae(e,lh)),t.b=new xe(e,t.i))}function Oe(t,e,n){t.b.set(e,n)}function Ce(t,e){return t.b.get(e)}function Se(t){return t instanceof we?new we(t):new we(t,void 0)}function ke(t,e,n,r){var i=new we(null,void 0);return t&&Ee(i,t),e&&(i.a=e),n&&Te(i,n),r&&(i.c=r),i}function Ne(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ae(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Pe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Pe(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}function xe(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Re(t){t.a||(t.a=new ge,t.b=0,t.c&&_e(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function je(t){var e=ve(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new xe(null,void 0);t=de(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Me(n,i,o):n.add(i,o)}return n}function De(t,e){Re(t),e=Ue(t,e),be(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,be(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&me(t)))}function Le(t,e){return Re(t),e=Ue(t,e),be(t.a.b,e)}function Me(t,e,n){De(t,e),0<n.length&&(t.c=null,t.a.set(Ue(t,e),D(n)),t.b+=n.length)}function Fe(t){var e=new xe;return e.c=t.c,t.a&&(e.a=new ge(t.a),e.b=t.b),e}function Ue(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Ve(t,e){e&&!t.f&&(Re(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(De(this,e),Me(this,n,t))},t)),t.f=e}function qe(t){var e=[];return ze(new Be,t,e),e.join("")}function Be(){}function ze(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),ze(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){n.push("{"),i="";for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),We(r,n),n.push(":"),ze(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":We(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}function We(t,e){e.push('"',t.replace(ph,function(t){var e=fh[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),fh[t]=e),e}),'"')}function Ke(){var t=hn();return Il&&!!Dl&&11==Dl||/Edge\/\d+/.test(t)}function He(){return Lc.window&&Lc.window.location.href||self&&self.location&&self.location.href||""}function Ge(t,e){e=e||Lc.window;var n="about:blank";t&&(n=J(Z(t)||_l)),e.location.href=n}function Qe(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<Qe(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function Ye(){var t=hn();return!((t=cn(t)!=gh?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Il||!Dl||9<Dl)}function Xe(t){return t=(t||hn()).toLowerCase(),!!(t.match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function $e(t){t=t||Lc.window;try{t.close()}catch(t){}}function Je(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=hn().toLowerCase(),r&&(e.target=r,L(n,"crios/")&&(e.target="_blank")),cn(hn())==yh&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof $?n:Z("undefined"!=typeof n.href?n.href:String(n))||_l,n=t.target||n.target,i=[];for(a in t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((F("iPhone")&&!F("iPod")&&!F("iPad")||F("iPad")||F("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=vt(document,"A"),z(a,"HTMLAnchorElement"),e=e instanceof $?e:tt(e),a.href=J(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),t=document.createEvent("MouseEvent"),t.initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=it("",r,n,a),t=J(e),a&&(Cl&&L(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+at(t)+'">',t=(r=H())?r.createHTML(t):t,t=new et(t,null,wl),r=a.document)&&(r.write(nt(t)),r.close())):(a=it(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}function Ze(t){return new wt(function(e){function n(){pe(2e3).then(function(){if(t&&!t.closed)return n();e()})}return n()})}function tn(){var t=null;return new wt(function(e){"complete"==Lc.document.readyState?e():(t=function(){e()},Zt(window,"load",t))}).s(function(e){throw te(window,"load",t),e})}function en(){return nn(void 0)?tn().then(function(){return new wt(function(t,e){var n=Lc.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Ot(Error("Cordova must run in an Android or iOS file scheme."))}function nn(t){return t=t||hn(),!("file:"!==yn()&&"ionic:"!==yn()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function rn(){var t=Lc.window;try{return!(!t||t==t.top)}catch(t){return!1}}function on(){return"undefined"!==typeof Lc.WorkerGlobalScope&&"function"===typeof Lc.importScripts}function an(){return e.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.a.INTERNAL.hasOwnProperty("node")?"Node":on()?"Worker":"Browser"}function sn(){var t=an();return"ReactNative"===t||"Node"===t}function un(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}function cn(t){var e=t.toLowerCase();return L(e,"opera/")||L(e,"opr/")||L(e,"opios/")?"Opera":L(e,"iemobile")?"IEMobile":L(e,"msie")||L(e,"trident/")?"IE":L(e,"edge/")?"Edge":L(e,"firefox/")?yh:L(e,"silk/")?"Silk":L(e,"blackberry")?"Blackberry":L(e,"webos")?"Webos":!L(e,"safari/")||L(e,"chrome/")||L(e,"crios/")||L(e,"android")?!L(e,"chrome/")&&!L(e,"crios/")||L(e,"edge/")?L(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":gh:"Safari"}function ln(t,e){e=e||[];var n,r=[],i={};for(n in mh)i[mh[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),e=r,e.length||(e=["FirebaseCore-web"]),r=an(),"Browser"===r?(i=hn(),r=cn(i)):"Worker"===r&&(i=hn(),r=cn(i)+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function hn(){return Lc.navigator&&Lc.navigator.userAgent||""}function fn(t,e){t=t.split("."),e=e||Lc;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function pn(){try{var t=Lc.localStorage,e=wn();if(t)return t.setItem(e,"1"),t.removeItem(e),!Ke()||!!Lc.indexedDB}catch(t){return on()&&!!Lc.indexedDB}return!1}function dn(){return(vn()||"chrome-extension:"===yn()||nn())&&!sn()&&pn()&&!on()}function vn(){return"http:"===yn()||"https:"===yn()}function yn(){return Lc.location&&Lc.location.protocol||null}function gn(t){return t=t||hn(),!Xe(t)&&cn(t)!=yh}function mn(t){return"undefined"===typeof t?null:qe(t)}function bn(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function _n(t){if(null!==t)return JSON.parse(t)}function wn(t){return t||Math.floor(1e9*Math.random()).toString()}function En(t){return t=t||hn(),"Safari"!=cn(t)&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Tn(){var t=Lc.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function In(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=hn(),e=an(),this.b=Xe(t)||"ReactNative"===e}function On(){var t=Lc.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function Cn(){var t=Lc.document,e=null;return On()||!t?It():new wt(function(n){e=function(){On()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).s(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}function Sn(t){"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t)}function kn(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Nn(){return!(!fn("fireauth.oauthhelper",Lc)&&!fn("fireauth.iframe",Lc))}function An(){var t=Lc.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}function Pn(){var t=Lc.navigator;return t&&t.serviceWorker?It().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).s(function(){return null}):It(null)}function xn(t){_h[t]||(_h[t]=!0,Sn(t))}function Rn(t,e,n){bh?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function jn(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Rn(t,n,e[n])}function Dn(t){var e={};return jn(e,t),e}function Ln(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Mn(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}function Fn(t){var e=t;if("object"==typeof t&&null!=t){e="length"in t?[]:{};for(var n in t)Rn(e,n,Fn(t[n]))}return e}function Un(t){var e=t&&(t[Oh]?"phone":null);if(!(e&&t&&t[Ih]))throw new g("internal-error","Internal assert: invalid MultiFactorInfo object");Rn(this,"uid",t[Ih]),Rn(this,"displayName",t[Eh]||null);var n=null;t[Th]&&(n=new Date(t[Th]).toUTCString()),Rn(this,"enrollmentTime",n),Rn(this,"factorId",e)}function Vn(t){try{var e=new qn(t)}catch(t){e=null}return e}function qn(t){Un.call(this,t),Rn(this,"phoneNumber",t[Oh])}function Bn(t){var e={},n=t[Nh],r=t[Ph],i=t[xh];if(t=Vn(t[Ah]),!i||i!=Sh&&i!=kh&&!n||i==kh&&!r||i==Ch&&!t)throw Error("Invalid checkActionCode response!");i==kh?(e[jh]=n||null,e[Lh]=n||null,e[Rh]=r):(e[jh]=r||null,e[Lh]=r||null,e[Rh]=n||null),e[Dh]=t||null,Rn(this,Fh,i),Rn(this,Mh,Fn(e))}function zn(t){t=Se(t);var e=Ce(t,Uh)||null,n=Ce(t,Vh)||null,r=Ce(t,zh)||null;if(r=r?Kh[r]||null:null,!e||!n||!r)throw new g("argument-error",Uh+", "+Vh+"and "+zh+" are required in a valid action code URL.");jn(this,{apiKey:e,operation:r,code:n,continueUrl:Ce(t,qh)||null,languageCode:Ce(t,Bh)||null,tenantId:Ce(t,Wh)||null})}function Wn(t){try{return new zn(t)}catch(t){return null}}function Kn(t){var e=t[Xh];if("undefined"===typeof e)throw new g("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new g("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Hh];if(n&&"object"===typeof n){e=n[Zh];var r=n[$h];if(n=n[Jh],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new g("argument-error",$h+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new g("argument-error",Jh+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new g("argument-error",Zh+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new g("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new g("argument-error",Hh+" property must be a non null object when specified.");if(this.f=null,(e=t[Yh])&&"object"===typeof e){if("string"===typeof(e=e[tf])&&e.length)this.f=e;else if("undefined"!==typeof e)throw new g("argument-error",tf+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new g("argument-error",Yh+" property must be a non null object when specified.");if("undefined"!==typeof(e=t[Qh])&&"boolean"!==typeof e)throw new g("argument-error",Qh+" property must be a boolean when specified.");if(this.c=!!e,"undefined"!==typeof(t=t[Gh])&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new g("argument-error",Gh+" property must be a non empty string when specified.");this.i=t||null}function Hn(t){var e={};e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i;for(var n in e)null===e[n]&&delete e[n];return e}function Gn(t){return $c(t,function(t){return t=t.toString(16),1<t.length?t:"0"+t}).join("")}function Qn(t){var e="";return Yn(t,function(t){e+=String.fromCharCode(t)}),e}function Yn(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=ef[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}Xn();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}function Xn(){if(!ef){ef={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===ef[o]&&(ef[o]=i)}}}function $n(t){var e=Zn(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,qc(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Jn(t){try{return new $n(t)}catch(t){return null}}function Zn(t){if(!t)return null;if(t=t.split("."),3!=t.length)return null;t=t[1];for(var e=(4-t.length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Qn(t))}catch(t){}return null}function tr(t){for(var e in of)if(of[e].fa==t)return of[e];return null}function er(t){var e={};e["facebook.com"]=ir,e["google.com"]=ar,e["github.com"]=or,e["twitter.com"]=sr;var n=t&&t[sf];try{if(n)return e[n]?new e[n](t):new rr(t);if("undefined"!==typeof t[af])return new nr(t)}catch(t){}return null}function nr(t){var e=t[sf];if(!e&&t[af]){var n=Jn(t[af]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Rn(this,"providerId",e),Rn(this,"isNewUser",n)}function rr(t){nr.call(this,t),t=_n(t.rawUserInfo||"{}"),Rn(this,"profile",Fn(t||{}))}function ir(t){if(rr.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function or(t){if(rr.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Rn(this,"username",this.profile&&this.profile.login||null)}function ar(t){if(rr.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function sr(t){if(rr.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Rn(this,"username",t.screenName||null)}function ur(t){var e=Se(t),n=Ce(e,"link"),r=Ce(Se(n),"link");return e=Ce(e,"deep_link_id"),Ce(Se(e),"link")||e||r||n||t}function cr(t,e){if(!t&&!e)throw new g("internal-error","Internal assert: no raw session string available");if(t&&e)throw new g("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?uf:cf}function lr(){}function hr(t,e){return t.then(function(t){if(t[Sf]){var n=Jn(t[Sf]);if(!n||e!=n.h)throw new g("user-mismatch");return t}throw new g("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==zc+"user-not-found"?new g("user-mismatch"):t})}function fr(t,e){if(!e)throw new g("internal-error","failed to construct a credential");this.a=e,Rn(this,"providerId",t),Rn(this,"signInMethod",t)}function pr(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function dr(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new fr(t.providerId,t.pendingToken)}catch(t){}return null}function vr(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Rn(this,"idToken",e.idToken),e.accessToken&&Rn(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Rn(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new g("internal-error","failed to construct a credential");Rn(this,"accessToken",e.oauthToken),Rn(this,"secret",e.oauthTokenSecret)}Rn(this,"providerId",t),Rn(this,"signInMethod",n)}function yr(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:je(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function gr(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new vr(t.providerId,e,t.signInMethod)}catch(t){}}return null}function mr(t,e){this.Pc=e||[],jn(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=(tr(t)||{}).Ja||null,this.nb=null}function br(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new g("argument-error",'SAML provider IDs must be prefixed with "saml."');mr.call(this,t,[])}function _r(t){mr.call(this,t,rf),this.a=[]}function wr(){_r.call(this,"facebook.com")}function Er(t){if(!t)throw new g("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return c(t)&&(e=t.accessToken),(new wr).credential({accessToken:e})}function Tr(){_r.call(this,"github.com")}function Ir(t){if(!t)throw new g("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return c(t)&&(e=t.accessToken),(new Tr).credential({accessToken:e})}function Or(){_r.call(this,"google.com"),this.Ca("profile")}function Cr(t,e){var n=t;return c(t)&&(n=t.idToken,e=t.accessToken),(new Or).credential({idToken:n,accessToken:e})}function Sr(){mr.call(this,"twitter.com",nf)}function kr(t,e){var n=t;if(c(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new g("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new vr("twitter.com",n,"twitter.com")}function Nr(t,e,n){this.a=t,this.f=e,Rn(this,"providerId","password"),Rn(this,"signInMethod",n===Pr.EMAIL_LINK_SIGN_IN_METHOD?Pr.EMAIL_LINK_SIGN_IN_METHOD:Pr.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ar(t){return t&&t.email&&t.password?new Nr(t.email,t.password,t.signInMethod):null}function Pr(){jn(this,{providerId:"password",isOAuthProvider:!1})}function xr(t,e){if(!(e=Rr(e)))throw new g("argument-error","Invalid email link!");return new Nr(t,e.code,Pr.EMAIL_LINK_SIGN_IN_METHOD)}function Rr(t){return t=ur(t),(t=Wn(t))&&t.operation===Sh?t:null}function jr(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new g("internal-error");this.a=t,Rn(this,"providerId","phone"),this.fa="phone",Rn(this,"signInMethod","phone")}function Dr(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return Yc(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new jr(e)}return null}function Lr(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function Mr(t){try{this.a=t||e.a.auth()}catch(t){throw new g("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}jn(this,{providerId:"phone",isOAuthProvider:!1})}function Fr(t,e){if(!t)throw new g("missing-verification-id");if(!e)throw new g("missing-verification-code");return new jr({cb:t,bb:e})}function Ur(t){if(t.temporaryProof&&t.phoneNumber)return new jr({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return Cr(o,n);case"facebook.com":return Er(n);case"github.com":return Ir(n);case"twitter.com":return kr(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new fr(e,a):new vr(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new _r(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Vr(t){if(!t.isOAuthProvider)throw new g("invalid-oauth-provider")}function qr(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new g("invalid-auth-event");if(this.g&&this.a)throw new g("invalid-auth-event");if(this.g&&!this.f)throw new g("invalid-auth-event")}function Br(t){return t=t||{},t.type?new qr(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&m(t.error),t.postBody,t.tenantId):null}function zr(){this.b=null,this.a=[]}function Wr(t){var e=lf;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"===typeof(t=fn("universalLinks.subscribe",Lc))&&t(null,e.b))}function Kr(t){var e="unauthorized-domain",n=void 0,r=Se(t);t=r.a,r=r.f,"chrome-extension"==r?n=ot("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=ot("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",g.call(this,e,n)}function Hr(t,e,n){g.call(this,t,n),t=e||{},t.Ib&&Rn(this,"email",t.Ib),t.ea&&Rn(this,"phoneNumber",t.ea),t.credential&&Rn(this,"credential",t.credential),t.Yb&&Rn(this,"tenantId",t.Yb)}function Gr(t){if(t.code){var e=t.code||"";0==e.indexOf(zc)&&(e=e.substring(zc.length));var n={credential:Ur(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new g(e,t.message||void 0);return new Hr(e,n,t.message)}return null}function Qr(){}function Yr(t){return t.c||(t.c=t.b())}function Xr(){}function $r(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Jr(){}function Zr(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=p(this.pc,this),this.a.onerror=p(this.Rb,this),this.a.onprogress=p(this.qc,this),this.a.ontimeout=p(this.uc,this)}function ti(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ei(t,e,n){this.reset(t,e,n,void 0,void 0)}function ni(t){this.f=t,this.b=this.c=this.a=null}function ri(t,e){this.name=t,this.value=e}function ii(t){return t.c?t.c:t.a?ii(t.a):(T("Root logger has no level set."),null)}function oi(t){mf||(mf=new ni(""),gf[""]=mf,mf.c=vf);var e;if(!(e=gf[t])){e=new ni(t);var n=t.lastIndexOf("."),r=t.substr(n+1);n=oi(t.substr(0,n)),n.b||(n.b={}),n.b[r]=e,e.a=n,gf[t]=e}return e}function ai(t,e){t&&t.log(yf,e,void 0)}function si(t){this.f=t}function ui(t){ue.call(this),this.u=t,this.h=void 0,this.readyState=bf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.o="GET",this.f="",this.a=!1,this.i=oi("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}function ci(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function li(t){t.readyState=4,t.g=null,t.c=null,t.m=null,hi(t)}function hi(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function fi(t){ue.call(this),this.headers=new ge,this.O=t||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=_f,this.u=this.R=!1}function pi(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.G=!1,t.c=!0,t.a=t.O?t.O.a():hf.a(),t.A=Yr(t.O?t.O:hf),t.a.onreadystatechange=p(t.Ub,t);try{ai(t.b,Ii(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(e){return ai(t.b,Ii(t,"Error opening Xhr: "+e.message)),void yi(t,e)}e=r||"";var o=new ge(t.headers);i&&ye(i,function(t,e){o.set(e,t)}),i=A(o.Y()),r=Lc.FormData&&e instanceof Lc.FormData,!P(Ef,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{_i(t),0<t.g&&(t.u=di(t.a),ai(t.b,Ii(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=p(t.Ma,t)):t.o=fe(t.Ma,t.g,t)),ai(t.b,Ii(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){ai(t.b,Ii(t,"Send error: "+e.message)),yi(t,e)}}function di(t){return Il&&lt(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}function vi(t){return"content-type"==t.toLowerCase()}function yi(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,gi(t),bi(t)}function gi(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function mi(t){if(t.c&&"undefined"!=typeof Dc)if(t.A[1]&&4==wi(t)&&2==Ei(t))ai(t.b,Ii(t,"Local request error detected and ignored"));else if(t.i&&4==wi(t))fe(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==wi(t)){ai(t.b,Ii(t,"Request complete")),t.c=!1;try{var e=Ei(t);t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var r;if(!(r=n)){var i;if(i=0===e){var o=String(t.l).match(ah)[1]||null;if(!o&&Lc.self&&Lc.self.location){var a=Lc.self.location.protocol;o=a.substr(0,a.length-1)}i=!wf.test(o?o.toLowerCase():"")}r=i}if(r)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var s=2<wi(t)?t.a.statusText:""}catch(e){ai(t.b,"Can not get status: "+e.message),s=""}t.h=s+" ["+Ei(t)+"]",gi(t)}}finally{bi(t)}}}function bi(t,e){if(t.a){_i(t);var n=t.a,r=t.A[0]?o:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(pf,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function _i(t){t.a&&t.u&&(t.a.ontimeout=null),t.o&&(Lc.clearTimeout(t.o),t.o=null)}function wi(t){return t.a?t.a.readyState:0}function Ei(t){try{return 2<wi(t)?t.a.status:-1}catch(t){return-1}}function Ti(t){try{return t.a?t.a.responseText:""}catch(e){return ai(t.b,"Can not get responseText: "+e.message),""}}function Ii(t,e){return e+" ["+t.P+" "+t.l+" "+Ei(t)+"]"}function Oi(t){var e=Mi;this.g=[],this.u=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function Ci(t,e,n){t.a=!0,t.c=n,t.f=!e,Pi(t)}function Si(t){if(t.a){if(!t.m)throw new xi(t);t.m=!1}}function ki(t,e){Ni(t,null,e,void 0)}function Ni(t,e,n,r){t.g.push([e,n,r]),t.a&&Pi(t)}function Ai(t){return Jc(t.g,function(t){return u(t[1])})}function Pi(t){if(t.h&&t.a&&Ai(t)){var e=t.h,n=Tf[e];n&&(Lc.clearTimeout(n.a),delete Tf[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.o,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(_(e)||"function"===typeof Lc.Promise&&e instanceof Lc.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Ai(t)||(n=!0)}}t.c=e,r&&(s=p(t.v,t,!0),r=p(t.v,t,!1),e instanceof Oi?(Ni(e,s,r),e.A=!0):e.then(s,r)),n&&(e=new ji(e),Tf[e.a]=e,t.h=e.a)}function xi(){w.call(this)}function Ri(){w.call(this)}function ji(t){this.a=Lc.setTimeout(p(this.c,this),0),this.b=t}function Di(t){var e={},n=e.document||document,r=Q(t).toString(),i=vt(document,"SCRIPT"),o={Vb:i,Ma:void 0},a=new Oi(o),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){Fi(i,!0);var t=new Ui(Of,"Timeout reached for loading script "+r);Si(a),Ci(a,!1,t)},u),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Fi(i,e.wd||!1,s),Si(a),Ci(a,!0,null))},i.onerror=function(){Fi(i,!0,s);var t=new Ui(If,"Error while loading script "+r);Si(a),Ci(a,!1,t)},o=e.attributes||{},B(o,{type:"text/javascript",charset:"UTF-8"}),ft(i,o),rt(i,t),Li(n).appendChild(i),a}function Li(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}function Mi(){if(this&&this.Vb){var t=this.Vb;t&&"SCRIPT"==t.tagName&&Fi(t,!0,this.Ma)}}function Fi(t,e,n){null!=n&&Lc.clearTimeout(n),t.onload=o,t.onerror=o,t.onreadystatechange=o,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}function Ui(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),w.call(this,n),this.code=t}function Vi(t){this.f=t}function qi(t,n,r){if(this.c=t,t=n||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||kf,this.g=q(t.secureTokenHeaders||Nf),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||Af,this.a=q(t.firebaseHeaders||Pf),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==an(),!(r=Lc.XMLHttpRequest||r&&e.a.INTERNAL.node&&e.a.INTERNAL.node.XMLHttpRequest)&&!on())throw new g("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,on()?this.f=new si(self):sn()?this.f=new Vi(r):this.f=new Jr,this.b=null}function Bi(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function zi(t,e){e&&(t.l=Wi("https://securetoken.googleapis.com/v1/token",e),t.h=Wi("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=Wi("https://identitytoolkit.googleapis.com/v2/",e))}function Wi(t,e){return t=Se(t),e=Se(e.url),t.c=t.a+t.c,Ee(t,e.f),t.a=e.a,Te(t,e.g),t.toString()}function Ki(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Hi(t,e,n,r,i,o,a){Ye()||on()?t=p(t.u,t):(Cf||(Cf=new wt(function(t,e){Gi(t,e)})),t=p(t.o,t)),t(e,n,r,i,o,a)}function Gi(t,e){if(((window.gapi||{}).client||{}).request)t();else{Lc[Rf]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};ki(Di(Y(xf,{onload:Rf})),function(){e(Error("CORS_UNSUPPORTED"))})}}function Qi(t,e){return new wt(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Hi(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(go(t)):t.access_token&&t.refresh_token?n(t):r(new g("internal-error")):r(new g("network-request-failed"))},"POST",je(e).toString(),t.g,t.v.get()):r(new g("internal-error"))})}function Yi(t,e,n,r,i,o,a){var s=Se(e+n);Oe(s,"key",t.c),a&&Oe(s,"cb",qc().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Oe(s,c,i[c]);return new wt(function(e,n){Hi(t,s.toString(),function(t){t?t.error?n(go(t,o||{})):e(t):n(new g("network-request-failed"))},r,u?void 0:qe(bn(i)),t.a,t.m.get())})}function Xi(t){if("string"!==typeof(t=t.email)||!vh.test(t))throw new g("invalid-email")}function $i(t){"email"in t&&Xi(t)}function Ji(t,e){return vo(t,Ff,{identifier:e,continueUri:vn()?He():"http://localhost"}).then(function(t){return t.signinMethods||[]})}function Zi(t){return vo(t,Xf,{}).then(function(t){return t.authorizedDomains||[]})}function to(t){if(!t[Sf]){if(t.mfaPendingCredential)throw new g("multi-factor-auth-required",null,q(t));throw new g("internal-error")}}function eo(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new g("internal-error")}else{if(!t.sessionInfo)throw new g("missing-verification-id");if(!t.code)throw new g("missing-verification-code")}}function no(t,e){return vo(t,Zf,e)}function ro(t,e){return vo(t,rp,e).then(function(t){return t.phoneSessionInfo.sessionInfo})}function io(t){if(!t.phoneVerificationInfo)throw new g("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new g("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new g("missing-verification-code")}function oo(t,e){return vo(t,ip,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}function ao(t,e,n){return vo(t,Vf,{idToken:e,deleteProvider:n})}function so(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new g("internal-error")}function uo(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(t=new xe(t.postBody),Le(t,"nonce")&&(e.nonce=t.get("nonce")))),e}function co(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Gr(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Gr(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Gr(t)):t.errorMessage&&(e=yo(t.errorMessage)),e)throw e;to(t)}function lo(t,e){return e.returnIdpCredential=!0,vo(t,op,e)}function ho(t,e){return e.returnIdpCredential=!0,vo(t,sp,e)}function fo(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,vo(t,ap,e)}function po(t){if(!t.oobCode)throw new g("invalid-action-code")}function vo(t,e,n){if(!Mn(n,e.M))return Ot(new g("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return It(n).then(e.B).then(function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&"undefined"===typeof n.tenantId&&(n.tenantId=t.b),i?Yi(t,t.i,e.endpoint,o,n,e.Gb,e.kb||!1):Yi(t,t.h,e.endpoint,o,n,e.Gb,e.kb||!1)}).then(function(t){return r=t,e.Xa?e.Xa(n,r):r}).then(e.F).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new g("internal-error");return r[e.Z]})}function yo(t){return go({error:{errors:[{message:t}],code:400,message:t}})}function go(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new g(r[n]):null)return n;n=t.error&&t.error.message||"",r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},B(r,e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0;for(var i in r)if(0===n.indexOf(i))return new g(r[i],e);return!e&&t&&(e=mn(t)),new g("internal-error",e)}function mo(t){this.b=t,this.a=null,this.qb=bo(this)}function bo(t){return Eo().then(function(){return new wt(function(e,n){fn("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:fn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},yp.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}function _o(t,e){return t.qb.then(function(){return new wt(function(n){t.a.send(e.type,e,n,fn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function wo(t,e){t.qb.then(function(){t.a.register("authEvent",e,fn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}function Eo(){return gp||(gp=new wt(function(t,e){function n(){Tn(),fn("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Tn(),e(Error("Network Error"))},timeout:vp.get()})}if(fn("gapi.iframes.Iframe"))t();else if(fn("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();Lc[r]=function(){fn("gapi.load")?n():e(Error("Network Error"))},r=Y(dp,{onload:r}),It(Di(r)).s(function(){e(Error("Network Error"))})}}).s(function(t){throw gp=null,t}))}function To(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?(t=Se(this.g.url),t=ke(t.f,t.a,t.g,"/emulator/auth/iframe")):t=ke("https",this.l,null,"/__/auth/iframe"),this.a=t,Oe(this.a,"apiKey",this.h),Oe(this.a,"appName",this.i),this.b=null,this.c=[]}function Io(t,e,n,r,i,o){this.u=t,this.o=e,this.c=n,this.v=r,this.m=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function Oo(t){try{return e.a.app(t).auth().Ga()}catch(t){return[]}}function Co(t,e,n,r,i,o){this.o=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function So(t){var e=He();return Zi(t).then(function(t){t:{var n=Se(e),r=n.f;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Se(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:dh.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Kr(He())})}function ko(t){return t.v?t.v:(t.v=tn().then(function(){if(!t.u){var e=t.c,n=t.i,r=Oo(t.b),i=new To(t.o,t.g,t.b,t.f);i.f=e,i.b=n,i.c=D(r||[]),t.u=i.toString()}t.m=new mo(t.u),Po(t)}),t.v)}function No(t){return t.l||(t.A=t.c?ln(t.c,Oo(t.b)):null,t.l=new qi(t.g,b(t.i),t.A),t.f&&zi(t.l,t.f)),t.l}function Ao(t,e,n,r,i,o,a,s,u,c,l,h){return t=new Io(t,e,n,r,i,h),t.l=o,t.g=a,t.i=s,t.b=q(u||null),t.f=c,t.xb(l).toString()}function Po(t){if(!t.m)throw Error("IfcHandler must be initialized!");wo(t.m,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Br(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return n={},n.status=r?"ACK":"ERROR",It(n)}return n.status="ERROR",It(n)})}function xo(t){var e={type:"webStorageSupport"};return ko(t).then(function(){return _o(t.m,e)}).then(function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})}function Ro(t){if(this.a=t||e.a.INTERNAL.reactNative&&e.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new g("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function jo(t){this.b=t,this.a={},this.f=p(this.c,this)}function Do(){var t=on()?self:null;if(Yc(mp,function(n){n.b==t&&(e=n)}),!e){var e=new jo(t);mp.push(e)}return e}function Lo(t,e,n){V(t.a)&&t.b.addEventListener("message",t.f),"undefined"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Mo(t){this.a=t}function Fo(t){this.c=t,this.b=!1,this.a=[]}function Uo(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ot(Error("connection_unavailable"));var l=r?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new wt(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},l),o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(s),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:h,onMessage:o},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return Vo(t,c),e}).s(function(e){throw Vo(t,c),e})}function Vo(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),R(t.a,function(t){return t==e})}}function qo(){if(!Ho())throw new g("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.v=Lc.indexedDB,this.type="indexedDB",this.g=this.m=this.f=this.l=null,this.o=!1,this.h=null;var t=this;on()&&self?(this.m=Do(),Lo(this.m,"keyChanged",function(e,n){return $o(t).then(function(e){return 0<e.length&&Yc(t.a,function(t){t(e)}),{keyProcessed:P(e,n.key)}})}),Lo(this.m,"ping",function(){return It(["keyChanged"])})):Pn().then(function(e){(t.h=e)&&(t.g=new Fo(new Mo(e)),Uo(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&P(e[0].value,"keyChanged")&&(t.o=!0)}).s(function(){}))})}function Bo(t){return new wt(function(e,n){var r=t.v.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}function zo(t){return new wt(function(e,n){var r=t.v.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){r=r.target.result,r.objectStoreNames.contains("firebaseLocalStorage")?e(r):Bo(t).then(function(){return zo(t)}).then(function(t){e(t)}).s(function(t){n(t)})}})}function Wo(t){return t.i||(t.i=zo(t)),t.i}function Ko(t,e){function n(i,o){Wo(t).then(e).then(i).s(function(e){if(!(3<++r))return Wo(t).then(function(e){return e.close(),t.i=void 0,n(i,o)});o(e)})}var r=0;return new wt(n)}function Ho(){try{return!!Lc.indexedDB}catch(t){return!1}}function Go(t){return t.objectStore("firebaseLocalStorage")}function Qo(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Yo(t){return new wt(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Xo(t,e){return t.g&&t.h&&An()===t.h?Uo(t.g,"keyChanged",{key:e},t.o).then(function(){}).s(function(){}):It()}function $o(t){return Wo(t).then(function(t){var e=Go(Qo(t,!1));return e.getAll?Yo(e.getAll()):new wt(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=Qe(t.c,n),t.c=n}return r})}function Jo(t){function e(){t.f=setTimeout(function(){t.l=$o(t).then(function(e){0<e.length&&Yc(t.a,function(t){t(e)})}).then(function(){e()}).s(function(t){"STOP_EVENT"!=t.message&&e()})},800)}Zo(t),e()}function Zo(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function ta(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=It().then(function(){if(Ho()){var t=wn(),r="__sak"+t;return bp||(bp=new qo),n=bp,n.set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)}).then(function(){return n}).s(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){Yc(e.a,function(e){e(t)})}),t})}function ea(){this.a={},this.type="inMemory"}function na(){if(!ia()){if("Node"==an())throw new g("internal-error","The LocalStorage compatibility library was not found.");throw new g("web-storage-unsupported")}this.a=ra()||e.a.INTERNAL.node.localStorage,this.type="localStorage"}function ra(){try{var t=Lc.localStorage,e=wn();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function ia(){var t="Node"==an();if(!(t=ra()||t&&e.a.INTERNAL.node&&e.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}function oa(){this.type="nullStorage"}function aa(){if(!ua()){if("Node"==an())throw new g("internal-error","The SessionStorage compatibility library was not found.");throw new g("web-storage-unsupported")}this.a=sa()||e.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function sa(){try{var t=Lc.sessionStorage,e=wn();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function ua(){var t="Node"==an();if(!(t=sa()||t&&e.a.INTERNAL.node&&e.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}function ca(){var t={};t.Browser=Ep,t.Node=Tp,t.ReactNative=Ip,t.Worker=Op,this.a=t[an()]}function la(t){var e=new g("invalid-persistence-type"),n=new g("unsupported-persistence-type");t:{for(r in Cp)if(Cp[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch(an()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Ho()&&"none"!==t)throw n;break;default:if(!pn()&&"none"!==t)throw n}}function ha(){var t=!(En(hn())||!rn()),e=gn(),n=pn();this.v=t,this.h=e,this.l=n,this.a={},_p||(_p=new ca),t=_p;try{this.g=!Ke()&&Nn()||!Lc.indexedDB?new t.a.D:new ta(on()?new ea:new t.a.D)}catch(t){this.g=new ea,this.h=!0}try{this.i=new t.a.ab}catch(t){this.i=new ea}this.m=new ea,this.f=p(this.Xb,this),this.b={}}function fa(){return wp||(wp=new ha),wp}function pa(t,e){switch(e){case"session":return t.i;case"none":return t.m;default:return t.g}}function da(t,e){return"firebase:"+t.name+(e?":"+e:"")}function va(t,e,n){var r=da(e,n),i=pa(t,e.D);return t.get(e,n).then(function(o){var a=null;try{a=_n(Lc.localStorage.getItem(r))}catch(t){}if(a&&!o)return Lc.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&Lc.localStorage.removeItem(r)})}function ya(t,e,n){return n=da(e,n),"local"==e.D&&(t.b[n]=null),pa(t,e.D).T(n)}function ga(t){ma(t),t.c=setInterval(function(){for(var e in t.a){var n=Lc.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Wt({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Xb(n))}},1e3)}function ma(t){t.c&&(clearInterval(t.c),t.c=null)}function ba(t){this.a=t,this.b=fa()}function _a(t){return t.b.get(kp,t.a).then(function(t){return Br(t)})}function wa(){this.a=fa()}function Ea(){this.b=-1}function Ta(t,e){this.b=Np,this.f=Lc.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=Lc.Int32Array?new Int32Array(64):Array(64),void 0===Sp&&(Sp=Lc.Int32Array?new Int32Array(jp):jp),this.reset()}function Ia(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=c&l^~c&h,o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0,a=a+(0|Sp[e])|0,a=o+(a+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function Oa(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"===typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(Ia(t),i=0);else{if(!s(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(Ia(t),i=0)}}t.c=i,t.g+=n}function Ca(){Ta.call(this,8,Dp)}function Sa(t,e,n,r,i,o){this.m=t,this.i=e,this.l=n,this.v=r||null,this.u=i||null,this.o=o,this.h=e+":"+n,this.A=new wa,this.g=new ba(this.h),this.f=null,this.b=[],this.a=this.c=null}function ka(t){return new g("invalid-cordova-configuration",t)}function Na(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}function Aa(t){var e=new Ca;Oa(e,t),t=[];var n=8*e.g;56>e.c?Oa(e,Rp,56-e.c):Oa(e,Rp,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(Ia(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return Gn(t)}function Pa(t,e,n,r,i){var o=Na(),a=new qr(e,r,null,o,new g("no-auth-event"),null,i),s=fn("BuildInfo.packageName",Lc);if("string"!==typeof s)throw new g("invalid-cordova-configuration");var u=fn("BuildInfo.displayName",Lc),c={};if(hn().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!hn().toLowerCase().match(/android/))return Ot(new g("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),o=Aa(o),c.sessionId=o;var l=Ao(t.m,t.i,t.l,e,n,null,r,t.v,c,t.u,i,t.o);return t.la().then(function(){var e=t.h;return t.A.a.set(kp,a.w(),e)}).then(function(){var e=fn("cordova.plugins.browsertab.isAvailable",Lc);if("function"!==typeof e)throw new g("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!==typeof(n=fn("cordova.plugins.browsertab.openUrl",Lc)))throw new g("invalid-cordova-configuration");n(l)}else{if("function"!==typeof(n=fn("cordova.InAppBrowser.open",Lc)))throw new g("invalid-cordova-configuration");e=hn(),t.a=n(l,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function xa(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Ra(t){return t.f||(t.f=t.la().then(function(){return new wt(function(e){function n(r){return e(r),t.Ra(n),!1}t.Ea(n),Da(t)})})),t.f}function ja(t){var e=null;return _a(t.g).then(function(n){return e=n,n=t.g,ya(n.b,kp,n.a)}).then(function(){return e})}function Da(t){function e(e){r=!0,i&&i.cancel(),ja(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;i=ur(e.url),-1!=i.indexOf("/__/auth/callback")&&(o=Se(i),o=_n(Ce(o,"firebaseError")||null),o=(o="object"===typeof o?m(o):null)?new qr(r.c,r.b,null,null,o,null,r.S()):new qr(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}xa(t,i)})}var n=new qr("unknown",null,null,null,new g("no-auth-event")),r=!1,i=pe(500).then(function(){return ja(t).then(function(){r||xa(t,n)})}),o=Lc.handleOpenURL;Lc.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(fn("BuildInfo.packageName",Lc).toLowerCase()+"://")&&e({url:t}),"function"===typeof o)try{o(t)}catch(t){console.error(t)}},lf||(lf=new zr),Wr(e)}function La(t){this.a=t,this.b=fa()}function Ma(t){return t.b.set(Lp,"pending",t.a)}function Fa(t){return ya(t.b,Lp,t.a)}function Ua(t){return t.b.get(Lp,t.a).then(function(t){return"pending"==t})}function Va(t,e,n,r){this.i={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.h=[],this.f=!1,this.l=p(this.o,this),this.b=new Ja,this.A=new as,this.g=new La(Xa(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=qa(this.O,this.m,this.v,Bc,this.G)}function qa(t,n,r,i,o){var a=e.a.SDK_VERSION||null;return nn()?new Sa(t,n,r,a,i,o):new Co(t,n,r,a,i,o)}function Ba(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().s(function(n){throw t.a==e&&t.reset(),n})}function za(t){t.a.Wb()&&Ba(t).s(function(e){var n=new qr("unknown",null,null,null,new g("operation-not-supported-in-this-environment"));Ga(e)&&t.o(n)}),t.a.Sb()||Za(t.b)}function Wa(t,e){P(t.h,e)||t.h.push(e),t.f||Ua(t.g).then(function(e){e?Fa(t.g).then(function(){Ba(t).s(function(e){var n=new qr("unknown",null,null,null,new g("operation-not-supported-in-this-environment"));Ga(e)&&t.o(n)})}):za(t)}).s(function(){za(t)})}function Ka(t,e){R(t.h,function(t){return t==e})}function Ha(t,e,n,r,i,o,a){return t.a.Lb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,a)}function Ga(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Qa(t,e,n,r,i){var o;return Ma(t.g).then(function(){return t.a.Mb(e,n,r,i).s(function(e){if(Ga(e))throw new g("operation-not-supported-in-this-environment");return o=e,Fa(t.g).then(function(){throw o})}).then(function(){return t.a.Zb()?new wt(function(){}):Fa(t.g).then(function(){return t.qa()}).then(function(){}).s(function(){})})})}function Ya(t,e,n,r,i){return t.a.Nb(r,function(t){e.ma(n,null,t,i)},Mp.get())}function Xa(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function $a(t,e,n,r){var i=Xa(e,n,r);return Up[i]||(Up[i]=new Va(t,e,n,r)),Up[i]}function Ja(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Za(t){t.g||(t.g=!0,is(t,!1,null,null))}function ts(t){t.g&&!t.i&&is(t,!1,null,null)}function es(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.S(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then(function(e){is(t,s,e,null)}).s(function(e){is(t,s,null,e)})}function ns(t,e){if(t.b=function(){return Ot(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}function rs(t,e){if(t.b=function(){return It(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function is(t,e,n,r){e?r?ns(t,r):rs(t,n):rs(t,{user:null}),t.f=[],t.c=[]}function os(t){var e=new g("timeout");t.a&&t.a.cancel(),t.a=pe(Fp.get()).then(function(){t.b||(t.g=!0,is(t,!0,null,e))})}function as(){}function ss(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.S(),t.i).then(function(t){e.ma(r,t,null,n)}).s(function(t){e.ma(r,null,t,n)})}function us(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function cs(t,e){this.a=e,Rn(this,"verificationId",t)}function ls(t,e,n,r){return new Mr(t).eb(e,n).then(function(t){return new cs(t,r)})}function hs(t){var e=Zn(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new g("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");jn(this,{token:t,expirationTime:kn(1e3*e.exp),authTime:kn(1e3*e.auth_time),issuedAtTime:kn(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function fs(t,e,n){var r=e&&e[qp];if(!r)throw new g("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=q(e),this.g=n,this.c=new cr(null,r),this.b=[];var i=this;Yc(e[Vp]||[],function(t){(t=Vn(t))&&i.b.push(t)}),Rn(this,"auth",this.a),Rn(this,"session",this.c),Rn(this,"hints",this.b)}function ps(t,e,n,r){g.call(this,"multi-factor-auth-required",r,e),this.b=new fs(t,e,n),Rn(this,"resolver",this.b)}function ds(t,e,n){if(t&&c(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new ps(e,t.serverResponse,n,t.message)}catch(t){}return null}function vs(){}function ys(t,e,n,r){return n.Ha().then(function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),B(n,{phoneVerificationInfo:Lr(t.a)}),vo(e,zf,n)})}function gs(t,e,n){return n.Ha().then(function(n){return n={mfaPendingCredential:n},B(n,{phoneVerificationInfo:Lr(t.a)}),vo(e,Wf,n)})}function ms(t){Rn(this,"factorId",t.fa),this.a=t}function bs(t){if(ms.call(this,t),this.a.fa!=Mr.PROVIDER_ID)throw new g("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function _s(t,e){zt.call(this,t);for(var n in e)this[n]=e[n]}function ws(t,e){this.a=t,this.b=[],this.c=p(this.xc,this),Xt(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&Yc(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[Ih]=t.uid),t.displayName&&(r[Eh]=t.displayName),t.enrollmentTime&&(r[Th]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[Oh]=t.phoneNumber);try{e=new qn(r)}catch(t){}t=e}else t=null;t&&n.push(t)}),Ts(this,n)}function Es(t){var e=[];return Yc(t.mfaInfo||[],function(t){(t=Vn(t))&&e.push(t)}),e}function Ts(t,e){t.b=e,Rn(t,"enrolledFactors",e)}function Is(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Os(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}function Cs(t,e){t.stop(),t.b=pe(Os(t,e)).then(function(){return Cn()}).then(function(){return t.h()}).then(function(){Cs(t,!0)}).s(function(e){t.i(e)&&Cs(t,!1)})}function Ss(t){this.c=t,this.b=this.a=null}function ks(t){return t.b&&1e3*t.b.c||0}function Ns(t,e){var n=e.refreshToken;t.b=Jn(e[Sf]||""),t.a=n}function As(t,e){t.b=e.b,t.a=e.a}function Ps(t,e){return Qi(t.c,e).then(function(e){return t.b=Jn(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}function xs(t,e){this.a=t||null,this.b=e||null,jn(this,{lastSignInTime:kn(e||null),creationTime:kn(t||null)})}function Rs(t){return new xs(t.a,t.b)}function js(t,e,n,r,i,o){jn(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Ds(t,n,r){this.G=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null;var i=e.a.SDK_VERSION?ln(e.a.SDK_VERSION):null;this.a=new qi(this.l,b(Bc),i),t.emulatorConfig&&zi(this.a,t.emulatorConfig),this.b=new Ss(this.a),Ws(this,n[Sf]),Ns(this.b,n),Rn(this,"refreshToken",this.b.a),Qs(this,r||{}),ue.call(this),this.P=!1,this.o&&dn()&&(this.i=$a(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=qs(this),this.$=p(this.gb,this);var o=this;this.pa=null,this.Ba=function(t){o.wa(t.h)},this.ba=null,this.za=function(t){zi(o.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){Fs(o,t.f)},this.aa=null,this.N=new ws(this,r),Rn(this,"multiFactor",this.N)}function Ls(t,e){t.ba&&te(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&Xt(e,"languageCodeChanged",t.Ba)}function Ms(t,e){t.W&&te(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&Xt(e,"emulatorConfigChanged",t.za)}function Fs(t,n){t.X=n,Ki(t.a,e.a.SDK_VERSION?ln(e.a.SDK_VERSION,t.X):null)}function Us(t,e){t.aa&&te(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&Xt(e,"frameworkChanged",t.Aa)}function Vs(t){try{return e.a.app(t.m).auth()}catch(e){throw new g("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function qs(t){return new Is(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=ks(t.b)-qc()-3e5;return 0<e?e:0})}function Bs(t){t.A||t.u.b||(t.u.start(),te(t,"tokenChanged",t.$),Xt(t,"tokenChanged",t.$))}function zs(t){te(t,"tokenChanged",t.$),t.u.stop()}function Ws(t,e){t.ya=e,Rn(t,"_lat",e)}function Ks(t,e){R(t.R,function(t){return t==e})}function Hs(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return kt(e).then(function(){return t})}function Gs(t){t.i&&!t.P&&(t.P=!0,Wa(t.i,t))}function Qs(t,e){jn(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new xs(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Ys(){}function Xs(t){return It().then(function(){if(t.A)throw new g("app-deleted")})}function $s(t){return $c(t.providerData,function(t){return t.providerId})}function Js(t,e){e&&(Zs(t,e.providerId),t.providerData.push(e))}function Zs(t,e){R(t.providerData,function(t){return t.providerId==e})}function tu(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Rn(t,e,n)}function eu(t,e){t!=e&&(jn(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Rn(t,"metadata",Rs(e.metadata)):Rn(t,"metadata",new xs),Yc(e.providerData,function(e){Js(t,e)}),As(t.b,e.b),Rn(t,"refreshToken",t.b.a),Ts(t.N,e.N.b))}function nu(t){return t.I().then(function(e){var n=t.isAnonymous;return iu(t,e).then(function(){return n||tu(t,"isAnonymous",!1),e})})}function ru(t,e){e[Sf]&&t.ya!=e[Sf]&&(Ns(t.b,e),t.dispatchEvent(new _s("tokenChanged")),Ws(t,e[Sf]),tu(t,"refreshToken",t.b.a))}function iu(t,e){return vo(t.a,Kf,{idToken:e}).then(p(t.Jc,t))}function ou(t){return(t=t.providerUserInfo)&&t.length?$c(t,function(t){return new js(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}function au(t,e){return nu(t).then(function(){if(P($s(t),e))return Hs(t).then(function(){throw new g("provider-already-linked")})})}function su(t,e,n){var r=Ur(e);return e=er(e),Dn({user:t,credential:r,additionalUserInfo:e,operationType:n})}function uu(t,e){return ru(t,e),t.reload().then(function(){return t})}function cu(t,n,r,i,o){if(!dn())return Ot(new g("operation-not-supported-in-this-environment"));if(t.f&&!o)return Ot(t.f);var a=tr(r.providerId),s=wn(t.uid+":::"),u=null;(!gn()||rn())&&t.o&&r.isOAuthProvider&&(u=Ao(t.o,t.l,t.m,n,r,null,s,e.a.SDK_VERSION||null,null,null,t.tenantId));var c=Je(u,a&&a.ua,a&&a.ta);return i=i().then(function(){if(hu(t),!o)return t.I().then(function(){})}).then(function(){return Ha(t.i,c,n,r,s,!!u,t.tenantId)}).then(function(){return new wt(function(e,r){t.ma(n,null,new g("cancelled-popup-request"),t.h||null),t.g=e,t.O=r,t.h=s,t.c=Ya(t.i,t,n,c,s)})}).then(function(t){return c&&$e(c),t?Dn(t):null}).s(function(t){throw c&&$e(c),t}),fu(t,i,o)}function lu(t,e,n,r,i){if(!dn())return Ot(new g("operation-not-supported-in-this-environment"));if(t.f&&!i)return Ot(t.f);var o=null,a=wn(t.uid+":::");return r=r().then(function(){if(hu(t),!i)return t.I().then(function(){})}).then(function(){return t.ga=a,Hs(t)}).then(function(e){return t.ha&&(e=t.ha,e=e.b.set(Bp,t.w(),e.a)),e}).then(function(){return Qa(t.i,e,n,a,t.tenantId)}).s(function(e){if(o=e,t.ha)return mu(t.ha);throw o}).then(function(){if(o)throw o}),fu(t,r,i)}function hu(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new g("internal-error");throw new g("auth-domain-config-required")}}function fu(t,e,n){var r=pu(t,e,n);return t.G.push(r),r.na(function(){x(t.G,r)}),r.s(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ds(e.w(),Vs(t),p(t.ic,t))),n||e})}function pu(t,e,n){return t.f&&!n?(e.cancel(),Ot(t.f)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.f||t.dispatchEvent(new _s("userInvalidated")),t.f=e),e})}function du(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Sf]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new Ds(e,n,t);return t.providerData&&Yc(t.providerData,function(t){t&&Js(r,Dn(t))}),t.redirectEventId&&(r.ga=t.redirectEventId),r}function vu(t,e,n,r){var i=new Ds(t,e);return n&&(i.ha=n),r&&Fs(i,r),i.reload().then(function(){return i})}function yu(t,e,n,r){var i=t.b,o={};return o[Sf]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new Ds(e||{apiKey:t.l,authDomain:t.o,appName:t.m},o),n&&(e.ha=n),r&&Fs(e,r),eu(e,t),e}function gu(t){this.a=t,this.b=fa()}function mu(t){return ya(t.b,Bp,t.a)}function bu(t,e){return t.b.get(Bp,t.a).then(function(t){return t&&e&&(t.authDomain=e),du(t||{})})}function _u(t){this.a=t,this.b=fa(),this.c=null,this.f=Eu(this),this.b.addListener(Tu("local"),this.a,p(this.g,this))}function wu(t,e){var n,r=[];for(n in Cp)Cp[n]!==e&&r.push(ya(t.b,Tu(Cp[n]),t.a));return r.push(ya(t.b,zp,t.a)),St(r)}function Eu(t){var e=Tu("local"),n=Tu("session"),r=Tu("none");return va(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(zp,t.a).then(function(t){return t?Tu(t):e})})})}).then(function(e){return t.c=e,wu(t,e.D)}).s(function(){t.c||(t.c=e)})}function Tu(t){return{name:"authUser",D:t}}function Iu(t){return ku(t,function(){return t.b.set(zp,t.c.D,t.a)})}function Ou(t,e){return ku(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Cu(t){return ku(t,function(){return ya(t.b,t.c,t.a)})}function Su(t,e,n){return ku(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),du(t||{})})})}function ku(t,e){return t.f=t.f.then(e,e),t.f}function Nu(t){if(this.m=!1,Rn(this,"settings",new us),Rn(this,"app",t),!Wu(this).options||!Wu(this).options.apiKey)throw new g("invalid-api-key");t=e.a.SDK_VERSION?ln(e.a.SDK_VERSION):null,this.a=new qi(Wu(this).options&&Wu(this).options.apiKey,b(Bc),t),this.R=[],this.u=[],this.P=[],this.ac=e.a.INTERNAL.createSubscribe(p(this.yc,this)),this.X=void 0,this.bc=e.a.INTERNAL.createSubscribe(p(this.zc,this)),Uu(this,null),this.l=new _u(Wu(this).options.apiKey+":"+Wu(this).name),this.G=new gu(Wu(this).options.apiKey+":"+Wu(this).name),this.$=Yu(this,qu(this)),this.i=Yu(this,Bu(this)),this.ba=!1,this.pa=p(this.Yc,this),this.Ba=p(this.da,this),this.ya=p(this.kc,this),this.za=p(this.vc,this),this.Aa=p(this.wc,this),this.b=null,Lu(this),this.INTERNAL={},this.INTERNAL.delete=p(this.delete,this),this.INTERNAL.logFramework=p(this.Fc,this),this.A=0,ue.call(this),ju(this),this.N=[],this.f=null}function Au(t){zt.call(this,"languageCodeChanged"),this.h=t}function Pu(t){zt.call(this,"emulatorConfigChanged"),this.c=t}function xu(t){zt.call(this,"frameworkChanged"),this.f=t}function Ru(){Sn("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),Lc.document&&tn().then(function(){var t=Lc.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),Lc.document.body.appendChild(t)})}function ju(t){Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null}function Du(t){return t.gb||Ot(new g("auth-domain-config-required"))}function Lu(t){var e=Wu(t).options.authDomain,n=Wu(t).options.apiKey;e&&dn()&&(t.gb=t.$.then(function(){if(!t.m){if(t.b=$a(e,n,Wu(t).name,t.f),Wa(t.b,t),Ku(t)&&Gs(Ku(t)),t.o){Gs(t.o);var r=t.o;r.wa(t.ka()),Ls(r,t),r=t.o,Fs(r,t.N),Us(r,t),r=t.o,zi(r.a,t.f),Ms(r,t),t.o=null}return t.b}}))}function Mu(t){if(!dn())return Ot(new g("operation-not-supported-in-this-environment"));var e=Du(t).then(function(){return t.b.qa()}).then(function(t){return t?Dn(t):null});return Yu(t,e)}function Fu(t,e){var n={};return n.apiKey=Wu(t).options.apiKey,n.authDomain=Wu(t).options.authDomain,n.appName=Wu(t).name,t.f&&(n.emulatorConfig=t.f),t.$.then(function(){return vu(n,e,t.G,t.Ga())}).then(function(e){return Ku(t)&&e.uid==Ku(t).uid?(eu(Ku(t),e),t.da(e)):(Uu(t,e),Gs(e),t.da(e))}).then(function(){Gu(t)})}function Uu(t,e){Ku(t)&&(Ks(Ku(t),t.Ba),te(Ku(t),"tokenChanged",t.ya),te(Ku(t),"userDeleted",t.za),te(Ku(t),"userInvalidated",t.Aa),zs(Ku(t))),e&&(e.R.push(t.Ba),Xt(e,"tokenChanged",t.ya),Xt(e,"userDeleted",t.za),Xt(e,"userInvalidated",t.Aa),0<t.A&&Bs(e)),Rn(t,"currentUser",e),e&&(e.wa(t.ka()),Ls(e,t),Fs(e,t.N),Us(e,t),zi(e.a,t.f),Ms(e,t))}function Vu(t){var e=bu(t.G,Wu(t).options.authDomain).then(function(e){return(t.o=e)&&(e.ha=t.G),mu(t.G)});return Yu(t,e)}function qu(t){var e=Wu(t).options.authDomain,n=Vu(t).then(function(){return Su(t.l,e,t.f)}).then(function(e){return e?(e.ha=t.G,t.o&&(t.o.ga||null)==(e.ga||null)?e:e.reload().then(function(){return Ou(t.l,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:Cu(t.l)})):null}).then(function(e){Uu(t,e||null)});return Yu(t,n)}function Bu(t){return t.$.then(function(){return Mu(t)}).s(function(){}).then(function(){if(!t.m)return t.pa()}).s(function(){}).then(function(){if(!t.m){t.ba=!0;var e=t.l;e.b.addListener(Tu("local"),e.a,t.pa)}})}function zu(t,e){var n=null,r=null;return Yu(t,e.then(function(e){return n=Ur(e),r=er(e),Fu(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ds(e.w(),t,p(t.jc,t))),n||e}).then(function(){return Dn({user:Ku(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function Wu(t){return t.app}function Ku(t){return t.currentUser}function Hu(t){return Ku(t)&&Ku(t)._lat||null}function Gu(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](Hu(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](Hu(t))}}function Qu(t,e){t.P.push(e),Yu(t,t.i.then(function(){!t.m&&P(t.P,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(Hu(t)))}))}function Yu(t,e){return t.R.push(e),e.na(function(){x(t.R,e)}),e}function Xu(){}function $u(){this.a={},this.b=1e12}function Ju(t,e){return(e=Zu(e))?t.a[e]||null:null}function Zu(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function tc(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ht(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():Xt(this.f,"click",this.i)}function ec(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function nc(){}function rc(){}function ic(){this.b=Lc.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}function oc(t,e,n,r,i,o,a){if(Rn(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,a?(Kp||(Kp=new rc),a=Kp):(Qp||(Qp=new ic),a=Qp),this.v=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[$p])throw new g("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Jp],!Lc.document)throw new g("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ht(e)||!this.i&&ht(e).hasChildNodes())throw new g("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new qi(t,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var u=this.a[Yp];this.a[Yp]=function(t){if(ac(s,t),"function"===typeof u)u(t);else if("string"===typeof u){var e=fn(u,Lc);"function"===typeof e&&e(t)}};var c=this.a[Xp];this.a[Xp]=function(){if(ac(s,null),"function"===typeof c)c();else if("string"===typeof c){var t=fn(c,Lc);"function"===typeof t&&t()}}}function ac(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function sc(t,e){R(t.l,function(t){return t==e})}function uc(t,e){return t.h.push(e),e.na(function(){x(t.h,e)}),e}function cc(t){if(t.A)throw new g("internal-error","RecaptchaVerifier instance has been destroyed.")}function lc(t,n,r){var i=!1;try{this.b=r||e.a.app()}catch(t){throw new g("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new g("invalid-api-key");r=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(t){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}a=e.a.SDK_VERSION?ln(e.a.SDK_VERSION,a):null,oc.call(this,r,t,n,function(){try{var t=o.b.auth().ka()}catch(e){t=null}return t},a,b(Bc),i)}function hc(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new g("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Zp.length)throw new g("internal-error","Argument validator received an unsupported number of arguments.");n=Zp[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new g("argument-error",t+" failed: "+r)}function fc(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"===typeof t}}}function pc(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"===typeof t}}}function dc(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:c}}function vc(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"===typeof t}}}function yc(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function gc(){return{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}}}function mc(){return{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Nu)}}}function bc(){return{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof e.a.app.App)}}}function _c(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ja||!n)}}}function wc(){return{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}}function Ec(){return{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}}function Tc(t,e){return c(t)&&"string"===typeof t.type&&t.type===e&&"function"===typeof t.Ha}function Ic(t){return c(t)&&"string"===typeof t.uid}function Oc(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}}function Cc(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Sc(t,e){for(var n in e){var r=e[n].name;t[r]=Ac(r,t[n],e[n].j)}}function kc(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:d(function(t){return this[t]},n),set:d(function(t,e,n,r){hc(t,[n],[r],!0),this[e]=r},r,n,e[n].jb),enumerable:!0})}}function Nc(t,e,n,r){t[e]=Ac(e,n,r)}function Ac(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return hc(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=Pc(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}function Pc(t){return t=t.split("."),t[t.length-1]}var xc,Rc="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},jc=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}return globalThis}(this);!function(t,e){if(e){var n=jc;t=t.split(".");for(var r=0;r<t.length-1;r++){var i=t[r];i in n||(n[i]={}),n=n[i]}t=t[t.length-1],r=n[t],(e=e(r))!=r&&null!=e&&Rc(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function i(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var o=jc.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.h(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new n;return e.prototype.o=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,a=new e(function(t,e){i=t,o=e});return this.Pa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var o=r(t),a=o.next();!a.done;a=o.next())i(a.value).Pa(e,n)})},e.all=function(t){var n=r(t),o=n.next();return o.done?i([]):new e(function(t,e){var r=[],a=0;do{r.push(void 0),a++,i(o.value).Pa(function(e){return function(n){r[e]=n,0==--a&&t(r)}}(r.length-1),e),o=n.next()}while(!o.done)})},e});var Dc=Dc||{},Lc=this||self,Mc=/^[\w+/_-]+[=]{0,2}$/,Fc=null,Uc="closure_uid_"+(1e9*Math.random()>>>0),Vc=0,qc=Date.now;v(g,Error),g.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},g.prototype.toJSON=function(){return this.w()};var Bc,zc="auth/",Wc={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Kc={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};Bc=b("__EID__")?"__EID__":void 0,v(w,Error),w.prototype.name="CustomError",v(E,w),E.prototype.name="AssertionError",I.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Hc=new I(function(){return new k},function(t){t.reset()});C.prototype.add=function(t,e){var n=Hc.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},k.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},k.prototype.reset=function(){this.next=this.b=this.a=null};var Gc,Qc=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Yc=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},Xc=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"===typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},$c=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"===typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},Jc=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1},Zc=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},tl=/&/g,el=/</g,nl=/>/g,rl=/"/g,il=/'/g,ol=/\x00/g,al=/[\x00&<>"']/;t:{var sl=Lc.navigator;if(sl){var ul=sl.userAgent;if(ul){Gc=ul;break t}}Gc=""}var cl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");W.prototype.sa=!0,W.prototype.ra=function(){return this.a},W.prototype.toString=function(){return"Const{"+this.a+"}"};var ll,hl={},fl={};G.prototype.sa=!0,G.prototype.ra=function(){return this.a.toString()},G.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var pl=/%{(\w+)}/g,dl=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,vl={};$.prototype.sa=!0,$.prototype.ra=function(){return this.a.toString()},$.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var yl=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,gl=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,ml=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,bl={},_l=new $("about:invalid#zClosurez",bl);et.prototype.sa=!0,et.prototype.ra=function(){return this.a.toString()},et.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var wl={};st[" "]=o;var El,Tl=F("Opera"),Il=F("Trident")||F("MSIE"),Ol=F("Edge"),Cl=Ol||Il,Sl=F("Gecko")&&!(L(Gc.toLowerCase(),"webkit")&&!F("Edge"))&&!(F("Trident")||F("MSIE"))&&!F("Edge"),kl=L(Gc.toLowerCase(),"webkit")&&!F("Edge");t:{var Nl="",Al=function(){var t=Gc;return Sl?/rv:([^\);]+)(\)|;)/.exec(t):Ol?/Edge\/([\d\.]+)/.exec(t):Il?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):kl?/WebKit\/(\S+)/.exec(t):Tl?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Al&&(Nl=Al?Al[1]:""),Il){var Pl=ct();if(null!=Pl&&Pl>parseFloat(Nl)){El=String(Pl);break t}}El=Nl}var xl,Rl={};if(Lc.document&&Il){var jl=ct();xl=jl||(parseInt(El,10)||void 0)}else xl=void 0;var Dl=xl;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(t){}var Ll,Ml,Fl=!Il||9<=Number(Dl),Ul={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Vl=!1,ql=new C,Bl=0,zl=2,Wl=3;Et.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Kl=new I(function(){return new Et},function(t){t.reset()});wt.prototype.then=function(t,e,n){return Pt(this,u(t)?t:null,u(e)?e:null,n)},wt.prototype.$goog_Thenable=!0,xc=wt.prototype,xc.na=function(t,e){return t=Tt(t,t,e),t.c=!0,At(this,t),this},xc.s=function(t,e){return Pt(this,null,t,e)},xc.cancel=function(t){if(this.a==Bl){var e=new Vt(t);mt(function(){Nt(this,e)},this)}},xc.Zc=function(t){this.a=Bl,xt(this,zl,t)},xc.$c=function(t){this.a=Bl,xt(this,Wl,t)},xc.fc=function(){for(var t;t=Lt(this);)Mt(this,t,this.a,this.i);this.h=!1};var Hl=yt;v(Vt,w),Vt.prototype.name="cancel";var Gl=0,Ql={};qt.prototype.xa=!1,qt.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var Yl=Object.freeze||function(t){return t},Xl=!Il||9<=Number(Dl),$l=Il&&!lt("9"),Jl=function(){if(!Lc.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Lc.addEventListener("test",o,e),Lc.removeEventListener("test",o,e)}catch(t){}return t}();zt.prototype.preventDefault=function(){this.defaultPrevented=!0},v(Wt,zt);var Zl=Yl({2:"touch",3:"pen",4:"mouse"});Wt.prototype.preventDefault=function(){Wt.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,$l)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Wt.prototype.g=function(){return this.a};var th="closure_listenable_"+(1e6*Math.random()|0),eh=0;Gt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Yt(t,e,r,i);return-1<a?(e=t[a],n||(e.Oa=!1)):(e=new Kt(e,this.src,o,!!r,i),e.Oa=n,t.push(e)),e};var nh="closure_lm_"+(1e6*Math.random()|0),rh={},ih=0,oh="__closure_events_fn_"+(1e9*Math.random()>>>0);v(ue,qt),ue.prototype[th]=!0,ue.prototype.addEventListener=function(t,e,n,r){Xt(this,t,e,n,r)},ue.prototype.removeEventListener=function(t,e,n,r){te(this,t,e,n,r)},ue.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"===typeof t)t=new zt(t,n);else if(t instanceof zt)t.target=t.target||n;else{var i=t;t=new zt(r,n),B(t,i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=he(a,r,!0,t)&&i}if(a=t.b=n,i=he(a,r,!0,t)&&i,i=he(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)a=t.b=e[o],i=he(a,r,!1,t)&&i;return i},ue.prototype.Da=function(){if(ue.$a.Da.call(this),this.v){var t,e=this.v,n=0;for(t in e.a){for(var r=e.a[t],i=0;i<r.length;i++)++n,Ht(r[i]);delete e.a[t],e.b--}}this.fb=null},xc=ge.prototype,xc.V=function(){me(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},xc.Y=function(){return me(this),this.a.concat()},xc.clear=function(){this.b={},this.c=this.a.length=0},xc.get=function(t,e){return be(this.b,t)?this.b[t]:e},xc.set=function(t,e){be(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},xc.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ah=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;we.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ae(e,sh,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Ae(e,sh,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ae(n,"/"==n.charAt(0)?ch:uh,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Ae(n,hh)),t.join("")},we.prototype.resolve=function(t){var e=new we(this),n=!!t.f;n?Ee(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.c;if(n)Te(e,t.g);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(L(i,"./")||L(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.b.toString(),n?Ie(e,Fe(t.b)):n=!!t.h,n&&(e.h=t.h),e};var sh=/[#\/\?@]/g,uh=/[#\?:]/g,ch=/[#\?]/g,lh=/[#\?@]/g,hh=/#/g;xc=xe.prototype,xc.add=function(t,e){Re(this),this.c=null,t=Ue(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},xc.clear=function(){this.a=this.c=null,this.b=0},xc.forEach=function(t,e){Re(this),this.a.forEach(function(n,r){Yc(n,function(n){t.call(e,n,r,this)},this)},this)},xc.Y=function(){Re(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},xc.V=function(t){Re(this);var e=[];if("string"===typeof t)Le(this,t)&&(e=j(e,this.a.get(Ue(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=j(e,t[n])}return e},xc.set=function(t,e){return Re(this),this.c=null,t=Ue(this,t),Le(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},xc.get=function(t,e){return t?(t=this.V(t),0<t.length?String(t[0]):e):e},xc.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var fh={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ph=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g,dh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vh=/^[^@]+@[^@]+$/,yh="Firefox",gh="Chrome",mh={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};In.prototype.get=function(){var t=Lc.navigator;return(t&&"boolean"===typeof t.onLine&&(vn()||"chrome-extension:"===yn()||"undefined"!==typeof t.connection)?t.onLine:1)?this.b?this.c:this.a:Math.min(5e3,this.a)};var bh,_h={};try{var wh={};Object.defineProperty(wh,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(wh,"abcd",{configurable:!0,enumerable:!0,value:2}),bh=2==wh.abcd}catch(t){bh=!1}Un.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Eh="displayName",Th="enrolledAt",Ih="mfaEnrollmentId",Oh="phoneInfo";v(qn,Un),qn.prototype.w=function(){var t=qn.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var Ch="REVERT_SECOND_FACTOR_ADDITION",Sh="EMAIL_SIGNIN",kh="VERIFY_AND_CHANGE_EMAIL",Nh="email",Ah="mfaInfo",Ph="newEmail",xh="requestType",Rh="email",jh="fromEmail",Dh="multiFactorInfo",Lh="previousEmail",Mh="data",Fh="operation",Uh="apiKey",Vh="oobCode",qh="continueUrl",Bh="languageCode",zh="mode",Wh="tenantId",Kh={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Ch,signIn:Sh,verifyAndChangeEmail:kh,verifyEmail:"VERIFY_EMAIL"},Hh="android",Gh="dynamicLinkDomain",Qh="handleCodeInApp",Yh="iOS",Xh="url",$h="installApp",Jh="minimumVersion",Zh="packageName",tf="bundleId",ef=null;$n.prototype.S=function(){return this.f},$n.prototype.i=function(){return this.b},$n.prototype.toString=function(){return this.g};var nf="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),rf=["client_id","response_type","scope","redirect_uri","state"],of={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:rf},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:rf},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:rf},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:nf},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}},af="idToken",sf="providerId";v(rr,nr),v(ir,rr),v(or,rr),v(ar,rr),v(sr,rr);var uf="enroll",cf="signin";cr.prototype.Ha=function(){return It(this.a?this.a:this.b)},cr.prototype.w=function(){return this.type==uf?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},lr.prototype.ja=function(){},lr.prototype.b=function(){},lr.prototype.c=function(){},lr.prototype.w=function(){},fr.prototype.ja=function(t){return lo(t,pr(this))},fr.prototype.b=function(t,e){var n=pr(this);return n.idToken=e,ho(t,n)},fr.prototype.c=function(t,e){return hr(fo(t,pr(this)),e)},fr.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},vr.prototype.ja=function(t){return lo(t,yr(this))},vr.prototype.b=function(t,e){var n=yr(this);return n.idToken=e,ho(t,n)},vr.prototype.c=function(t,e){return hr(fo(t,yr(this)),e)},vr.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},mr.prototype.Ka=function(t){return this.Hb=q(t),this},v(br,mr),v(_r,mr),_r.prototype.Ca=function(t){return P(this.a,t)||this.a.push(t),this},_r.prototype.Pb=function(){return D(this.a)},_r.prototype.credential=function(t,e){var n;if(n=c(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null},!n.idToken&&!n.accessToken)throw new g("argument-error","credential failed: must provide the ID token and/or the access token.");return new vr(this.providerId,n,this.providerId)},v(wr,_r),Rn(wr,"PROVIDER_ID","facebook.com"),Rn(wr,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),v(Tr,_r),Rn(Tr,"PROVIDER_ID","github.com"),Rn(Tr,"GITHUB_SIGN_IN_METHOD","github.com"),v(Or,_r),Rn(Or,"PROVIDER_ID","google.com"),Rn(Or,"GOOGLE_SIGN_IN_METHOD","google.com"),v(Sr,mr),Rn(Sr,"PROVIDER_ID","twitter.com"),Rn(Sr,"TWITTER_SIGN_IN_METHOD","twitter.com"),Nr.prototype.ja=function(t){return this.signInMethod==Pr.EMAIL_LINK_SIGN_IN_METHOD?vo(t,qf,{email:this.a,oobCode:this.f}):vo(t,cp,{email:this.a,password:this.f})},Nr.prototype.b=function(t,e){return this.signInMethod==Pr.EMAIL_LINK_SIGN_IN_METHOD?vo(t,Bf,{idToken:e,email:this.a,oobCode:this.f}):vo(t,ep,{idToken:e,email:this.a,password:this.f})},Nr.prototype.c=function(t,e){return hr(this.ja(t),e)},Nr.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},jn(Pr,{PROVIDER_ID:"password"}),jn(Pr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),jn(Pr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),jr.prototype.ja=function(t){return t.eb(Lr(this))},jr.prototype.b=function(t,e){var n=Lr(this);return n.idToken=e,vo(t,hp,n)},jr.prototype.c=function(t,e){var n=Lr(this);return n.operation="REAUTH",t=vo(t,fp,n),hr(t,e)},jr.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Mr.prototype.eb=function(t,e){var n=this.a.a;return It(e.verify()).then(function(r){if("string"!==typeof r)throw new g("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i,o=c(t)?t.session:null,a=c(t)?t.phoneNumber:t;return i=o&&o.type==uf?o.Ha().then(function(t){return ro(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})}):o&&o.type==cf?o.Ha().then(function(e){return oo(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):no(n,{phoneNumber:a,recaptchaToken:r}),i.then(function(t){return"function"===typeof e.reset&&e.reset(),t},function(t){throw"function"===typeof e.reset&&e.reset(),t});default:throw new g("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},jn(Mr,{PROVIDER_ID:"phone"}),jn(Mr,{PHONE_SIGN_IN_METHOD:"phone"}),qr.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},qr.prototype.S=function(){return this.h},qr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var lf=null;v(Kr,g),v(Hr,g),Hr.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&B(t,e),t},Hr.prototype.toJSON=function(){return this.w()},Qr.prototype.c=null;var hf;v(Xr,Qr),Xr.prototype.a=function(){var t=$r(this);return t?new ActiveXObject(t):new XMLHttpRequest},Xr.prototype.b=function(){var t={};return $r(this)&&(t[0]=!0,t[1]=!0),t},hf=new Xr,v(Jr,Qr),Jr.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Zr;throw Error("Unsupported browser")},Jr.prototype.b=function(){return{}},xc=Zr.prototype,xc.open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},xc.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},xc.abort=function(){this.a.abort()},xc.setRequestHeader=function(){},xc.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},xc.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ti(this,4)},xc.Rb=function(){this.status=500,this.response=this.responseText="",ti(this,4)},xc.uc=function(){this.Rb()},xc.qc=function(){this.status=200,ti(this,1)},xc.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ei.prototype.a=null;var ff=0;ei.prototype.reset=function(t,e,n,r,i){"number"==typeof i||ff++,r||qc(),delete this.a},ri.prototype.toString=function(){return this.name};var pf=new ri("SEVERE",1e3),df=new ri("WARNING",900),vf=new ri("CONFIG",700),yf=new ri("FINE",500);ni.prototype.log=function(t,e,n){if(t.value>=ii(this).value)for(u(e)&&(e=e()),t=new ei(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var gf={},mf=null;v(si,Qr),si.prototype.a=function(){return new ui(this.f)},si.prototype.b=function(t){return function(){return t}}({}),v(ui,ue);var bf=0;xc=ui.prototype,xc.open=function(t,e){if(this.readyState!=bf)throw this.abort(),Error("Error reopening a connection");this.o=t,this.f=e,this.readyState=1,hi(this)},xc.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.o,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.tc.bind(this),this.Ta.bind(this))},xc.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,li(this)),this.readyState=bf},xc.tc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,hi(this)),this.a&&(this.readyState=3,hi(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):"undefined"!==typeof Lc.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ci(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},xc.oc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?li(this):hi(this),3==this.readyState&&ci(this)}},xc.sc=function(t){this.a&&(this.response=this.responseText=t,li(this))},xc.rc=function(t){this.a&&(this.response=t,li(this))},xc.Ta=function(t){var e=this.i;e&&e.log(df,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&li(this)},xc.setRequestHeader=function(t,e){this.l.append(t,e)},xc.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(df,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},xc.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(df,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ui.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),v(fi,ue);var _f="";fi.prototype.b=oi("goog.net.XhrIo");var wf=/^https?$/i,Ef=["POST","PUT"];xc=fi.prototype,xc.Ma=function(){"undefined"!=typeof Dc&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ai(this.b,Ii(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},xc.abort=function(){this.a&&this.c&&(ai(this.b,Ii(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),bi(this))},xc.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),bi(this,!0)),fi.$a.Da.call(this)},xc.Ub=function(){this.xa||(this.N||this.i||this.f?mi(this):this.Ic())},xc.Ic=function(){mi(this)},xc.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case _f:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(pf,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ai(this.b,"Can not get response: "+t.message),null}},Oi.prototype.cancel=function(t){if(this.a)this.c instanceof Oi&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):0>=--e.l&&e.cancel()}this.u?this.u.call(this.o,this):this.m=!0,this.a||(t=new Ri(this),Si(this),Ci(this,!1,t))}},Oi.prototype.v=function(t,e){this.i=!1,Ci(this,t,e)},Oi.prototype.then=function(t,e,n){var r,i,o=new wt(function(t,e){r=t,i=e});return Ni(this,r,function(t){t instanceof Ri?o.cancel():i(t)}),o.then(t,e,n)},Oi.prototype.$goog_Thenable=!0,v(xi,w),xi.prototype.message="Deferred has already fired",xi.prototype.name="AlreadyCalledError",v(Ri,w),Ri.prototype.message="Deferred was canceled",Ri.prototype.name="CanceledError",ji.prototype.c=function(){throw delete Tf[this.a],this.b};var Tf={},If=0,Of=1;v(Ui,w),v(Vi,Qr),Vi.prototype.a=function(){return new this.f},Vi.prototype.b=function(){return{}};var Cf,Sf="idToken",kf=new In(3e4,6e4),Nf={"Content-Type":"application/x-www-form-urlencoded"},Af=new In(3e4,6e4),Pf={"Content-Type":"application/json"};qi.prototype.S=function(){return this.b},qi.prototype.u=function(t,e,n,r,i,o){if(on()&&("undefined"===typeof Lc.fetch||"undefined"===typeof Lc.Headers||"undefined"===typeof Lc.Request))throw new g("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new fi(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout(function(){a.dispatchEvent("timeout")},o)}ce(a,"complete",function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(Ti(this))||null}catch(e){t=null}e&&e(t)}),le(a,"ready",function(){s&&clearTimeout(s),Bt(this)}),le(a,"timeout",function(){s&&clearTimeout(s),Bt(this),e&&e(null)}),pi(a,t,n,r,i)};var xf=new W(fl,"https://apis.google.com/js/client.js?onload=%{onload}"),Rf="__fcb"+Math.floor(1e6*Math.random()).toString();qi.prototype.o=function(t,e,n,r,i){var o=this;Cf.then(function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},qi.prototype.yb=function(){return vo(this,np,{})},qi.prototype.Ab=function(t,e){return vo(this,tp,{idToken:t,email:e})},qi.prototype.Bb=function(t,e){return vo(this,ep,{idToken:t,password:e})};var jf={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};xc=qi.prototype,xc.Cb=function(t,e){var n={idToken:t},r=[];return U(jf,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),vo(this,tp,n)},xc.ub=function(t,e){return t={requestType:"PASSWORD_RESET",email:t},B(t,e),vo(this,Yf,t)},xc.vb=function(t,e){return t={requestType:"EMAIL_SIGNIN",email:t},B(t,e),vo(this,Hf,t)},xc.tb=function(t,e){return t={requestType:"VERIFY_EMAIL",idToken:t},B(t,e),vo(this,Gf,t)},xc.Db=function(t,e,n){return t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},B(t,n),vo(this,Qf,t)},xc.eb=function(t){return vo(this,lp,t)},xc.mb=function(t,e){return vo(this,Jf,{oobCode:t,newPassword:e})},xc.Qa=function(t){return vo(this,Lf,{oobCode:t})},xc.ib=function(t){return vo(this,Df,{oobCode:t})};var Df={endpoint:"setAccountInfo",B:po,Z:"email",C:!0},Lf={endpoint:"resetPassword",B:po,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new g("internal-error")},C:!0},Mf={endpoint:"signupNewUser",B:function(t){if(Xi(t),!t.password)throw new g("weak-password")},F:to,U:!0,C:!0},Ff={endpoint:"createAuthUri",C:!0},Uf={endpoint:"deleteAccount",M:["idToken"]},Vf={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if(!Array.isArray(t.deleteProvider))throw new g("internal-error")}},qf={endpoint:"emailLinkSignin",M:["email","oobCode"],B:Xi,F:to,U:!0,C:!0},Bf={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:Xi,F:to,U:!0},zf={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:io,F:to,C:!0,Na:!0},Wf={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:io,F:to,C:!0,Na:!0},Kf={endpoint:"getAccountInfo"},Hf={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new g("internal-error");Xi(t)},Z:"email",C:!0},Gf={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new g("internal-error")},Z:"email",C:!0},Qf={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new g("internal-error")},Z:"email",C:!0},Yf={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new g("internal-error");Xi(t)},Z:"email",C:!0},Xf={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},$f={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new g("internal-error")}},Jf={endpoint:"resetPassword",B:po,Z:"email",C:!0},Zf={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},tp={endpoint:"setAccountInfo",M:["idToken"],B:$i,U:!0},ep={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if($i(t),!t.password)throw new g("weak-password")},F:to,U:!0},np={endpoint:"signupNewUser",F:to,U:!0,C:!0},rp={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new g("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new g("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new g("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new g("internal-error")},C:!0,Na:!0},ip={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new g("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new g("internal-error")},C:!0,Na:!0},op={endpoint:"verifyAssertion",B:so,Xa:uo,F:co,U:!0,C:!0},ap={endpoint:"verifyAssertion",B:so,Xa:uo,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new g("user-not-found");if(t.errorMessage)throw yo(t.errorMessage);to(t)},U:!0,C:!0},sp={endpoint:"verifyAssertion",B:function(t){if(so(t),!t.idToken)throw new g("internal-error")},Xa:uo,F:co,U:!0},up={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new g("invalid-custom-token")},F:to,U:!0,C:!0},cp={endpoint:"verifyPassword",B:function(t){if(Xi(t),!t.password)throw new g("wrong-password")},F:to,U:!0,C:!0},lp={endpoint:"verifyPhoneNumber",B:eo,F:to,C:!0},hp={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new g("internal-error");eo(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Gr(t);to(t)}},fp={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:eo,F:to,C:!0},pp={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[Sf]^!!t.refreshToken)throw new g("internal-error")},C:!0,Na:!0},dp=new W(fl,"https://apis.google.com/js/api.js?onload=%{onload}"),vp=new In(3e4,6e4),yp=new In(5e3,15e3),gp=null;To.prototype.toString=function(){return this.f?Oe(this.a,"v",this.f):De(this.a.b,"v"),this.b?Oe(this.a,"eid",this.b):De(this.a.b,"eid"),this.c.length?Oe(this.a,"fw",this.c.join(",")):De(this.a.b,"fw"),this.a.toString()},Io.prototype.xb=function(t){return this.h=t,this},Io.prototype.toString=function(){if(this.m){var t=Se(this.m.url);t=ke(t.f,t.a,t.g,"/emulator/auth/handler")}else t=ke("https",this.u,null,"/__/auth/handler");if(Oe(t,"apiKey",this.o),Oe(t,"appName",this.c),Oe(t,"authType",this.v),this.a.isOAuthProvider){var n=this.a;try{var r=e.a.app(this.c).auth().ka()}catch(t){r=null}n.nb=r,Oe(t,"providerId",this.a.providerId),r=this.a,n=bn(r.Hb);for(var i in n)n[i]=n[i].toString();i=r.Pc,n=q(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}r.ob&&r.nb&&!n[r.ob]&&(n[r.ob]=r.nb),V(n)||Oe(t,"customParameters",mn(n))}if("function"===typeof this.a.Pb&&(r=this.a.Pb(),r.length&&Oe(t,"scopes",r.join(","))),this.l?Oe(t,"redirectUrl",this.l):De(t.b,"redirectUrl"),this.g?Oe(t,"eventId",this.g):De(t.b,"eventId"),this.i?Oe(t,"v",this.i):De(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Ce(t,s)&&Oe(t,s,this.b[s]);return this.h?Oe(t,"tid",this.h):De(t.b,"tid"),this.f?Oe(t,"eid",this.f):De(t.b,"eid"),s=Oo(this.c),s.length&&Oe(t,"fw",s.join(",")),t.toString()},xc=Co.prototype,xc.Nb=function(t,e,n){var r=new g("popup-closed-by-user"),i=new g("web-storage-unsupported"),o=this,a=!1;return this.la().then(function(){xo(o).then(function(n){n||(t&&$e(t),e(i),a=!0)})}).s(function(){}).then(function(){if(!a)return Ze(t)}).then(function(){if(!a)return pe(n).then(function(){e(r)})})},xc.Wb=function(){var t=hn();return!gn(t)&&!En(t)},xc.Sb=function(){return!1},xc.Lb=function(t,e,n,r,i,o,a,s){if(!t)return Ot(new g("popup-blocked"));if(a&&!gn())return this.la().s(function(e){$e(t),i(e)}),r(),It();this.a||(this.a=So(No(this)));var u=this;return this.a.then(function(){var e=u.la().s(function(e){throw $e(t),i(e),e});return r(),e}).then(function(){if(Vr(n),!a){Ge(Ao(u.o,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)}}).s(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},xc.Mb=function(t,e,n,r){this.a||(this.a=So(No(this)));var i=this;return this.a.then(function(){Vr(e),Ge(Ao(i.o,i.g,i.b,t,e,He(),n,i.c,void 0,i.i,r,i.f))}).s(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},xc.la=function(){var t=this;return ko(this).then(function(){return t.m.qb}).s(function(){throw t.a=null,new g("network-request-failed")})},xc.Zb=function(){return!0},xc.Ea=function(t){this.h.push(t)},xc.Ra=function(t){R(this.h,function(e){return e==t})},xc=Ro.prototype,xc.get=function(t){return It(this.a.getItem(t)).then(function(t){return t&&_n(t)})},xc.set=function(t,e){return It(this.a.setItem(t,mn(e)))},xc.T=function(t){return It(this.a.removeItem(t))},xc.ca=function(){},xc.ia=function(){};var mp=[];jo.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];Yc(r,function(e){i.push(It().then(function(){return e(t.origin,t.data.data)}))}),kt(i).then(function(r){var i=[];Yc(r,function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})}),Yc(i,function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},Mo.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Fo.prototype.close=function(){for(;0<this.a.length;)Vo(this,this.a[0]);this.b=!0};var bp;xc=qo.prototype,xc.set=function(t,e){var n=this,r=!1;return Ko(this,function(e){return e=Go(Qo(e,!0)),Yo(e.get(t))}).then(function(i){return Ko(n,function(o){if(o=Go(Qo(o,!0)),i)return i.value=e,Yo(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Yo(o.add(a))})}).then(function(){return n.c[t]=e,Xo(n,t)}).na(function(){r&&n.b--})},xc.get=function(t){return Ko(this,function(e){return Yo(Go(Qo(e,!1)).get(t))}).then(function(t){return t&&t.value})},xc.T=function(t){var e=this,n=!1;return Ko(this,function(r){return n=!0,e.b++,Yo(Go(Qo(r,!0)).delete(t))}).then(function(){return delete e.c[t],Xo(e,t)}).na(function(){n&&e.b--})},xc.ca=function(t){0==this.a.length&&Jo(this),this.a.push(t)},xc.ia=function(t){R(this.a,function(e){return e==t}),0==this.a.length&&Zo(this)},xc=ta.prototype,xc.get=function(t){return this.b.then(function(e){return e.get(t)})},xc.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},xc.T=function(t){return this.b.then(function(e){return e.T(t)})},xc.ca=function(t){this.a.push(t)},xc.ia=function(t){R(this.a,function(e){return e==t})},xc=ea.prototype,xc.get=function(t){return It(this.a[t])},xc.set=function(t,e){return this.a[t]=e,It()},xc.T=function(t){return delete this.a[t],It()},xc.ca=function(){},xc.ia=function(){},xc=na.prototype,xc.get=function(t){var e=this;return It().then(function(){return _n(e.a.getItem(t))})},xc.set=function(t,e){var n=this;return It().then(function(){var r=mn(e);null===r?n.T(t):n.a.setItem(t,r)})},xc.T=function(t){var e=this;return It().then(function(){e.a.removeItem(t)})},xc.ca=function(t){Lc.window&&Xt(Lc.window,"storage",t)},xc.ia=function(t){Lc.window&&te(Lc.window,"storage",t)},xc=oa.prototype,xc.get=function(){return It(null)},xc.set=function(){return It()},xc.T=function(){return It()},xc.ca=function(){},xc.ia=function(){},xc=aa.prototype,xc.get=function(t){var e=this;return It().then(function(){return _n(e.a.getItem(t))})},xc.set=function(t,e){var n=this;return It().then(function(){var r=mn(e);null===r?n.T(t):n.a.setItem(t,r)})},xc.T=function(t){var e=this;return It().then(function(){e.a.removeItem(t)})},xc.ca=function(){},xc.ia=function(){};var _p,wp,Ep={D:na,ab:aa},Tp={D:na,ab:aa},Ip={D:Ro,ab:oa},Op={D:na,ab:oa},Cp={qd:"local",NONE:"none",sd:"session"};xc=ha.prototype,xc.get=function(t,e){return pa(this,t.D).get(da(t,e))},xc.set=function(t,e,n){var r=da(t,n),i=this,o=pa(this,t.D);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.D&&(i.b[r]=e)})},xc.addListener=function(t,e,n){t=da(t,e),this.l&&(this.b[t]=Lc.localStorage.getItem(t)),V(this.a)&&(pa(this,"local").ca(this.f),this.h||(Ke()||!Nn())&&Lc.indexedDB||!this.l||ga(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},xc.removeListener=function(t,e,n){t=da(t,e),this.a[t]&&(R(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),V(this.a)&&(pa(this,"local").ia(this.f),ma(this))},xc.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=Lc.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?pa(this,"local").ia(this.f):ma(this),this.v)if(n=Lc.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?Lc.localStorage.setItem(e,r):Lc.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"===typeof t.a.a)return;var o=this;n=function(){"undefined"===typeof t.a.a&&o.b[e]===Lc.localStorage.getItem(e)||(o.b[e]=Lc.localStorage.getItem(e),o.lb(e))},Il&&Dl&&10==Dl&&Lc.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else Yc(t,p(this.lb,this))},xc.lb=function(t){this.a[t]&&Yc(this.a[t],function(t){t()})};var Sp,kp={name:"authEvent",D:"local"};v(Ta,Ea);for(var Np=64,Ap=Np-1,Pp=[],xp=0;xp<Ap;xp++)Pp[xp]=0;var Rp=j(128,Pp);Ta.prototype.reset=function(){this.g=this.c=0,this.a=Lc.Int32Array?new Int32Array(this.h):D(this.h)};var jp=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];v(Ca,Ta);var Dp=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];xc=Sa.prototype,xc.la=function(){return this.Ia?this.Ia:this.Ia=en().then(function(){if("function"!==typeof fn("universalLinks.subscribe",Lc))throw ka("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof fn("BuildInfo.packageName",Lc))throw ka("cordova-plugin-buildinfo is not installed");if("function"!==typeof fn("cordova.plugins.browsertab.openUrl",Lc))throw ka("cordova-plugin-browsertab is not installed");if("function"!==typeof fn("cordova.InAppBrowser.open",Lc))throw ka("cordova-plugin-inappbrowser is not installed")},function(){throw new g("cordova-not-ready")})},xc.Nb=function(t,e){return e(new g("operation-not-supported-in-this-environment")),It()},xc.Lb=function(){return Ot(new g("operation-not-supported-in-this-environment"))},xc.Zb=function(){return!1},xc.Wb=function(){return!0},xc.Sb=function(){return!0},xc.Mb=function(t,e,n,r){if(this.c)return Ot(new g("redirect-operation-pending"));var i=this,o=Lc.document,a=null,s=null,u=null,c=null;return this.c=It().then(function(){return Vr(e),Ra(i)}).then(function(){return Pa(i,t,e,n,r)}).then(function(){return new wt(function(t,e){s=function(){var e=fn("cordova.plugins.browsertab.close",Lc);return t(),"function"===typeof e&&e(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),u=function(){a||(a=pe(2e3).then(function(){e(new g("redirect-cancelled-by-user"))}))},c=function(){On()&&u()},o.addEventListener("resume",u,!1),hn().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)}).s(function(t){return ja(i).then(function(){throw t})})}).na(function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&i.Ra(s),i.c=null})},xc.Ea=function(t){this.b.push(t),Ra(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new qr("unknown",null,null,null,new g("no-auth-event")),t(e))})},xc.Ra=function(t){R(this.b,function(e){return e==t})};var Lp={name:"pendingRedirect",D:"session"};Va.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=qa(this.O,this.m,this.v,null,this.G),this.i={}},Va.prototype.o=function(t){if(!t)throw new g("invalid-auth-event");if(6e5<=qc()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=qc())),e=!0;break}}return Za(this.b),e};var Mp=new In(2e3,1e4),Fp=new In(3e4,6e4);Va.prototype.qa=function(){return this.b.qa()};var Up={};Ja.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Ja.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(is(this,!0,null,t.a),It()):e.Fa(n,r)?es(this,t,e):Ot(new g("invalid-auth-event")):(is(this,!1,null,null),It())}else Ot(new g("invalid-auth-event"))},Ja.prototype.qa=function(){var t=this;return new wt(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),os(t))})},as.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ma(t.c,null,t.a,t.b),It()):e.Fa(n,r)?ss(t,e):Ot(new g("invalid-auth-event"))}else Ot(new g("invalid-auth-event"))},cs.prototype.confirm=function(t){return t=Fr(this.verificationId,t),this.a(t)};var Vp="mfaInfo",qp="mfaPendingCredential";fs.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then(function(t){var n=q(e.f);return delete n[Vp],delete n[qp],B(n,t),e.g(n)})},v(ps,g),vs.prototype.rb=function(t,e,n){return e.type==uf?ys(this,t,e,n):gs(this,t,e)},v(ms,vs),v(bs,ms),v(_s,zt),xc=ws.prototype,xc.xc=function(t){Ts(this,Es(t.gd))},xc.Qb=function(){return this.a.I().then(function(t){return new cr(t,null)})},xc.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then(function(n){return t.rb(r,n,e)}).then(function(t){return ru(n.a,t),n.a.reload()})},xc.ad=function(t){var e=this,n="string"===typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return vo(r,pp,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=Xc(e.b,function(t){return t.uid!=n});return Ts(e,r),ru(e.a,t),e.a.reload().s(function(t){if("auth/user-token-expired"!=t.code)throw t})})},xc.w=function(){return{multiFactor:{enrolledFactors:$c(this.b,function(t){return t.w()})}}},Is.prototype.start=function(){this.a=this.c,Cs(this,!0)},Is.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Ss.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:ks(this)}},Ss.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ot(new g("user-token-expired")):t||!this.b||qc()>ks(this)-3e4?this.a?Ps(this,{grant_type:"refresh_token",refresh_token:this.a}):It(null):It({accessToken:this.b.toString(),refreshToken:this.a})},xs.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},v(Ds,ue),Ds.prototype.wa=function(t){this.pa=t,Bi(this.a,t)},Ds.prototype.ka=function(){return this.pa},Ds.prototype.Ga=function(){return D(this.X)},Ds.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Rn(Ds.prototype,"providerId","firebase"),xc=Ds.prototype,xc.reload=function(){var t=this;return fu(this,Xs(this).then(function(){return nu(t).then(function(){return Hs(t)}).then(Ys)}))},xc.nc=function(t){return this.I(t).then(function(t){return new hs(t)})},xc.I=function(t){var e=this;return fu(this,Xs(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new g("internal-error");return t.accessToken!=e.ya&&(Ws(e,t.accessToken),e.dispatchEvent(new _s("tokenChanged"))),tu(e,"refreshToken",t.refreshToken),t.accessToken}))},xc.Jc=function(t){if(!(t=t.users)||!t.length)throw new g("internal-error");t=t[0],Qs(this,{uid:t.localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=ou(t),n=0;n<e.length;n++)Js(this,e[n]);tu(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new _s("userReloaded",{gd:t}))},xc.Kc=function(t){return xn("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},xc.sb=function(t){var e=this,n=null;return fu(this,t.c(this.a,this.uid).then(function(t){return ru(e,t),n=su(e,t,"reauthenticate"),e.f=null,e.reload()}).then(function(){return n}),!0)},xc.Bc=function(t){return xn("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},xc.pb=function(t){var e=this,n=null;return fu(this,au(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=su(e,t,"link"),uu(e,t)}).then(function(){return n}))},xc.Cc=function(t,e){var n=this;return fu(this,au(this,"phone").then(function(){return ls(Vs(n),t,e,p(n.pb,n))}))},xc.Lc=function(t,e){var n=this;return fu(this,It().then(function(){return ls(Vs(n),t,e,p(n.sb,n))}),!0)},xc.Ab=function(t){var e=this;return fu(this,this.I().then(function(n){return e.a.Ab(n,t)}).then(function(t){return ru(e,t),e.reload()}))},xc.dd=function(t){var e=this;return fu(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return ru(e,t),e.reload()}))},xc.Bb=function(t){var e=this;return fu(this,this.I().then(function(n){return e.a.Bb(n,t)}).then(function(t){return ru(e,t),e.reload()}))},xc.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Xs(this);var e=this;return fu(this,this.I().then(function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return ru(e,t),tu(e,"displayName",t.displayName||null),tu(e,"photoURL",t.photoUrl||null),Yc(e.providerData,function(t){"password"===t.providerId&&(Rn(t,"displayName",e.displayName),Rn(t,"photoURL",e.photoURL))}),Hs(e)}).then(Ys))},xc.bd=function(t){var e=this;return fu(this,nu(this).then(function(n){return P($s(e),t)?ao(e.a,n,[t]).then(function(t){var n={};return Yc(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),Yc($s(e),function(t){n[t]||Zs(e,t)}),n[Mr.PROVIDER_ID]||Rn(e,"phoneNumber",null),Hs(e)}):Hs(e).then(function(){throw new g("no-such-provider")})}))},xc.delete=function(){var t=this;return fu(this,this.I().then(function(e){return vo(t.a,Uf,{idToken:e})}).then(function(){t.dispatchEvent(new _s("userDeleted"))})).then(function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");Ls(t,null),Ms(t,null),Us(t,null),t.G=[],t.A=!0,zs(t),Rn(t,"refreshToken",null),t.i&&Ka(t.i,t)})},xc.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.h||null)==e&&this.g||"reauthViaPopup"==t&&(this.h||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},xc.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.h||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},xc.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.h||null)?p(this.Jb,this):"reauthViaPopup"==t&&e==(this.h||null)?p(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?p(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?p(this.Kb,this):null},xc.Dc=function(t){var e=this;return cu(this,"linkViaPopup",t,function(){return au(e,t.providerId).then(function(){return Hs(e)})},!1)},xc.Mc=function(t){return cu(this,"reauthViaPopup",t,function(){return It()},!0)},xc.Ec=function(t){var e=this;return lu(this,"linkViaRedirect",t,function(){return au(e,t.providerId)},!1)},xc.Nc=function(t){return lu(this,"reauthViaRedirect",t,function(){return It()},!0)},xc.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return n=this.I().then(function(n){return ho(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=su(i,t,"link"),uu(i,t)}).then(function(){return o}),fu(this,n)},xc.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return fu(this,It().then(function(){return hr(fo(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=su(i,t,"reauthenticate"),ru(i,t),i.f=null,i.reload()}).then(function(){return o}),!0)},xc.tb=function(t){var e=this,n=null;return fu(this,this.I().then(function(e){return n=e,"undefined"===typeof t||V(t)?{}:Hn(new Kn(t))}).then(function(t){return e.a.tb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},xc.Db=function(t,e){var n=this,r=null;return fu(this,this.I().then(function(t){return r=t,"undefined"===typeof e||V(e)?{}:Hn(new Kn(e))}).then(function(e){return n.a.Db(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},xc.ic=function(t){var e=null,n=this;return t=hr(It(t),n.uid).then(function(t){return e=su(n,t,"reauthenticate"),ru(n,t),n.f=null,n.reload()}).then(function(){return e}),fu(this,t,!0)},xc.toJSON=function(){return this.w()},xc.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&B(t,this.metadata.w()),Yc(this.providerData,function(e){t.providerData.push(Ln(e))}),B(t,this.N.w()),t};var Bp={name:"redirectUser",D:"session"};_u.prototype.g=function(){var t=this,e=Tu("local");ku(this,function(){return It().then(function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null}).then(function(n){if(n)return wu(t,"local").then(function(){t.c=e})})})};var zp={name:"persistence",D:"session"};_u.prototype.wb=function(t){var e=null,n=this;return la(t),ku(this,function(){return t!=n.c.D?n.b.get(n.c,n.a).then(function(r){return e=r,wu(n,t)}).then(function(){if(n.c=Tu(t),e)return n.b.set(n.c,e,n.a)}):It()})},v(Nu,ue),v(Au,zt),v(Pu,zt),v(xu,zt),xc=Nu.prototype,xc.wb=function(t){return t=this.l.wb(t),Yu(this,t)},xc.wa=function(t){this.aa===t||this.m||(this.aa=t,Bi(this.a,this.aa),this.dispatchEvent(new Au(this.ka())))},xc.ka=function(){return this.aa},xc.ed=function(){var t=Lc.navigator;this.wa(t?t.languages&&t.languages[0]||t.language||t.userLanguage||null:null)},xc.fd=function(t){if(!this.f){if(!/^https?:\/\//.test(t))throw new g("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");Ru(),this.f={url:t},this.settings.hb=!0,zi(this.a,this.f),this.dispatchEvent(new Pu(this.f))}},xc.Fc=function(t){this.N.push(t),Ki(this.a,e.a.SDK_VERSION?ln(e.a.SDK_VERSION,this.N):null),this.dispatchEvent(new xu(this.N))},xc.Ga=function(){return D(this.N)},xc.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},xc.S=function(){return this.W},xc.toJSON=function(){return{apiKey:Wu(this).options.apiKey,authDomain:Wu(this).options.authDomain,appName:Wu(this).name,currentUser:Ku(this)&&Ku(this).w()}},xc.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==e&&!!this.g;default:return!1}},xc.ma=function(t,e,n,r){"signInViaPopup"==t&&this.h==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},xc.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.h==e&&this.g?p(this.hc,this):null},xc.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return zu(i,lo(i.a,o))})},xc.Wc=function(t){if(!dn())return Ot(new g("operation-not-supported-in-this-environment"));var n=this,r=tr(t.providerId),i=wn(),o=null;(!gn()||rn())&&Wu(this).options.authDomain&&t.isOAuthProvider&&(o=Ao(Wu(this).options.authDomain,Wu(this).options.apiKey,Wu(this).name,"signInViaPopup",t,null,i,e.a.SDK_VERSION||null,null,null,this.S(),this.f));var a=Je(o,r&&r.ua,r&&r.ta);return r=Du(this).then(function(e){return Ha(e,a,"signInViaPopup",t,i,!!o,n.S())}).then(function(){return new wt(function(t,e){n.ma("signInViaPopup",null,new g("cancelled-popup-request"),n.h),n.g=t,n.O=e,n.h=i,n.c=Ya(n.b,n,"signInViaPopup",a,i)})}).then(function(t){return a&&$e(a),t?Dn(t):null}).s(function(t){throw a&&$e(a),t}),Yu(this,r)},xc.Xc=function(t){if(!dn())return Ot(new g("operation-not-supported-in-this-environment"));var e=this;return Yu(this,Du(this).then(function(){return Iu(e.l)}).then(function(){return Qa(e.b,"signInViaRedirect",t,void 0,e.S())}))},xc.qa=function(){var t=this;return Mu(this).then(function(e){return t.b&&ts(t.b.b),e}).s(function(e){throw t.b&&ts(t.b.b),e})},xc.cd=function(t){if(!t)return Ot(new g("null-user"));if(this.W!=t.tenantId)return Ot(new g("tenant-id-mismatch"));var e=this,n={};n.apiKey=Wu(this).options.apiKey,n.authDomain=Wu(this).options.authDomain,n.appName=Wu(this).name;var r=yu(t,n,e.G,e.Ga());return Yu(this,this.i.then(function(){if(Wu(e).options.apiKey!=t.l)return r.reload()}).then(function(){return Ku(e)&&t.uid==Ku(e).uid?(eu(Ku(e),t),e.da(t)):(Uu(e,r),Gs(r),e.da(r))}).then(function(){Gu(e)}))},xc.zb=function(){var t=this;return Yu(this,this.i.then(function(){return t.b&&ts(t.b.b),Ku(t)?(Uu(t,null),Cu(t.l).then(function(){Gu(t)})):It()}))},xc.Yc=function(){var t=this;return Su(this.l,Wu(this).options.authDomain).then(function(e){if(!t.m){var n;if(n=Ku(t)&&e){n=Ku(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return eu(Ku(t),e),Ku(t).I();(Ku(t)||e)&&(Uu(t,e),e&&(Gs(e),e.ha=t.G),t.b&&Wa(t.b,t),Gu(t))}})},xc.da=function(t){return Ou(this.l,t)},xc.kc=function(){Gu(this),this.da(Ku(this))},xc.vc=function(){this.zb()},xc.wc=function(){this.zb()},xc.jc=function(t){var e=this;return this.i.then(function(){return zu(e,It(t))})},xc.yc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(Ku(e))})},xc.zc=function(t){var e=this;Qu(this,function(){t.next(Ku(e))})},xc.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"===typeof t?t(Ku(r)):"function"===typeof t.next&&t.next(Ku(r))}),this.ac(t,e,n)},xc.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.X=r.getUid(),"function"===typeof t?t(Ku(r)):"function"===typeof t.next&&t.next(Ku(r))}),this.bc(t,e,n)},xc.mc=function(t){var e=this;return Yu(this,this.i.then(function(){return Ku(e)?Ku(e).I(t).then(function(t){return{accessToken:t}}):null}))},xc.Sc=function(t){var e=this;return this.i.then(function(){return zu(e,vo(e.a,up,{token:t}))}).then(function(t){var n=t.user;return tu(n,"isAnonymous",!1),e.da(n),t})},xc.Tc=function(t,e){var n=this;return this.i.then(function(){return zu(n,vo(n.a,cp,{email:t,password:e}))})},xc.dc=function(t,e){var n=this;return this.i.then(function(){return zu(n,vo(n.a,Mf,{email:t,password:e}))})},xc.Za=function(t){var e=this;return this.i.then(function(){return zu(e,t.ja(e.a))})},xc.Rc=function(t){return xn("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},xc.yb=function(){var t=this;return this.i.then(function(){var e=Ku(t);if(e&&e.isAnonymous){return Dn({user:e,credential:null,additionalUserInfo:Dn({providerId:null,isNewUser:!1}),operationType:"signIn"})}return zu(t,t.a.yb()).then(function(e){var n=e.user;return tu(n,"isAnonymous",!0),t.da(n),e})})},xc.getUid=function(){return Ku(this)&&Ku(this).uid||null},xc.cc=function(t){this.addAuthTokenListener(t),0<++this.A&&Ku(this)&&Bs(Ku(this))},xc.Oc=function(t){var e=this;Yc(this.u,function(n){n==t&&e.A--}),0>this.A&&(this.A=0),0==this.A&&Ku(this)&&zs(Ku(this)),this.removeAuthTokenListener(t)},xc.addAuthTokenListener=function(t){var e=this;this.u.push(t),Yu(this,this.i.then(function(){e.m||P(e.u,t)&&t(Hu(e))}))},xc.removeAuthTokenListener=function(t){R(this.u,function(e){return e==t})},xc.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l,t.b.removeListener(Tu("local"),t.a,this.pa)),this.b&&(Ka(this.b,this),ts(this.b.b)),Promise.resolve()},xc.gc=function(t){return Yu(this,Ji(this.a,t))},xc.Ac=function(t){return!!Rr(t)},xc.vb=function(t,e){var n=this;return Yu(this,It().then(function(){var t=new Kn(e);if(!t.c)throw new g("argument-error",Qh+" must be true when sending sign in link to email");return Hn(t)}).then(function(e){return n.a.vb(t,e)}).then(function(){}))},xc.hd=function(t){return this.Qa(t).then(function(t){return t.data.email})},xc.mb=function(t,e){return Yu(this,this.a.mb(t,e).then(function(){}))},xc.Qa=function(t){return Yu(this,this.a.Qa(t).then(function(t){return new Bn(t)}))},xc.ib=function(t){return Yu(this,this.a.ib(t).then(function(){}))},xc.ub=function(t,e){var n=this;return Yu(this,It().then(function(){return"undefined"===typeof e||V(e)?{}:Hn(new Kn(e))}).then(function(e){return n.a.ub(t,e)}).then(function(){}))},xc.Vc=function(t,e){return Yu(this,ls(this,t,e,p(this.Za,this)))},xc.Uc=function(t,e){var n=this;return Yu(this,It().then(function(){var r=e||He(),i=xr(t,r);if(!(r=Rr(r)))throw new g("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new g("tenant-id-mismatch");return n.Za(i)}))},Xu.prototype.render=function(){},Xu.prototype.reset=function(){},Xu.prototype.getResponse=function(){},Xu.prototype.execute=function(){};var Wp=null;$u.prototype.render=function(t,e){return this.a[this.b.toString()]=new tc(t,e),this.b++},$u.prototype.reset=function(t){var e=Ju(this,t);t=Zu(t),e&&t&&(e.delete(),delete this.a[t])},$u.prototype.getResponse=function(t){return(t=Ju(this,t))?t.getResponse():null},$u.prototype.execute=function(t){(t=Ju(this,t))&&t.execute()},tc.prototype.getResponse=function(){return ec(this),this.b},tc.prototype.execute=function(){ec(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=un();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()},6e4)},500))},tc.prototype.delete=function(){ec(this),this.g=!0,clearTimeout(this.a),this.a=null,te(this.f,"click",this.i)},Rn(nc,"FACTOR_ID","phone"),rc.prototype.g=function(){return Wp||(Wp=new $u),It(Wp)},rc.prototype.c=function(){};var Kp=null,Hp=new W(fl,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Gp=new In(3e4,6e4);ic.prototype.g=function(t){var e=this;return new wt(function(n,r){var i=setTimeout(function(){r(new g("network-request-failed"))},Gp.get());if(!Lc.grecaptcha||t!==e.f&&!e.b){Lc[e.a]=function(){if(Lc.grecaptcha){e.f=t;var o=Lc.grecaptcha.render;Lc.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(Lc.grecaptcha)}else clearTimeout(i),r(new g("internal-error"));delete Lc[e.a]};It(Di(Y(Hp,{onload:e.a,hl:t||""}))).s(function(){clearTimeout(i),r(new g("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(i),n(Lc.grecaptcha)})},ic.prototype.c=function(){this.b--};var Qp=null,Yp="callback",Xp="expired-callback",$p="sitekey",Jp="size";xc=oc.prototype,xc.Ia=function(){var t=this;return this.f?this.f:this.f=uc(this,It().then(function(){if(vn()&&!on())return tn();throw new g("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.v.g(t.u())}).then(function(e){return t.g=e,vo(t.o,$f,{})}).then(function(e){t.a[$p]=e.recaptchaSiteKey}).s(function(e){throw t.f=null,e}))},xc.render=function(){cc(this);var t=this;return uc(this,this.Ia().then(function(){if(null===t.c){var e=t.m;if(!t.i){var n=ht(e);e=pt("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},xc.verify=function(){cc(this);var t=this;return uc(this,this.render().then(function(e){return new wt(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(sc(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}})}))},xc.reset=function(){cc(this),null!==this.c&&this.g.reset(this.c)},xc.clear=function(){cc(this),this.A=!0,this.v.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ht(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},v(lc,oc);var Zp="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");Sc(Nu.prototype,{ib:{name:"applyActionCode",j:[fc("code")]},Qa:{name:"checkActionCode",j:[fc("code")]},mb:{name:"confirmPasswordReset",j:[fc("code"),fc("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[fc("email"),fc("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[fc("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[fc("emailLink")]},Gc:{name:"onAuthStateChanged",j:[Cc(dc(),vc(),"nextOrObserver"),vc("opt_error",!0),vc("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[Cc(dc(),vc(),"nextOrObserver"),vc("opt_error",!0),vc("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[fc("email"),Cc(dc("opt_actionCodeSettings",!0),yc(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[fc("email"),dc("actionCodeSettings")]},wb:{name:"setPersistence",j:[fc("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[_c()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[_c()]},Sc:{name:"signInWithCustomToken",j:[fc("token")]},Tc:{name:"signInWithEmailAndPassword",j:[fc("email"),fc("password")]},Uc:{name:"signInWithEmailLink",j:[fc("email"),fc("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[fc("phoneNumber"),Oc()]},Wc:{name:"signInWithPopup",j:[Ec()]},Xc:{name:"signInWithRedirect",j:[Ec()]},cd:{name:"updateCurrentUser",j:[Cc(function(t){return{name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof Ds)}}}(),yc(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[fc(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[fc("url")]},hd:{name:"verifyPasswordResetCode",j:[fc("code")]}}),kc(Nu.prototype,{lc:{name:"languageCode",jb:Cc(fc(),yc(),"languageCode")},ti:{name:"tenantId",jb:Cc(fc(),yc(),"tenantId")}}),Nu.Persistence=Cp,Nu.Persistence.LOCAL="local",Nu.Persistence.SESSION="session",Nu.Persistence.NONE="none",Sc(Ds.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[pc("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[pc("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[_c()]},pb:{name:"linkWithCredential",j:[_c()]},Cc:{name:"linkWithPhoneNumber",j:[fc("phoneNumber"),Oc()]},Dc:{name:"linkWithPopup",j:[Ec()]},Ec:{name:"linkWithRedirect",j:[Ec()]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[_c()]},sb:{name:"reauthenticateWithCredential",j:[_c()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[fc("phoneNumber"),Oc()]},Mc:{name:"reauthenticateWithPopup",j:[Ec()]},Nc:{name:"reauthenticateWithRedirect",j:[Ec()]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[Cc(dc("opt_actionCodeSettings",!0),yc(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[fc(null,!0)]},bd:{name:"unlink",j:[fc("provider")]},Ab:{name:"updateEmail",j:[fc("email")]},Bb:{name:"updatePassword",j:[fc("password")]},dd:{name:"updatePhoneNumber",j:[_c("phone")]},Cb:{name:"updateProfile",j:[dc("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[fc("email"),Cc(dc("opt_actionCodeSettings",!0),yc(null,!0),"opt_actionCodeSettings",!0)]}}),Sc($u.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Sc(Xu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Sc(wt.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),kc(us.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:pc("appVerificationDisabledForTesting")}}),Sc(cs.prototype,{confirm:{name:"confirm",j:[fc("verificationCode")]}}),Nc(lr,"fromJSON",function(t){t="string"===typeof t?JSON.parse(t):t;for(var e,n=[gr,Ar,Dr,dr],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[Cc(fc(),dc(),"json")]),Nc(Pr,"credential",function(t,e){return new Nr(t,e)},[fc("email"),fc("password")]),Sc(Nr.prototype,{w:{name:"toJSON",j:[fc(null,!0)]}}),Sc(wr.prototype,{Ca:{name:"addScope",j:[fc("scope")]},Ka:{name:"setCustomParameters",j:[dc("customOAuthParameters")]}}),Nc(wr,"credential",Er,[Cc(fc(),dc(),"token")]),Nc(Pr,"credentialWithLink",xr,[fc("email"),fc("emailLink")]),Sc(Tr.prototype,{Ca:{name:"addScope",j:[fc("scope")]},Ka:{name:"setCustomParameters",j:[dc("customOAuthParameters")]}}),Nc(Tr,"credential",Ir,[Cc(fc(),dc(),"token")]),Sc(Or.prototype,{Ca:{name:"addScope",j:[fc("scope")]},Ka:{name:"setCustomParameters",j:[dc("customOAuthParameters")]}}),Nc(Or,"credential",Cr,[Cc(fc(),Cc(dc(),yc()),"idToken"),Cc(fc(),yc(),"accessToken",!0)]),Sc(Sr.prototype,{Ka:{name:"setCustomParameters",j:[dc("customOAuthParameters")]}}),Nc(Sr,"credential",kr,[Cc(fc(),dc(),"token"),fc("secret",!0)]),Sc(_r.prototype,{Ca:{name:"addScope",j:[fc("scope")]},credential:{name:"credential",j:[Cc(fc(),Cc(dc(),yc()),"optionsOrIdToken"),Cc(fc(),yc(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[dc("customOAuthParameters")]}}),Sc(vr.prototype,{w:{name:"toJSON",j:[fc(null,!0)]}}),Sc(fr.prototype,{w:{name:"toJSON",j:[fc(null,!0)]}}),Nc(Mr,"credential",Fr,[fc("verificationId"),fc("verificationCode")]),Sc(Mr.prototype,{eb:{name:"verifyPhoneNumber",j:[Cc(fc(),function(t,e){return{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Tc(t.session,uf)&&"string"===typeof t.phoneNumber:t.session&&t.multiFactorHint?Tc(t.session,cf)&&Ic(t.multiFactorHint):t.session&&t.multiFactorUid?Tc(t.session,cf)&&"string"===typeof t.multiFactorUid:!!t.phoneNumber&&"string"===typeof t.phoneNumber)}}}(),"phoneInfoOptions"),Oc()]}}),Sc(jr.prototype,{w:{name:"toJSON",j:[fc(null,!0)]}}),Sc(g.prototype,{toJSON:{name:"toJSON",j:[fc(null,!0)]}}),Sc(Hr.prototype,{toJSON:{name:"toJSON",j:[fc(null,!0)]}}),Sc(Kr.prototype,{toJSON:{name:"toJSON",j:[fc(null,!0)]}}),Sc(ps.prototype,{toJSON:{name:"toJSON",j:[fc(null,!0)]}}),Sc(fs.prototype,{Qc:{name:"resolveSignIn",j:[wc()]}}),Sc(ws.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[wc(),fc("displayName",!0)]},ad:{name:"unenroll",j:[Cc({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Ic},fc(),"multiFactorInfoIdentifier")]}}),Sc(lc.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Nc(zn,"parseLink",Wn,[fc("link")]),Nc(nc,"assertion",function(t){return new bs(t)},[_c("phone")]),function(){if("undefined"===typeof e.a||!e.a.INTERNAL||!e.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Sh,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Ch,VERIFY_AND_CHANGE_EMAIL:kh,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Nu,AuthCredential:lr,Error:g};Nc(t,"EmailAuthProvider",Pr,[]),Nc(t,"FacebookAuthProvider",wr,[]),Nc(t,"GithubAuthProvider",Tr,[]),Nc(t,"GoogleAuthProvider",Or,[]),Nc(t,"TwitterAuthProvider",Sr,[]),Nc(t,"OAuthProvider",_r,[fc("providerId")]),Nc(t,"SAMLAuthProvider",br,[fc("providerId")]),Nc(t,"PhoneAuthProvider",Mr,[mc()]),Nc(t,"RecaptchaVerifier",lc,[Cc(fc(),gc(),"recaptchaContainer"),dc("recaptchaParameters",!0),bc()]),Nc(t,"ActionCodeURL",zn,[]),Nc(t,"PhoneMultiFactorGenerator",nc,[]),e.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return t=t.getProvider("app").getImmediate(),new Nu(t)},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),e.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return t=t.getProvider("auth").getImmediate(),{getUid:p(t.getUid,t),getToken:p(t.mc,t),addAuthTokenListener:p(t.cc,t),removeAuthTokenListener:p(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),e.a.registerVersion("@firebase/auth","0.15.2"),e.a.INTERNAL.extendNamespace({User:Ds})}()}).apply("undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(e,n(5))},function(t,e,n){"use strict";(function(t,e){function r(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}function i(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}e+="/"+i}return e}function o(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=Object(w.h)(t.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var s=a.split("=");2===s.length?r[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):q("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function a(t,e){return G(t.name,e.name)}function s(t,e){return G(t,e)}function u(t,e){if(void 0===e&&(e=null),null===t)return Jt.EMPTY_NODE;if("object"===typeof t&&".priority"in t&&(e=t[".priority"]),Object(E.f)(null===e||"string"===typeof e||"number"===typeof e||"object"===typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"===typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!==typeof t||".sv"in t){return new Vt(t,u(e))}if(t instanceof Array||!ee){var n=Jt.EMPTY_NODE;return r(t,function(e,r){if(Object(E.k)(t,e)&&"."!==e.substring(0,1)){var i=u(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}}),n.updatePriority(u(e))}var i=[],o=!1;if(r(t,function(t,e){if("."!==t.substring(0,1)){var n=u(e);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),i.push(new jt(t,n)))}}),0===i.length)return Jt.EMPTY_NODE;var c=Yt(i,a,function(t){return t.name},s);if(o){var l=Yt(i,Bt.getCompare());return new Jt(c,u(e),new $t({".priority":l},{".priority":Bt}))}return new Jt(c,u(e),$t.Default)}function c(t,e,n){var r,i=t.getPriority().val(),o=ye(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var a=t,s=ye(a.getValue(),e,n);return s!==a.getValue()||o!==a.getPriority().val()?new Vt(s,u(o)):t}var l=t;return r=l,o!==l.getPriority().val()&&(r=r.updatePriority(new Vt(o))),l.forEachChild(Bt,function(t,i){var o=c(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))}),r}function l(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(e,i){".priority"===e?(Object(E.f)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=l(t.child(e),i,n)}),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(t.child(".priority"),r)),n}function h(t){fn=t}function f(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace,a=t.nodeAdmin,s=void 0!==a&&a;h(r);var u=new I.c("auth-internal",new I.b("database-standalone"));return u.setComponent(new I.a("auth-internal",function(){return i},"PRIVATE")),{instance:Rn.getInstance().databaseFromApp(e,u,n,s),namespace:o}}var p,d,v,y,g,m,b,_=n(0),w=n(1),E=n(2),T=n(4),I=n(3),O=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(E.J)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(E.D)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),C=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(E.k)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),S=function(t){try{if("undefined"!==typeof window&&"undefined"!==typeof window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new O(e)}}catch(t){}return new C},k=S("localStorage"),N=S("sessionStorage"),A=new T.b("@firebase/database"),P=function(){var t=1;return function(){return t++}}(),x=function(t){var e=Object(E.I)(t),n=new E.d;n.update(e);var r=n.digest();return E.h.encodeByteArray(r)},R=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"===typeof i&&"number"===typeof i.length?n+=R.apply(null,i):n+="object"===typeof i?Object(E.J)(i):i,n+=" "}return n},j=null,D=!0,L=function(t,e){Object(E.f)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(A.logLevel=T.a.VERBOSE,j=A.log.bind(A),e&&N.set("logging_enabled",!0)):"function"===typeof t?j=t:(j=null,N.remove("logging_enabled"))},M=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===D&&(D=!1,null===j&&!0===N.get("logging_enabled")&&L(!0)),j){var n=R.apply(null,t);j(n)}},F=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];M.apply(void 0,Object(w.f)([t],e))}},U=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+R.apply(void 0,Object(w.f)(t));A.error(n)},V=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+R.apply(void 0,Object(w.f)(t));throw A.error(n),new Error(n)},q=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+R.apply(void 0,Object(w.f)(t));A.warn(n)},B=function(){"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&q("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},z=function(t){return"number"===typeof t&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},W=function(t){if(Object(E.z)()||"complete"===document.readyState)t();else{var e=!1,n=function(){if(!document.body)return void setTimeout(n,Math.floor(10));e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},K="[MIN_NAME]",H="[MAX_NAME]",G=function(t,e){if(t===e)return 0;if(t===K||e===H)return-1;if(e===K||t===H)return 1;var n=rt(t),r=rt(e);return null!==n?null!==r?n-r===0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},Q=function(t,e){return t===e?0:t<e?-1:1},Y=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(E.J)(e))},X=function(t){if("object"!==typeof t||null===t)return Object(E.J)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=Object(E.J)(e[i]),r+=":",r+=X(t[e[i]]);return r+="}"},$=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r},J=function(t){Object(E.f)(!z(t),"Invalid JSON number");var e,n,r,i,o;0===t?(n=0,r=0,e=1/t===-1/0?1:0):(e=t<0,t=Math.abs(t),t>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023),n=i+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var s=a.join(""),u="";for(o=0;o<64;o+=8){var c=parseInt(s.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()},Z=function(){return!("object"!==typeof window||!window.chrome||!window.chrome.extension||/^chrome/.test(window.location.href))},tt=function(){return"object"===typeof Windows&&"object"===typeof Windows.UI},et=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r},nt=new RegExp("^-?(0*)\\d{1,10}$"),rt=function(t){if(nt.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},it=function(t){try{t()}catch(t){setTimeout(function(){var e=t.stack||"";throw q("Exception was thrown by user callback.",e),t},Math.floor(0))}},ot=function(){return("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},at=function(t,e){var n=setTimeout(t,e);return"object"===typeof n&&n.unref&&n.unref(),n},st=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(var r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else for(var i=e.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=G(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),ut=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(E.H)(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=Object(E.H)(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=Object(E.H)(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),ct="long_polling",lt=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=k.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&k.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){Object(E.f)("string"===typeof t,"typeof type must == string"),Object(E.f)("object"===typeof e,"typeof params must == object");var n;if("websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==ct)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var i=[];return r(e,function(t,e){i.push(t+"="+e)}),n+i.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),ht=function(t,e){var n=ft(t),r=n.namespace;"firebase.com"===n.domain&&V(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||V("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||B();var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new lt(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new st(n.pathString)}},ft=function(t){var e="",n="",r="",a="",s="",u=!0,c="https",l=443;if("string"===typeof t){var h=t.indexOf("//");h>=0&&(c=t.substring(0,h-1),t=t.substring(h+2));var f=t.indexOf("/");-1===f&&(f=t.length);var p=t.indexOf("?");-1===p&&(p=t.length),e=t.substring(0,Math.min(f,p)),f<p&&(a=i(t.substring(f,p)));var d=o(t.substring(Math.min(t.length,p)));h=e.indexOf(":"),h>=0?(u="https"===c||"wss"===c,l=parseInt(e.substring(h+1),10)):h=e.length;var v=e.slice(0,h);if("localhost"===v.toLowerCase())n="localhost";else if(v.split(".").length<=2)n=v;else{var y=e.indexOf(".");r=e.substring(0,y).toLowerCase(),n=e.substring(y+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:u,scheme:c,pathString:a,namespace:s}},pt=/[\[\].#$\/\u0000-\u001F\u007F]/,dt=/[\[\].#$\u0000-\u001F\u007F]/,vt=function(t){return"string"===typeof t&&0!==t.length&&!pt.test(t)},yt=function(t){return"string"===typeof t&&0!==t.length&&!dt.test(t)},gt=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),yt(t)},mt=function(t){return null===t||"string"===typeof t||"number"===typeof t&&!z(t)||t&&"object"===typeof t&&Object(E.k)(t,".sv")},bt=function(t,e,n,r,i){i&&void 0===n||_t(Object(E.o)(t,e,i),n,r)},_t=function(t,e,n){var i=n instanceof st?new ut(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+i.toErrorString());if("function"===typeof e)throw new Error(t+"contains a function "+i.toErrorString()+" with contents = "+e.toString());if(z(e))throw new Error(t+"contains "+e.toString()+" "+i.toErrorString());if("string"===typeof e&&e.length>10485760/3&&Object(E.H)(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+i.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"===typeof e){var o=!1,a=!1;if(r(e,function(e,n){if(".value"===e)o=!0;else if(".priority"!==e&&".sv"!==e&&(a=!0,!vt(e)))throw new Error(t+" contains an invalid key ("+e+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(e),_t(t,n,i),i.pop()}),o&&a)throw new Error(t+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},wt=function(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=r.slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!vt(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(st.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},Et=function(t,e,n,i,o){if(!o||void 0!==n){var a=Object(E.o)(t,e,o);if(!n||"object"!==typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");var s=[];r(n,function(t,e){var n=new st(t);if(_t(a,e,i.child(n)),".priority"===n.getBack()&&!mt(e))throw new Error(a+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)}),wt(a,s)}},Tt=function(t,e,n,r){if(!r||void 0!==n){if(z(n))throw new Error(Object(E.o)(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!mt(n))throw new Error(Object(E.o)(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},It=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(E.o)(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ot=function(t,e,n,r){if((!r||void 0!==n)&&!vt(n))throw new Error(Object(E.o)(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ct=function(t,e,n,r){if((!r||void 0!==n)&&!yt(n))throw new Error(Object(E.o)(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},St=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ct(t,e,n,r)},kt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},Nt=function(t,e,n){var r=n.path.toString();if("string"!==typeof n.repoInfo.host||0===n.repoInfo.host.length||!vt(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!gt(r))throw new Error(Object(E.o)(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},At=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Object(E.o)(t,e,r)+"must be a boolean.")},Pt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){Object(E.K)("OnDisconnect.cancel",0,1,arguments.length),Object(E.L)("OnDisconnect.cancel",1,t,!0);var e=new E.a;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){Object(E.K)("OnDisconnect.remove",0,1,arguments.length),kt("OnDisconnect.remove",this.path_),Object(E.L)("OnDisconnect.remove",1,t,!0);var e=new E.a;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){Object(E.K)("OnDisconnect.set",1,2,arguments.length),kt("OnDisconnect.set",this.path_),bt("OnDisconnect.set",1,t,this.path_,!1),Object(E.L)("OnDisconnect.set",2,e,!0);var n=new E.a;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){Object(E.K)("OnDisconnect.setWithPriority",2,3,arguments.length),kt("OnDisconnect.setWithPriority",this.path_),bt("OnDisconnect.setWithPriority",1,t,this.path_,!1),Tt("OnDisconnect.setWithPriority",2,e,!1),Object(E.L)("OnDisconnect.setWithPriority",3,n,!0);var r=new E.a;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(Object(E.K)("OnDisconnect.update",1,2,arguments.length),kt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,q("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Et("OnDisconnect.update",1,t,this.path_,!1),Object(E.L)("OnDisconnect.update",2,e,!0);var i=new E.a;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),xt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(E.K)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Rt=function(){var t="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",e=0,n=[];return function(r){var i=r===e;e=r;var o,a=new Array(8);for(o=7;o>=0;o--)a[o]=t.charAt(r%64),r=Math.floor(r/64);Object(E.f)(0===r,"Cannot push at time == 0");var s=a.join("");if(i){for(o=11;o>=0&&63===n[o];o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)s+=t.charAt(n[o]);return Object(E.f)(20===s.length,"nextPushId: Length should be 20."),s}}(),jt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Dt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new jt(K,t),r=new jt(K,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return jt.MIN},t}(),Lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(w.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return p},set:function(t){p=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return G(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(E.g)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return jt.MIN},e.prototype.maxPost=function(){return new jt(H,p)},e.prototype.makePost=function(t,e){return Object(E.f)("string"===typeof t,"KeyIndex indexValue must always be a string."),new jt(t,p)},e.prototype.toString=function(){return".key"},e}(Dt),Mt=new Lt,Ft=function(t){return"number"===typeof t?"number:"+J(t):"string:"+t},Ut=function(t){if(t.isLeafNode()){var e=t.val();Object(E.f)("string"===typeof e||"number"===typeof e||"object"===typeof e&&Object(E.k)(e,".sv"),"Priority must be a string or number.")}else Object(E.f)(t===d||t.isEmpty(),"priority of unexpected type.");Object(E.f)(t===d||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Vt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(E.f)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ut(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return v},set:function(t){v=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(E.f)(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Ft(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?J(this.value_):this.value_,this.lazyHash_=x(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(E.f)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return Object(E.f)(i>=0,"Unknown leaf type: "+n),Object(E.f)(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(w.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?G(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return jt.MIN},e.prototype.maxPost=function(){return new jt(H,new Vt("[PRIORITY-POST]",g))},e.prototype.makePost=function(t,e){var n=y(t);return new jt(e,new Vt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Dt),Bt=new qt,zt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Wt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Ht.EMPTY_NODE,this.right=null!=o?o:Ht.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Ht.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},t.prototype.remove=function(t,e){var n,r;if(n=this,e(t,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Ht.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Kt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Wt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Ht=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Wt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Wt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new zt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new zt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new zt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new zt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Kt,t}(),Gt=Math.log(2),Qt=function(){function t(t){this.count=function(t){return parseInt(Math.log(t)/Gt,10)}(t+1),this.current_=this.count-1;var e=function(t){return parseInt(Array(t+1).join("1"),2)}(this.count);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Yt=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,a,s=r-e;if(0===s)return null;if(1===s)return o=t[e],a=n?n(o):o,new Wt(a,o.node,Wt.BLACK,null,null);var u=parseInt(s/2,10)+e,c=i(e,u),l=i(u+1,r);return o=t[u],a=n?n(o):o,new Wt(a,o.node,Wt.BLACK,c,l)},o=new Qt(t.length),a=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var c=i(o+1,s),l=t[o],h=n?n(l):l;u(new Wt(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?s(h,Wt.BLACK):(s(h,Wt.BLACK),s(h,Wt.RED))}return o}(o);return new Ht(r||e,a)},Xt={},$t=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(E.f)(Xt&&Bt,"ChildrenNode.ts has not been loaded"),m=m||new t({".priority":Xt},{".priority":Bt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(E.G)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ht?e:null},t.prototype.hasIndex=function(t){return Object(E.k)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(E.f)(e!==Mt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,o=n.getIterator(jt.Wrap),a=o.getNext();a;)i=i||e.isDefinedOn(a.node),r.push(a),a=o.getNext();var s;s=i?Yt(r,e.getCompare()):Xt;var u=e.toString(),c=Object(w.a)({},this.indexSet_);c[u]=e;var l=Object(w.a)({},this.indexes_);return l[u]=s,new t(l,c)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(E.E)(this.indexes_,function(t,i){var o=Object(E.G)(r.indexSet_,i);if(Object(E.f)(o,"Missing index implementation for "+i),t===Xt){if(o.isDefinedOn(e.node)){for(var a=[],s=n.getIterator(jt.Wrap),u=s.getNext();u;)u.name!==e.name&&a.push(u),u=s.getNext();return a.push(e),Yt(a,o.getCompare())}return Xt}var c=n.get(e.name),l=t;return c&&(l=l.remove(new jt(e.name,c))),l.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(E.E)(this.indexes_,function(t){if(t===Xt)return t;var r=n.get(e.name);return r?t.remove(new jt(e.name,r)):t}),this.indexSet_)},t}(),Jt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ut(this.priorityNode_),this.children_.isEmpty()&&Object(E.f)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return b||(b=new t(new Ht(s),null,$t.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||b},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?b:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(E.f)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new jt(e,n),i=void 0,o=void 0;return n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_)),new t(i,i.isEmpty()?b:this.priorityNode_,o)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;Object(E.f)(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Bt,function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Ft(this.getPriority().val())+":"),this.forEachChild(Bt,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":x(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new jt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new jt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new jt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,jt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,jt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===te?-1:0},t.prototype.withIndex=function(e){if(e===Mt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Mt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Bt),r=e.getIterator(Bt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Mt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Zt=function(t){function e(){return t.call(this,new Ht(s),Jt.EMPTY_NODE,$t.Default)||this}return Object(w.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Jt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Jt),te=new Zt;Object.defineProperties(jt,{MIN:{value:new jt(K,Jt.EMPTY_NODE)},MAX:{value:new jt(H,te)}}),Lt.__EMPTY_NODE=Jt.EMPTY_NODE,Vt.__childrenNodeConstructor=Jt,function(t){d=t}(te),function(t){g=t}(te);var ee=!0;!function(t){y=t}(u);var ne,re,ie=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(w.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?G(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return jt.MIN},e.prototype.maxPost=function(){return jt.MAX},e.prototype.makePost=function(t,e){var n=u(t);return new jt(e,n)},e.prototype.toString=function(){return".value"},e}(Dt),oe=new ie,ae=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(E.f)(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return Object(w.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?G(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=u(t),r=Jt.EMPTY_NODE.updateChild(this.indexPath_,n);return new jt(e,r)},e.prototype.maxPost=function(){var t=Jt.EMPTY_NODE.updateChild(this.indexPath_,te);return new jt(H,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Dt),se=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return Object(E.K)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return Object(E.K)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return Object(E.K)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return Object(E.K)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){Object(E.K)("DataSnapshot.child",0,1,arguments.length),e=String(e),Ct("DataSnapshot.child",1,e,!1);var n=new st(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Bt)},t.prototype.hasChild=function(t){Object(E.K)("DataSnapshot.hasChild",1,1,arguments.length),Ct("DataSnapshot.hasChild",1,t,!1);var e=new st(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return Object(E.K)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;return Object(E.K)("DataSnapshot.forEach",1,1,arguments.length),Object(E.L)("DataSnapshot.forEach",1,e,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(r,i){return e(new t(i,n.ref_.child(r),Bt))})},t.prototype.hasChildren=function(){return Object(E.K)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(E.K)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return Object(E.K)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),ue=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(E.J)(this.snapshot.exportVal())},t}(),ce=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),le=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new ue("value",this,new se(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(E.f)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new ce(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),he=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,Object(E.k)(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new ce(this,t,e):null},t.prototype.createEvent=function(t,e){Object(E.f)(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new ue(t.type,this,new se(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(E.f)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return s===a&&(!e.callbacks_[a]||!this.callbacks_[s]||e.callbacks_[a]===this.callbacks_[s])}return i.every(function(t){return e.callbacks_[t]===n.callbacks_[t]})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),fe=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(E.f)(ne,"Reference.ts has not been loaded"),ne},set:function(t){ne=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Mt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==K)throw new Error(r);if("string"!==typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==H)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(t.getIndex()===Bt){if(null!=e&&!mt(e)||null!=n&&!mt(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(E.f)(t.getIndex()instanceof ae||t.getIndex()===oe,"unknown index type."),null!=e&&"object"===typeof e||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return Object(E.K)("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){Object(E.K)("Query.on",2,4,arguments.length),It("Query.on",1,e,!1),Object(E.L)("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[e]=n,this.onChildEvent(a,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new le(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new he(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){Object(E.K)("Query.off",0,3,arguments.length),It("Query.off",1,t,!0),Object(E.L)("Query.off",2,e,!0),Object(E.M)("Query.off",3,n,!0);var r=null,i=null;if("value"===t){r=new le(e||null,null,n||null)}else t&&(e&&(i={},i[t]=e),r=new he(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.get=function(){return this.repo.getValue(this)},t.prototype.once=function(e,n,r,i){var o=this;Object(E.K)("Query.once",1,4,arguments.length),It("Query.once",1,e,!1),Object(E.L)("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),s=!0,u=new E.a;u.promise.catch(function(){});var c=function(t){s&&(s=!1,o.off(e,c),n&&n.bind(a.context)(t),u.resolve(t))};return this.on(e,c,function(t){o.off(e,c),a.cancel&&a.cancel.bind(a.context)(t),u.reject(t)}),u.promise},t.prototype.limitToFirst=function(e){if(Object(E.K)("Query.limitToFirst",1,1,arguments.length),"number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(Object(E.K)("Query.limitToLast",1,1,arguments.length),"number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(Object(E.K)("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Ct("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new st(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new ae(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){Object(E.K)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Mt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){Object(E.K)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Bt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){Object(E.K)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(oe);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),Object(E.K)("Query.startAt",0,2,arguments.length),bt("Query.startAt",1,e,this.path,!0),Ot("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),Object(E.K)("Query.endAt",0,2,arguments.length),bt("Query.endAt",1,e,this.path,!0),Ot("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(Object(E.K)("Query.equalTo",1,2,arguments.length),bt("Query.equalTo",1,t,this.path,!1),Ot("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return Object(E.K)("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return Object(E.K)("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=X(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(Object(E.K)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}var n=this.repo===e.repo,r=this.path.equals(e.path),i=this.queryIdentifier()===e.queryIdentifier();return n&&r&&i},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,Object(E.L)(t,3,r.cancel,!0),r.context=n,Object(E.M)(t,4,r.context,!0);else if(e)if("object"===typeof e&&null!==e)r.context=e;else{if("function"!==typeof e)throw new Error(Object(E.o)(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),pe=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),de=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),ve=function(t){return t=t||{},t.timestamp=t.timestamp||(new Date).getTime(),t},ye=function(t,e,n){return t&&"object"===typeof t?(Object(E.f)(".sv"in t,"Unexpected leaf node or priority contents"),"string"===typeof t[".sv"]?ge(t[".sv"],e,n):"object"===typeof t[".sv"]?me(t[".sv"],e):void Object(E.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},ge=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(E.f)(!1,"Unexpected server value: "+t)}},me=function(t,e,n){t.hasOwnProperty("increment")||Object(E.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!==typeof r&&Object(E.f)(!1,"Unexpected increment value: "+r);var i=e.node();if(Object(E.f)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i,a=o.getValue();return"number"!==typeof a?r:a+r},be=function(t,e,n,r){return c(e,new de(n,t),r)},_e=function(t,e,n){return c(t,new pe(e),n)},we=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();if(t=t.popFront(),this.children.has(e)){return this.children.get(e).find(t)}return null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Bt,function(t,e){n.remember(new st(t),e)}),this.forget(t)}if(this.children.size>0){var r=t.getFront();if(t=t.popFront(),this.children.has(r)){this.children.get(r).forget(t)&&this.children.delete(r)}return 0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild(function(n,r){var i=new st(t.toString()+"/"+n);r.forEachTree(i,e)})},t.prototype.forEachChild=function(t){this.children.forEach(function(e,n){t(n,e)})},t}();!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(re||(re={}));var Ee,Te,Ie=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,Object(E.f)(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),Oe=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=re.ACK_USER_WRITE,this.source=Ie.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return Object(E.f)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new st(e));return new t(st.Empty,n,this.revert)}return Object(E.f)(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),Ce=function(){return Ee||(Ee=new Ht(Q)),Ee},Se=function(){function t(t,e){void 0===e&&(e=Ce()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return r(e,function(t,e){n=n.set(new st(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:st.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);if(null!=i){return{path:new st(n).child(i.path),value:i.value}}return null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=this.children.get(r)||t.Empty,o=i.set(e.popFront(),n),a=this.children.insert(r,o);return new t(this.value,a)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=this.children.get(r)||t.Empty,o=i.setTree(e.popFront(),n),a=void 0;return a=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new t(this.value,a)},t.prototype.fold=function(t){return this.fold_(st.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(t.child(r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,st.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,st.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(st.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(t.child(n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t.Empty=new t(null),t}(),ke=function(){function t(t,e){this.source=t,this.path=e,this.type=re.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,st.Empty):new t(this.source,this.path.popFront())},t}(),Ne=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=re.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,st.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),Ae=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=re.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new st(e));return n.isEmpty()?null:n.value?new Ne(this.source,st.Empty,n.value):new t(this.source,st.Empty,n)}return Object(E.f)(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Pe=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),xe=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new Pe(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new Pe(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new Pe(Jt.EMPTY_NODE,!1,!1),new Pe(Jt.EMPTY_NODE,!1,!1)),t}(),Re=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),je=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){Object(E.f)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(Re.childRemovedChange(e,a)):Object(E.f)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Re.childAddedChange(e,n)):o.trackChildChange(Re.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Bt,function(t,r){e.hasChild(t)||n.trackChildChange(Re.childRemovedChange(t,r))}),e.isLeafNode()||e.forEachChild(Bt,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(Re.childChangedChange(e,r,i))}else n.trackChildChange(Re.childAddedChange(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Jt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),De=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(E.f)(e===Re.CHILD_ADDED||e===Re.CHILD_CHANGED||e===Re.CHILD_REMOVED,"Only child changes supported for tracking"),Object(E.f)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===Re.CHILD_ADDED&&i===Re.CHILD_REMOVED)this.changeMap.set(n,Re.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===Re.CHILD_REMOVED&&i===Re.CHILD_ADDED)this.changeMap.delete(n);else if(e===Re.CHILD_REMOVED&&i===Re.CHILD_CHANGED)this.changeMap.set(n,Re.childRemovedChange(n,r.oldSnap));else if(e===Re.CHILD_CHANGED&&i===Re.CHILD_ADDED)this.changeMap.set(n,Re.childAddedChange(n,t.snapshotNode));else{if(e!==Re.CHILD_CHANGED||i!==Re.CHILD_CHANGED)throw Object(E.g)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,Re.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Le=function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}(),Me=new Le,Fe=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Pe(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),Ue=function(){function t(t,e){this.viewCache=t,this.changes=e}return t}(),Ve=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){Object(E.f)(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),Object(E.f)(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var o,a,s=new De;if(n.type===re.OVERWRITE){var u=n;u.source.fromUser?o=this.applyUserOverwrite_(e,u.path,u.snap,r,i,s):(Object(E.f)(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.getServerCache().isFiltered()&&!u.path.isEmpty(),o=this.applyServerOverwrite_(e,u.path,u.snap,r,i,a,s))}else if(n.type===re.MERGE){var c=n;c.source.fromUser?o=this.applyUserMerge_(e,c.path,c.children,r,i,s):(Object(E.f)(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,c.path,c.children,r,i,a,s))}else if(n.type===re.ACK_USER_WRITE){var l=n;o=l.revert?this.revertUserWrite_(e,l.path,r,i,s):this.ackUserWrite_(e,l.path,l.affectedTree,r,i,s)}else{if(n.type!==re.LISTEN_COMPLETE)throw Object(E.g)("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,r,s)}var h=s.getChanges();return t.maybeAddValueEvent_(e,o,h),new Ue(o,h)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Re.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,s=void 0;if(e.isEmpty())if(Object(E.f)(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),c=u instanceof Jt?u:Jt.EMPTY_NODE,l=n.calcCompleteEventChildren(c);a=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var f=e.getFront();if(".priority"===f){Object(E.f)(1===e.getLength(),"Can't have a priority with additional path components");var p=o.getNode();s=t.getServerCache().getNode();var d=n.calcEventCacheAfterServerOverwrite(e,p,s);a=null!=d?this.filter_.updatePriority(p,d):o.getNode()}else{var v=e.popFront(),y=void 0;if(o.isCompleteForChild(f)){s=t.getServerCache().getNode();var g=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),s);y=null!=g?o.getNode().getImmediateChild(f).updateChild(v,g):o.getNode().getImmediateChild(f)}else y=n.calcCompleteChild(f,t.getServerCache());a=null!=y?this.filter_.updateChild(o.getNode(),f,y,v,r,i):o.getNode()}}return t.updateEventSnap(a,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);s=c.updateFullNode(u.getNode(),l,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),p=u.getNode().getImmediateChild(h),d=p.updateChild(f,n);s=".priority"===h?c.updatePriority(u.getNode(),d):c.updateChild(u.getNode(),h,d,f,Me,null)}var v=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),y=new Fe(r,v,i);return this.generateEventCacheAfterServerEvent_(v,e,r,y,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,u=t.getEventCache(),c=new Fe(r,t,i);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),f=u.getNode().getImmediateChild(l),p=void 0;if(h.isEmpty())p=n;else{var d=c.getCompleteChild(l);p=null!=d?".priority"===h.getBack()&&d.getChild(h.parent()).isEmpty()?d:d.updateChild(h,n):Jt.EMPTY_NODE}if(f.equals(p))a=t;else{var v=this.filter_.updateChild(u.getNode(),l,p,h,c,o);a=t.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,a){var s=this,u=e;return r.foreach(function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(u=s.applyUserOverwrite_(u,l,c,i,o,a))}),r.foreach(function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(u=s.applyUserOverwrite_(u,l,c,i,o,a))}),u},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=e.isEmpty()?n:Se.Empty.setTree(e,n);var l=t.getServerCache().getNode();return u.children.inorderTraversal(function(e,n){if(l.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(u,n);c=s.applyServerOverwrite_(c,new st(e),h,r,i,o,a)}}),u.children.inorderTraversal(function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),f=s.applyMerge_(h,n);c=s.applyServerOverwrite_(c,new st(e),f,r,i,o,a)}}),c},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var u=Se.Empty;return s.getNode().forEachChild(Mt,function(t,e){u=u.set(new st(t),e)}),this.applyServerMerge_(t,e,u,r,i,a,o)}return t}var c=Se.Empty;return n.foreach(function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(c=c.set(t,s.getNode().getChild(r)))}),this.applyServerMerge_(t,e,c,r,i,a,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,Me,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var a=new Fe(n,t,r),s=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||".priority"===e.getFront()){var c=void 0;if(t.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var l=t.getServerCache().getNode();Object(E.f)(l instanceof Jt,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(l)}c=c,u=this.filter_.updateFullNode(s,c,i)}else{var h=e.getFront(),f=n.calcCompleteChild(h,t.getServerCache());null==f&&t.getServerCache().isCompleteForChild(h)&&(f=s.getImmediateChild(h)),u=null!=f?this.filter_.updateChild(s,h,f,e.popFront(),a,i):t.getEventCache().getNode().hasChild(h)?this.filter_.updateChild(s,h,Jt.EMPTY_NODE,e.popFront(),a,i):s,u.isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap()),o.isLeafNode()&&(u=this.filter_.updateFullNode(u,o,i)))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(st.Empty),t.updateEventSnap(u,o,this.filter_.filtersNodes())},t}(),qe=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach(function(t){t.type===Re.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(Re.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(i,Re.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,Re.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,Re.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,Re.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,Re.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,a=n.filter(function(t){return t.type===e});a.sort(this.compareChanges_.bind(this)),a.forEach(function(e){var n=o.materializeSingleChange_(e,i);r.forEach(function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw Object(E.g)("Should only compare child_ events.");var n=new jt(t.childName,t.snapshotNode),r=new jt(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Be=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new je(n.getIndex()),i=n.getNodeFilter();this.processor_=new Ve(i);var o=e.getServerCache(),a=e.getEventCache(),s=r.updateFullNode(Jt.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(Jt.EMPTY_NODE,a.getNode(),null),c=new Pe(s,o.isFullyInitialized(),r.filtersNodes()),l=new Pe(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new xe(l,c),this.eventGenerator_=new qe(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){Object(E.f)(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(t){e=e;var i=t.createCancelEvent(e,r);i&&n.push(i)})}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===re.MERGE&&null!==t.source.queryId&&(Object(E.f)(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),Object(E.f)(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),Object(E.f)(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];if(!e.getNode().isLeafNode()){e.getNode().forEachChild(Bt,function(t,e){n.push(Re.childAddedChange(t,e))})}return e.isFullyInitialized()&&n.push(Re.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),ze=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(E.f)(Te,"Reference.ts has not been loaded"),Te},set:function(t){Object(E.f)(!Te,"__referenceConstructor has already been defined"),Te=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,i,o=t.source.queryId;if(null!==o){var a=this.views.get(o);return Object(E.f)(null!=a,"SyncTree gave us an op for an invalid query."),a.applyOperation(t,e,n)}var s=[];try{for(var u=Object(w.h)(this.views.values()),c=u.next();!c.done;c=u.next()){var a=c.value;s=s.concat(a.applyOperation(t,e,n))}}catch(t){r={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return s},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),a=this.views.get(o);if(!a){var s=n.calcCompleteEventCache(i?r:null),u=!1;s?u=!0:r instanceof Jt?(s=n.calcCompleteEventChildren(r),u=!1):(s=Jt.EMPTY_NODE,u=!1);var c=new xe(new Pe(s,u,!1),new Pe(r,i,!1));a=new Be(t,c),this.views.set(o,a)}return a.addEventRegistration(e),a.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i,o,a=e.queryIdentifier(),s=[],u=[],c=this.hasCompleteView();if("default"===a)try{for(var l=Object(w.h)(this.views.entries()),h=l.next();!h.done;h=l.next()){var f=Object(w.e)(h.value,2),p=f[0],d=f[1];u=u.concat(d.removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(p),d.getQuery().getQueryParams().loadsAllData()||s.push(d.getQuery()))}}catch(t){i={error:t}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}else{var d=this.views.get(a);d&&(u=u.concat(d.removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(a),d.getQuery().getQueryParams().loadsAllData()||s.push(d.getQuery())))}return c&&!this.hasCompleteView()&&s.push(new t.__referenceConstructor(e.repo,e.path)),{removed:s,events:u}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=Object(w.h)(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=Object(w.h)(this.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r||a.getCompleteServerCache(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=Object(w.h)(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),We=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new Se(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=st.relativePath(i,e);return o=o.updateChild(a,n),new t(this.writeTree_.set(i,o))}var s=new Se(n);return new t(this.writeTree_.setTree(e,s))},t.prototype.addWrites=function(t,e){var n=this;return r(e,function(e,r){n=n.addWrite(t.child(e),r)}),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,Se.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(st.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Bt,function(e,n){t.push(new jt(e,n))}):this.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new jt(e,n.value))}),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new Se(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return l(st.Empty,this.writeTree_,t)},t.Empty=new t(new Se(null)),t}(),Ke=function(){function t(){this.visibleWrites_=We.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new He(t,this)},t.prototype.addOverwrite=function(t,e,n,r){Object(E.f)(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){Object(E.f)(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(e){return e.writeId===t});Object(E.f)(n>=0,"removeWrite called with nonexistent writeId.");var i=this.allWrites_[n];this.allWrites_.splice(n,1);for(var o=i.visible,a=!1,s=this.allWrites_.length-1;o&&s>=0;){var u=this.allWrites_[s];u.visible&&(s>=n&&this.recordContainsPath_(u,i.path)?o=!1:i.path.contains(u.path)&&(a=!0)),s--}if(o){if(a)return this.resetTree_(),!0;if(i.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(i.path);else{r(i.children,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(i.path.child(t))})}return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(st.Empty)){var a=function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},s=t.layerTree_(this.allWrites_,a,e),u=n||Jt.EMPTY_NODE;return s.apply(u)}return null}var c=this.visibleWrites_.getCompleteNode(e);if(null!=c)return c;var l=this.visibleWrites_.childCompoundWrite(e);if(l.isEmpty())return n;if(null!=n||l.hasCompleteWrite(st.Empty)){var u=n||Jt.EMPTY_NODE;return l.apply(u)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Jt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Bt,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Bt,function(t,e){var r=i.childCompoundWrite(new st(t)).apply(e);n=n.updateImmediateChild(t,r)}),i.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){Object(E.f)(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);if(null!=i)return i;if(n.isCompleteForChild(e)){return this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e))}return null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t),u=s.getCompleteNode(st.Empty);if(null!=u)a=u;else{if(null==e)return[];a=s.apply(e)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=h.getNext();f&&c.length<r;)0!==l(f,n)&&c.push(f),f=h.getNext();return c},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,st.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=We.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,s=void 0;if(o.snap)n.contains(a)?(s=st.relativePath(n,a),r=r.addWrite(s,o.snap)):a.contains(n)&&(s=st.relativePath(a,n),r=r.addWrite(st.Empty,o.snap.getChild(s)));else{if(!o.children)throw Object(E.g)("WriteRecord should have .snap or .children");if(n.contains(a))s=st.relativePath(n,a),r=r.addWrites(s,o.children);else if(a.contains(n))if(s=st.relativePath(a,n),s.isEmpty())r=r.addWrites(st.Empty,o.children);else{var u=Object(E.G)(o.children,s.getFront());if(u){var c=u.getChild(s.popFront());r=r.addWrite(st.Empty,c)}}}}}return r},t}(),He=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Ge=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=Se.Empty,this.pendingWriteTree_=new Ke,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new Ne(Ie.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=Se.fromObject(e);return this.applyOperationToSyncPoints_(new Ae(Ie.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var i=Se.Empty;return null!=n.snap?i=i.set(st.Empty,!0):r(n.children,function(t,e){i=i.set(new st(t),e)}),this.applyOperationToSyncPoints_(new Oe(n.path,i,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new Ne(Ie.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=Se.fromObject(e);return this.applyOperationToSyncPoints_(new Ae(Ie.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new ke(Ie.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=st.relativePath(a,e),c=new Ne(Ie.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=st.relativePath(a,e),c=Se.fromObject(n),l=new Ae(Ie.forServerTaggedQuery(s),u,c);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,a=i.queryId,s=st.relativePath(o,e),u=new ke(Ie.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,function(t,e){var n=st.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()});var a=this.syncPointTree_.get(r);a?(o=o||a.hasCompleteView(),i=i||a.getCompleteServerCache(st.Empty)):(a=new ze,this.syncPointTree_=this.syncPointTree_.set(r,a));var s;if(null!=i)s=!0;else{s=!1,i=Jt.EMPTY_NODE;this.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=e.getCompleteServerCache(st.Empty);n&&(i=i.updateImmediateChild(t,n))})}var u=a.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var c=t.makeQueryKey_(e);Object(E.f)(!this.queryToTagMap.has(c),"View does not exist, but we have a tag");var l=t.getNextQueryTag_();this.queryToTagMap.set(c,l),this.tagToQueryMap.set(l,c)}var h=this.pendingWriteTree_.childWrites(r),f=a.addEventRegistration(e,n,h,i,s);if(!u&&!o){var p=a.viewForQuery(e);f=f.concat(this.setupListener_(e,p))}return f},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var u=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;s=u.events;var l=-1!==c.findIndex(function(t){return t.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(o,function(t,e){return e.hasCompleteView()});if(l&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(f),d=0;d<p.length;++d){var v=p[d],y=v.getQuery(),g=this.createListenerForView_(v);this.listenProvider_.startListening(t.queryForListening_(y),this.tagForQuery_(y),g.hashFn,g.onComplete)}}if(!h&&c.length>0&&!r)if(l){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else c.forEach(function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)});this.removeTags_(c)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,function(e,n){var r=st.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i});return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView()){return[e.getCompleteView()]}var i=[];return e&&(i=e.getQueryViews()),r(n,function(t,e){i=i.concat(e)}),i})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var i=e.path,o=this.tagForQuery_(e),a=this.createListenerForView_(n),s=this.listenProvider_.startListening(t.queryForListening_(e),o,a.hashFn,a.onComplete),u=this.syncPointTree_.subtree(i);if(o)Object(E.f)(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var i=[];return e&&(i=i.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),r(n,function(t,e){i=i.concat(e)}),i}),l=0;l<c.length;++l){var h=c[l];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return s},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Jt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=et(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return Object(E.f)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new st(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);Object(E.f)(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(st.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(st.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(st.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,c,l))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(st.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(st.Empty));var a=[];return e.children.inorderTraversal(function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(a=a.concat(i.applyOperationDescendantsHelper_(c,o,s,u)))}),o&&(a=a.concat(o.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}(),Qe=function(){function t(){this.rootNode_=Jt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Ye=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(E.k)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(E.m)(this.counters_)},t}(),Xe=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Ye),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),$e=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(w.a)({},t);return this.last_&&r(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Je=1e4,Ze=3e4,tn=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new $e(t);var n=Je+(Ze-Je)*Math.random();at(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},i=!1;r(e,function(e,r){r>0&&Object(E.k)(t.statsToReport_,e)&&(n[e]=r,i=!0)}),i&&this.server_.reportStats(n),at(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),en=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new nn(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r){t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1}}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),nn=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();j&&M("event: "+e.toString()),it(n)}}},t.prototype.getPath=function(){return this.path_},t}(),rn=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(E.f)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(w.f)(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(E.f)(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),on=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return Object(w.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(E.f)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(rn),an=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(E.x)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return Object(w.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(E.f)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(rn),sn=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=this;this.pendingResponses[this.currentResponseNum];){if("break"===function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var e=0;e<t.length;++e)!function(e){t[e]&&it(function(){n.onMessage_(t[e])})}(e);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++}())break}},t}(),un="pLPCommand",cn="pRTLPCB",ln=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=F(t),this.stats_=Xe.getCollection(e),this.urlFn=function(t){return e.connectionURL(ct,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new sn(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),W(function(){if(!n.isClosed_){n.scriptTagHolder=new hn(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(w.e)(t,5),i=r[0],o=r[1],a=r[2];r[3],r[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(w.e)(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)},function(){n.onClosed_()},n.urlFn);var t={};t.start="t",t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!Object(E.z)()&&(!!t.forceAllow_||!t.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!Z()&&!tt())},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(E.J)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(E.i)(e),r=$(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(E.z)()){this.myDisconnFrame=document.createElement("iframe");var n={};n.dframe="t",n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(E.J)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),hn=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(E.z)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=P(),window[un+this.uniqueCallbackIdentifier]=e,window[cn+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){o='<script>document.domain="'+document.domain+'";<\/script>'}var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(t){M("frame writing exception"),t.stack&&M(t.stack),M(t)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||M("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3)),o=function(){clearTimeout(i),r()};this.addTag(t,o)},t.prototype.addTag=function(t,e){var n=this;Object(E.z)()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){M("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}},Math.floor(1))},t}(),fn="",pn=null;"undefined"!==typeof MozWebSocket?pn=MozWebSocket:"undefined"!==typeof WebSocket&&(pn=WebSocket);var dn=function(){function e(t,n,r,i,o){this.connId=t,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=F(this.connId),this.stats_=Xe.getCollection(n),this.connURL=e.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,e,n){var r={};return r.v="5",!Object(E.z)()&&"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},e.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,k.set("previous_websocket_failure",!0);try{if(Object(E.z)()){var i=this.nodeAdmin?"AdminNode":"Node",o={headers:{"User-Agent":"Firebase/5/"+fn+"/"+t.platform+"/"+i,"X-Firebase-GMPID":this.applicationId||""}},a=Object({NODE_ENV:"production",PUBLIC_URL:"/push-notification",REACT_APP_APIKEY:'AIzaSyC-IbMlaRCpe9ywQ2Ts2YmLGCDOQtyZZa8",',REACT_APP_AUTHDOMAIN:'headless-12f0d.firebaseapp.com",',REACT_APP_DATABASEURL:'https://headless-12f0d.firebaseio.com",',REACT_APP_PROJECTID:'headless-12f0d",',REACT_APP_STORAGEBUCKET:'headless-12f0d.appspot.com",',REACT_APP_MESSAGINGSENDERID:'186890154052",',REACT_APP_APPID:"1:186890154052:web:395c9e8f14a4643f"}),s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(o.proxy={origin:s}),this.mySock=new pn(this.connURL,[],o)}else{var o={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new pn(this.connURL,[],o)}}catch(t){this.log_("Error instantiating WebSocket.");var u=t.message||t.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(t){r.handleIncomingFrame(t)},this.mySock.onerror=function(t){r.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&r.log_(e),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==pn&&!e.forceDisallow_},e.previouslyFailed=function(){return k.isInMemoryStorage||!0===k.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){k.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(E.D)(e);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(Object(E.f)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(t){this.resetKeepAlive();var e=Object(E.J)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=$(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),vn=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[ln,dn]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=dn&&dn.isAvailable(),o=i&&!dn.previouslyFailed();if(e.webSocketOnly&&(i||q("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[dn];else{var a=this.transports_=[];try{for(var s=Object(w.h)(t.ALL_TRANSPORTS),u=s.next();!u.done;u=s.next()){var c=u.value;c&&c.isAvailable()&&a.push(c)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),yn=function(){function t(t,e,n,r,i,o,a,s){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=F("c:"+this.id+":"),this.transportManager_=new vn(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=at(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=Y("t",t),n=Y("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=Y("t",t),n=Y("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||--this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy())},t.prototype.onControl_=function(t){var e=Y("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?U("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):U("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&q("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),at(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):at(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(k.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),gn=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),mn=1e3,bn=3e5,_n=function(t){function e(n,r,i,o,a,s,u){var c=t.call(this)||this;if(c.repoInfo_=n,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=o,c.onServerInfoUpdate_=a,c.authTokenProvider_=s,c.authOverride_=u,c.id=e.nextPersistentConnectionId_++,c.log_=F("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=mn,c.maxReconnectDelay_=bn,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!Object(E.z)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),on.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&an.getInstance().on("online",c.onOnline_,c),c}return Object(w.c)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(Object(E.J)(i)),Object(E.f)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this,n=new E.a,r={p:t.path.toString(),q:t.queryObject()},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var t=e.outstandingGets_[o];void 0!==t&&i===t&&(delete e.outstandingGets_[o],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(o),n.promise},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Object(E.f)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Object(E.f)(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"===typeof t&&Object(E.k)(t,"w")){var n=Object(E.G)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();q("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(E.q)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(E.C)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Object(E.f)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(E.J)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):U("Unrecognized action received from server: "+Object(E.J)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(E.f)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=mn,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=mn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){var t=(new Date).getTime()-this.lastConnectionEstablishedTime_;t>3e4&&(this.reconnectDelay_=mn),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,a=this,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,i())},h=function(t){Object(E.f)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(t)};this.realtime_={close:l,sendRequest:h};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then(function(t){u?M("getToken() completed but was canceled"):(M("getToken() completed. Creating connection."),a.authToken_=t&&t.accessToken,c=new yn(o,a.repoInfo_,a.applicationId_,n,r,i,function(t){q(t+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")},s))}).then(null,function(e){a.log_("Failed to get token: "+e),u||(t.repoInfo_.nodeAdmin&&q(e),l())})}},e.prototype.interrupt=function(t){M("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){M("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(E.u)(this.interruptReasons_)&&(this.reconnectDelay_=mn,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return X(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new st(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){M("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||++this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=Object(w.h)(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,Object(w.h)(a.values())),u=s.next();!u.done;u=s.next()){var c=u.value;this.sendListen_(c)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(var l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(E.z)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+fn.replace(/\./g,"-")]=1,Object(E.x)()?t["framework.cordova"]=1:Object(E.A)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=an.getInstance().currentlyOnline();return Object(E.u)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(gn),wn=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=F("p:rest:"),i.listens_={},i}return Object(w.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(E.f)(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var s=e.getListenId_(t,r),u={};this.listens_[s]=u;var c=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",c,function(t,e){var n=e;if(404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(a,n,!1,r),Object(E.G)(o.listens_,s)===u){var c;c=t?401===t?"permission_denied":"rest_error:"+t:"ok",i(c,null)}})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=t.getQueryParams().toRestQueryStringParameters(),r=t.path.toString(),i=new E.a;return this.restRequest_(r+".json",n,function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(i){var o=i&&i.accessToken;o&&(e.auth=o);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(E.F)(e);r.log_("Sending REST request for "+a);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(n&&4===s.readyState){r.log_("REST Response for "+a+" received. status:",s.status,"response:",s.responseText);var t=null;if(s.status>=200&&s.status<300){try{t=Object(E.D)(s.responseText)}catch(t){q("Failed to parse JSON response for "+a+": "+s.responseText)}n(null,t)}else 401!==s.status&&404!==s.status&&q("Got unsuccessful REST response for "+a+" Status: "+s.status),n(s.status);n=null}},s.open("GET",a,!0),s.send()})},e}(gn),En=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new en,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new we,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.start=function(){var t=this;if(this.stats_=Xe.getCollection(this.repoInfo_),this.forceRestClient_||ot())this.server_=new wn(this.repoInfo_,this.onDataUpdate_.bind(this),this.authTokenProvider_),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var e=this.app.options.databaseAuthVariableOverride;if("undefined"!==typeof e&&null!==e){if("object"!==typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(E.J)(e)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new _n(this.repoInfo_,this.app.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),this.authTokenProvider_,e),this.server_=this.persistentConnection_}this.authTokenProvider_.addTokenChangeListener(function(e){t.server_.refreshAuthToken(e)}),this.statsReporter_=Xe.getOrCreateReporter(this.repoInfo_,function(){return new tn(t.stats_,t.server_)}),this.transactionsInit_(),this.infoData_=new Qe,this.infoSyncTree_=new Ge({startListening:function(e,n,r,i){var o=[],a=t.infoData_.getNode(e.path);return a.isEmpty()||(o=t.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Ge({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,function(n,r){var o=i(n,r);t.eventQueue_.raiseEventsForChangedPath(e.path,o)}),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})},t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new st(".info/serverTimeOffset")),e=t.val()||0;return(new Date).getTime()+e},t.prototype.generateServerValues=function(){return ve({timestamp:this.serverTime()})},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new st(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var a=Object(E.E)(e,function(t){return u(t)});o=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var s=u(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,s,r)}else if(n){var c=Object(E.E)(e,function(t){return u(t)});o=this.serverSyncTree_.applyServerMerge(i,c)}else{var l=u(e);o=this.serverSyncTree_.applyServerOverwrite(i,l)}var h=i;o.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;r(t,function(t,n){e.updateInfo_(t,n)})},t.prototype.updateInfo_=function(t,e){var n=new st("/.info/"+t),r=u(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.getValue=function(t){var e=this;return this.server_.get(t).then(function(n){var r=u(n),i=e.serverSyncTree_.applyServerOverwrite(t.path,r);return e.eventQueue_.raiseEventsAtPath(t.path,i),Promise.resolve(new se(r,t.getRef(),t.getQueryParams().getIndex()))},function(n){e.log_("get for query "+Object(E.J)(t)+" falling back to cache after error: "+n);var r=e.serverSyncTree_.calcCompleteEventCache(t.path);return r.isEmpty()?Promise.reject(new Error(n)):Promise.resolve(new se(r,t.getRef(),t.getQueryParams().getIndex()))})},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=u(e,n),s=this.serverSyncTree_.calcCompleteEventCache(t),c=_e(a,s,o),l=this.getNextWriteId_(),h=this.serverSyncTree_.applyUserOverwrite(t,c,l,!0);this.eventQueue_.queueEvents(h),this.server_.put(t.toString(),a.val(!0),function(e,n){var o="ok"===e;o||q("set at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(l,!o);i.eventQueue_.raiseEventsForChangedPath(t,a),i.callOnCompleteCallback(r,e,n)});var f=this.abortTransactions_(t);this.rerunTransactions_(f),this.eventQueue_.raiseEventsForChangedPath(f,[])},t.prototype.update=function(t,e,n){var i=this;this.log_("update",{path:t.toString(),value:e});var o=!0,a=this.generateServerValues(),s={};if(r(e,function(e,n){o=!1,s[e]=be(t.child(e),u(n),i.serverSyncTree_,a)}),o)M("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var c=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserMerge(t,s,c);this.eventQueue_.queueEvents(l),this.server_.merge(t.toString(),e,function(e,r){var o="ok"===e;o||q("update at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(c,!o),s=a.length>0?i.rerunTransactions_(t):t;i.eventQueue_.raiseEventsForChangedPath(s,a),i.callOnCompleteCallback(n,e,r)}),r(e,function(e){var n=i.abortTransactions_(t.child(e));i.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new we;this.onDisconnect_.forEachTree(st.Empty,function(r,i){var o=be(r,i,t.serverSyncTree_,e);n.remember(r,o)});var r=[];n.forEachTree(st.Empty,function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)}),this.onDisconnect_=new we,this.eventQueue_.raiseEventsForChangedPath(st.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)})},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=u(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)})},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=u(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)})},t.prototype.onDisconnectUpdate=function(t,e,n){var i=this;if(Object(E.u)(e))return M("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,function(o,a){"ok"===o&&r(e,function(e,n){var r=u(n);i.onDisconnect_.remember(t.child(e),r)}),i.callOnCompleteCallback(n,o,a)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var e;t?(this.statsListener_||(this.statsListener_=new $e(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);r(e,function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),M.apply(void 0,Object(w.f)([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&it(function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new jn(this))},enumerable:!1,configurable:!0}),t}(),Tn=function(){function t(e){this.indexedFilter_=new je(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new jt(e,n))||(n=Jt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Jt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Jt.EMPTY_NODE);var i=this;return e.forEachChild(Bt,function(t,e){i.matches(new jt(t,e))||(r=r.updateImmediateChild(t,Jt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),In=function(){function t(t){this.rangedFilter_=new Tn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new jt(e,n))||(n=Jt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Jt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Jt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext(),s=void 0;if(!(s=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=e.withIndex(this.index_),r=r.updatePriority(Jt.EMPTY_NODE);var u=void 0,c=void 0,l=void 0,i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var h=this.index_.getCompare();l=function(t,e){return h(e,t)}}else i=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();for(var o=0,f=!1;i.hasNext();){var a=i.getNext();!f&&l(u,a)<=0&&(f=!0);var s=f&&o<this.limit_&&l(a,c)<=0;s?o++:r=r.updateImmediateChild(a.name,Jt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(t,e){return a(e,t)}}else o=this.index_.getCompare();var s=t;Object(E.f)(s.numChildren()===this.limit_,"");var u=new jt(e,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(e)){for(var h=s.getImmediateChild(e),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===e||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:o(f,u);if(l&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(Re.childChangedChange(e,n,h)),s.updateImmediateChild(e,n);null!=i&&i.trackChildChange(Re.childRemovedChange(e,h));var d=s.updateImmediateChild(e,Jt.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(Re.childAddedChange(f.name,f.node)),d.updateImmediateChild(f.name,f.node)):d}return n.isEmpty()?t:l&&o(c,u)>=0?(null!=i&&(i.trackChildChange(Re.childRemovedChange(c.name,c.node)),i.trackChildChange(Re.childAddedChange(e,n))),s.updateImmediateChild(e,n).updateImmediateChild(c.name,Jt.EMPTY_NODE)):t},t}(),On=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Bt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return Object(E.f)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(E.f)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:K},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(E.f)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(E.f)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:H},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(E.f)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Bt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Bt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new je(this.getIndex()):this.hasLimit()?new In(this):new Tn(this)},t.prototype.toRestQueryStringParameters=function(){var e=t.REST_QUERY_CONSTANTS_,n={};if(this.isDefault())return n;var r;return this.index_===Bt?r=e.PRIORITY_INDEX:this.index_===oe?r=e.VALUE_INDEX:this.index_===Mt?r=e.KEY_INDEX:(Object(E.f)(this.index_ instanceof ae,"Unrecognized index type!"),r=this.index_.toString()),n[e.ORDER_BY]=Object(E.J)(r),this.startSet_&&(n[e.START_AT]=Object(E.J)(this.indexStartValue_),this.startNameSet_&&(n[e.START_AT]+=","+Object(E.J)(this.indexStartName_))),this.endSet_&&(n[e.END_AT]=Object(E.J)(this.indexEndValue_),this.endNameSet_&&(n[e.END_AT]+=","+Object(E.J)(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[e.LIMIT_TO_FIRST]=this.limit_:n[e.LIMIT_TO_LAST]=this.limit_),n},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),Cn=function(t){function e(e,n){if(!(e instanceof En))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,On.DEFAULT,!1)||this}return Object(w.c)(e,t),e.prototype.getKey=function(){return Object(E.K)("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return Object(E.K)("Reference.child",1,1,arguments.length),"number"===typeof t?t=String(t):t instanceof st||(null===this.path.getFront()?St("Reference.child",1,t,!1):Ct("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){Object(E.K)("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){Object(E.K)("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){Object(E.K)("Reference.set",1,2,arguments.length),kt("Reference.set",this.path),bt("Reference.set",1,t,this.path,!1),Object(E.L)("Reference.set",2,e,!0);var n=new E.a;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(Object(E.K)("Reference.update",1,2,arguments.length),kt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,q("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Et("Reference.update",1,t,this.path,!1),Object(E.L)("Reference.update",2,e,!0);var i=new E.a;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(Object(E.K)("Reference.setWithPriority",2,3,arguments.length),kt("Reference.setWithPriority",this.path),bt("Reference.setWithPriority",1,t,this.path,!1),Tt("Reference.setWithPriority",2,e,!1),Object(E.L)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new E.a;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return Object(E.K)("Reference.remove",0,1,arguments.length),kt("Reference.remove",this.path),Object(E.L)("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(Object(E.K)("Reference.transaction",1,3,arguments.length),kt("Reference.transaction",this.path),Object(E.L)("Reference.transaction",1,t,!1),Object(E.L)("Reference.transaction",2,e,!0),At("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new E.a;"function"===typeof e&&r.promise.catch(function(){});var i=function(t,n,i){t?r.reject(t):r.resolve(new xt(n,i)),"function"===typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){Object(E.K)("Reference.setPriority",1,2,arguments.length),kt("Reference.setPriority",this.path),Tt("Reference.setPriority",1,t,!1),Object(E.L)("Reference.setPriority",2,e,!0);var n=new E.a;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){Object(E.K)("Reference.push",0,2,arguments.length),kt("Reference.push",this.path),bt("Reference.push",1,t,this.path,!0),Object(E.L)("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=Rt(r),o=this.child(i),a=this.child(i);return n=null!=t?o.set(t,e).then(function(){return a}):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"===typeof e&&n.catch(function(){}),o},e.prototype.onDisconnect=function(){return kt("Reference.onDisconnect",this.path),new Pt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(fe);fe.__referenceConstructor=Cn,ze.__referenceConstructor=Cn;var Sn,kn=function(){function t(){this.children={},this.childCount=0,this.value=null}return t}(),Nn=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new kn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof st?e:new st(e),r=this,i=n.getFront();null!==i;){r=new t(i,r,Object(E.G)(r.node_.children,i)||new kn),n=n.popFront(),i=n.getFront()}return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){Object(E.f)("undefined"!==typeof t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;r(this.node_.children,function(r,i){e(new t(r,n,i))})},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new st(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=Object(E.k)(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"}(Sn||(Sn={})),En.MAX_TRANSACTION_RETRIES_=25,En.prototype.transactionsInit_=function(){this.transactionQueueTree_=new Nn},En.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},o=new Cn(this,t);o.on("value",i);var a=function(){o.off("value",i)},s={path:t,update:e,onComplete:n,status:null,order:P(),applyLocally:r,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=this.getLatestState_(t);s.currentInputSnapshot=c;var l=s.update(c.val());if(void 0===l){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var h=new se(s.currentInputSnapshot,new Cn(this,s.path),Bt);s.onComplete(null,!1,h)}}else{_t("transaction failed: Data returned ",l,s.path),s.status=Sn.RUN;var f=this.transactionQueueTree_.subTree(t),p=f.getValue()||[];p.push(s),f.setValue(p);var d=void 0;if("object"===typeof l&&null!==l&&Object(E.k)(l,".priority"))d=Object(E.G)(l,".priority"),Object(E.f)(mt(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{d=(this.serverSyncTree_.calcCompleteEventCache(t)||Jt.EMPTY_NODE).getPriority().val()}d=d;var v=this.generateServerValues(),y=u(l,d),g=_e(y,c,v);s.currentOutputSnapshotRaw=y,s.currentOutputSnapshotResolved=g,s.currentWriteId=this.getNextWriteId_();var m=this.serverSyncTree_.applyUserOverwrite(t,g,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,m),this.sendReadyTransactions_()}},En.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Jt.EMPTY_NODE},En.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);Object(E.f)(n.length>0,"Sending zero length transaction queue");n.every(function(t){return t.status===Sn.RUN})&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},En.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map(function(t){return t.currentWriteId}),i=this.getLatestState_(t,r),o=i,a=i.hash(),s=0;s<e.length;s++){var u=e[s];Object(E.f)(u.status===Sn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=Sn.SENT,u.retryCount++;var c=st.relativePath(t,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var l=o.val(!0),h=t;this.server_.put(h.toString(),l,function(r){n.log_("transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<e.length;a++){if(e[a].status=Sn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,u=new Cn(n,e[a].path),c=new se(s,u,Bt);o.push(e[a].onComplete.bind(null,null,!0,c))}e[a].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i);for(var a=0;a<o.length;a++)it(o[a])}else{if("datastale"===r)for(var a=0;a<e.length;a++)e[a].status===Sn.SENT_NEEDS_ABORT?e[a].status=Sn.NEEDS_ABORT:e[a].status=Sn.RUN;else{q("transaction at "+h.toString()+" failed: "+r);for(var a=0;a<e.length;a++)e[a].status=Sn.NEEDS_ABORT,e[a].abortReason=r}n.rerunTransactions_(t)}},a)},En.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},En.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter(function(t){return t.status===Sn.RUN}),o=i.map(function(t){return t.currentWriteId}),a=0;a<t.length;a++){var s=t[a],c=st.relativePath(e,s.path),l=!1,h=void 0;if(Object(E.f)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===Sn.NEEDS_ABORT)l=!0,h=s.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===Sn.RUN)if(s.retryCount>=En.MAX_TRANSACTION_RETRIES_)l=!0,h="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var f=this.getLatestState_(s.path,o);s.currentInputSnapshot=f;var p=t[a].update(f.val());if(void 0!==p){_t("transaction failed: Data returned ",p,s.path);var d=u(p),v="object"===typeof p&&null!=p&&Object(E.k)(p,".priority");v||(d=d.updatePriority(f.getPriority()));var y=s.currentWriteId,g=this.generateServerValues(),m=_e(d,f,g);s.currentOutputSnapshotRaw=d,s.currentOutputSnapshotResolved=m,s.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(y),1),r=r.concat(this.serverSyncTree_.applyUserOverwrite(s.path,m,s.currentWriteId,s.applyLocally)),r=r.concat(this.serverSyncTree_.ackUserWrite(y,!0))}else l=!0,h="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],l&&(t[a].status=Sn.COMPLETED,function(t){setTimeout(t,Math.floor(0))}(t[a].unwatcher),t[a].onComplete))if("nodata"===h){var b=new Cn(this,t[a].path),_=t[a].currentInputSnapshot,w=new se(_,b,Bt);n.push(t[a].onComplete.bind(null,null,!1,w))}else n.push(t[a].onComplete.bind(null,new Error(h),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(var a=0;a<n.length;a++)it(n[a]);this.sendReadyTransactions_()}},En.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),t=t.popFront(),e=t.getFront();return n},En.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},En.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},En.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==Sn.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},En.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},En.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)if(e[o].status===Sn.SENT_NEEDS_ABORT);else if(e[o].status===Sn.SENT)Object(E.f)(i===o-1,"All SENT items should be at beginning of queue."),i=o,e[o].status=Sn.SENT_NEEDS_ABORT,e[o].abortReason="set";else if(Object(E.f)(e[o].status===Sn.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete){n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))}-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r);for(var o=0;o<n.length;o++)it(n[o])}};var An,Pn=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then(function(t){return n.auth_=t})}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(M("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout(function(){return t(null)},0),this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',q(t)},t}(),xn=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),Rn=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return An||(An=new e),An},e.prototype.interrupt=function(){var t,e,n,r;try{for(var i=Object(w.h)(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,Object(w.h)(Object.keys(this.repos_[a]))),u=s.next();!u.done;u=s.next()){var c=u.value;this.repos_[a][c].interrupt()}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},e.prototype.resume=function(){var t,e,n,r;try{for(var i=Object(w.h)(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,Object(w.h)(Object.keys(this.repos_[a]))),u=s.next();!u.done;u=s.next()){var c=u.value;this.repos_[a][c].resume()}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},e.prototype.applyEmulatorSettings=function(t,e,n){t.repoInfo_=new lt(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new xn)},e.prototype.databaseFromApp=function(e,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||V("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),M("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=ht(o,i),u=s.repoInfo,c=void 0;"undefined"!==typeof t&&(c=Object({NODE_ENV:"production",PUBLIC_URL:"/push-notification",REACT_APP_APIKEY:'AIzaSyC-IbMlaRCpe9ywQ2Ts2YmLGCDOQtyZZa8",',REACT_APP_AUTHDOMAIN:'headless-12f0d.firebaseapp.com",',REACT_APP_DATABASEURL:'https://headless-12f0d.firebaseio.com",',REACT_APP_PROJECTID:'headless-12f0d",',REACT_APP_STORAGEBUCKET:'headless-12f0d.appspot.com",',REACT_APP_MESSAGINGSENDERID:'186890154052",',REACT_APP_APPID:"1:186890154052:web:395c9e8f14a4643f"}).FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,o="http://"+c+"?ns="+u.namespace,s=ht(o,i),u=s.repoInfo):a=!s.repoInfo.secure;var l=i&&a?new xn:new Pn(e,n);return Nt("Invalid Firebase Database URL",1,s),s.path.isEmpty()||V("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(u,e,l).database},e.prototype.deleteRepo=function(t){var e=Object(E.G)(this.repos_,t.app.name);e&&Object(E.G)(e,t.key)===t||V("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.key]},e.prototype.createRepo=function(t,e,n){var r=Object(E.G)(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var i=Object(E.G)(r,t.toURLString());return i&&V("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new En(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},e.prototype.forceRestClient=function(t){this.useRestClient_=t},e}(),jn=function(){function t(t){var e=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return Object(w.b)(e,void 0,void 0,function(){return Object(w.d)(this,function(t){return this.checkDeleted_("delete"),Rn.getInstance().deleteRepo(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]})})}},t instanceof En||V("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(t.prototype,"repo_",{get:function(){return this.instanceStarted_||(this.repoInternal_.start(),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new Cn(this.repo_,st.Empty)),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.useEmulator=function(t,e){if(this.checkDeleted_("useEmulator"),this.instanceStarted_)return void V("Cannot call useEmulator() after instance has already been initialized.");Rn.getInstance().applyEmulatorSettings(this.repoInternal_,t,e)},t.prototype.ref=function(t){return this.checkDeleted_("ref"),Object(E.K)("database.ref",0,1,arguments.length),t instanceof Cn?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),Object(E.K)(e,1,1,arguments.length);var n=ht(t,this.repo_.repoInfo_.nodeAdmin);Nt(e,1,n);var r=n.repoInfo;return r.isCustomHost()||r.host===this.repo_.repoInfo_.host||V(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repoInternal_&&V("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){Object(E.K)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){Object(E.K)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),Dn=function(){dn.forceDisallow(),ln.forceAllow()},Ln=function(){ln.forceDisallow()},Mn=function(){return dn.isAvailable()},Fn=function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},Un=function(t,e){t.repo.stats(e)},Vn=function(t,e){t.repo.statsIncrementCounter(e)},qn=function(t){return t.repo.dataUpdateCount},Bn=function(t,e){return t.repo.interceptServerData_(e)},zn=Object.freeze({__proto__:null,forceLongPolling:Dn,forceWebSockets:Ln,isWebSocketsAvailable:Mn,setSecurityDebugCallback:Fn,stats:Un,statsIncrementCounter:Vn,dataUpdateCount:qn,interceptServerData:Bn,initStandalone:f}),Wn=_n;_n.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},_n.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Kn=yn,Hn=function(t){var e=_n.prototype.put;return _n.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){_n.prototype.put=e}},Gn=lt,Qn=function(t){return t.queryIdentifier()},Yn=function(t){Rn.getInstance().forceRestClient(t)},Xn=Object.freeze({__proto__:null,DataConnection:Wn,RealTimeConnection:Kn,hijackHash:Hn,ConnectionTarget:Gn,queryIdentifier:Qn,forceRestClient:Yn}),$n="@firebase/database",Jn="0.8.1",Zn=jn.ServerValue;!function(t){h(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new I.a("database",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return Rn.getInstance().databaseFromApp(n,r,e)},"PUBLIC").setServiceProps({Reference:Cn,Query:fe,Database:jn,DataSnapshot:se,enableLogging:L,INTERNAL:zn,ServerValue:Zn,TEST_ACCESS:Xn}).setMultipleInstances(!0));t.registerVersion($n,Jn),Object(E.z)()&&(e.exports=n)}(_.a)}).call(e,n(11),n(35)(t))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";(function(t){function e(){return Ki.logLevel}function r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ki.logLevel<=Fi.a.DEBUG){var r=e.map(a);Ki.debug.apply(Ki,Object(Li.g)(["Firestore (8.1.1): "+t],r))}}function i(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ki.logLevel<=Fi.a.ERROR){var r=e.map(a);Ki.error.apply(Ki,Object(Li.g)(["Firestore (8.1.1): "+t],r))}}function o(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ki.logLevel<=Fi.a.WARN){var r=e.map(a);Ki.warn.apply(Ki,Object(Li.g)(["Firestore (8.1.1): "+t],r))}}function a(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function s(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.1.1) INTERNAL ASSERTION FAILED: "+t;throw i(e),new Error(e)}function u(t,e){t||s()}function c(t,e){return t}function l(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function h(t,e){return t<e?-1:t>e?1:0}function f(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function p(t){return t+"\0"}function d(t){return null==t}function v(t){return 0===t&&1/t==-1/0}function y(t){return"number"==typeof t&&Number.isInteger(t)&&!v(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function g(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new so(t,e,n,r,i,o,a)}function m(t){var e=c(t);if(null===e.ut){var n=e.path.J();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.J()+t.op.toString()+q(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.J()+t.dir}(t)}).join(","),d(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ce(e.startAt)),e.endAt&&(n+="|ub:",n+=ce(e.endAt)),e.ut=n}return e.ut}function b(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!pe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!M(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!he(t.startAt,e.startAt)&&he(t.endAt,e.endAt)}function _(t){return ao.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}function w(t){switch(t){case Hi.OK:return s();case Hi.CANCELLED:case Hi.UNKNOWN:case Hi.DEADLINE_EXCEEDED:case Hi.RESOURCE_EXHAUSTED:case Hi.INTERNAL:case Hi.UNAVAILABLE:case Hi.UNAUTHENTICATED:return!1;case Hi.INVALID_ARGUMENT:case Hi.NOT_FOUND:case Hi.ALREADY_EXISTS:case Hi.PERMISSION_DENIED:case Hi.FAILED_PRECONDITION:case Hi.ABORTED:case Hi.OUT_OF_RANGE:case Hi.UNIMPLEMENTED:case Hi.DATA_LOSS:return!0;default:return s()}}function E(t){if(void 0===t)return i("GRPC error has no .code"),Hi.UNKNOWN;switch(t){case co.OK:return Hi.OK;case co.CANCELLED:return Hi.CANCELLED;case co.UNKNOWN:return Hi.UNKNOWN;case co.DEADLINE_EXCEEDED:return Hi.DEADLINE_EXCEEDED;case co.RESOURCE_EXHAUSTED:return Hi.RESOURCE_EXHAUSTED;case co.INTERNAL:return Hi.INTERNAL;case co.UNAVAILABLE:return Hi.UNAVAILABLE;case co.UNAUTHENTICATED:return Hi.UNAUTHENTICATED;case co.INVALID_ARGUMENT:return Hi.INVALID_ARGUMENT;case co.NOT_FOUND:return Hi.NOT_FOUND;case co.ALREADY_EXISTS:return Hi.ALREADY_EXISTS;case co.PERMISSION_DENIED:return Hi.PERMISSION_DENIED;case co.FAILED_PRECONDITION:return Hi.FAILED_PRECONDITION;case co.ABORTED:return Hi.ABORTED;case co.OUT_OF_RANGE:return Hi.OUT_OF_RANGE;case co.UNIMPLEMENTED:return Hi.UNIMPLEMENTED;case co.DATA_LOSS:return Hi.DATA_LOSS;default:return s()}}function T(){return bo}function I(){return T()}function O(){return _o}function C(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Eo,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}function S(){return To}function k(){return new po(ao.$)}function N(){return new po(ao.$)}function A(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function P(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function x(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function R(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function j(t){var e=t.mapValue.fields.__previous_value__;return R(e)?j(e):e}function D(t){var e=z(t.mapValue.fields.__local_write_time__.timestampValue);return new to(e.seconds,e.nanos)}function L(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?R(t)?4:10:s()}function M(t,e){var n=L(t);if(n!==L(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return D(t).isEqual(D(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=z(t.timestampValue),r=z(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return K(t.bytesValue).isEqual(K(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return W(t.geoPointValue.latitude)===W(e.geoPointValue.latitude)&&W(t.geoPointValue.longitude)===W(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return W(t.integerValue)===W(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=W(t.doubleValue),r=W(e.doubleValue);return n===r?v(n)===v(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return f(t.arrayValue.values||[],e.arrayValue.values||[],M);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(A(n)!==A(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!M(n[i],r[i])))return!1;return!0}(t,e);default:return s()}}function F(t,e){return void 0!==(t.values||[]).find(function(t){return M(t,e)})}function U(t,e){var n=L(t),r=L(e);if(n!==r)return h(n,r);switch(n){case 0:return 0;case 1:return h(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=W(t.integerValue||t.doubleValue),r=W(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return V(t.timestampValue,e.timestampValue);case 4:return V(D(t),D(e));case 5:return h(t.stringValue,e.stringValue);case 6:return function(t,e){var n=K(t),r=K(e);return n.F(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=h(n[i],r[i]);if(0!==o)return o}return h(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=h(W(t.latitude),W(e.latitude));return 0!==n?n:h(W(t.longitude),W(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=U(n[i],r[i]);if(o)return o}return h(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=h(r[a],o[a]);if(0!==s)return s;var u=U(n[r[a]],i[o[a]]);if(0!==u)return u}return h(r.length,o.length)}(t.mapValue,e.mapValue);default:throw s()}}function V(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return h(t,e);var n=z(t),r=z(e),i=h(n.seconds,r.seconds);return 0!==i?i:h(n.nanos,r.nanos)}function q(t){return B(t)}function B(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=z(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?K(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ao.it(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=B(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+B(t.fields[o])}return e+"}"}(t.mapValue):s();var e,n}function z(t){if(u(!!t),"string"==typeof t){var e=0,n=jo.exec(t);if(u(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:W(t.seconds),nanos:W(t.nanos)}}function W(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function K(t){return"string"==typeof t?uo.fromBase64String(t):uo.fromUint8Array(t)}function H(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function G(t){return!!t&&"integerValue"in t}function Q(t){return!!t&&"arrayValue"in t}function Y(t){return!!t&&"nullValue"in t}function X(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $(t){return!!t&&"mapValue"in t}function J(t){return{integerValue:""+t}}function Z(t,e){if(t.tn){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:v(e)?"-0":e}}function tt(t,e){return y(e)?J(e):Z(t,e)}function et(t,e){return t.tn?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function nt(t,e){return t.tn?e.toBase64():e.toUint8Array()}function rt(t,e){return et(t,e.M())}function it(t){return u(!!t),eo.N(function(t){var e=z(t);return new to(e.seconds,e.nanos)}(t))}function ot(t,e){return function(t){return new ro(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).J()}function at(t){var e=ro.Y(t);return u(Nt(e)),e}function st(t,e){return ot(t.t,e.path)}function ut(t,e){var n=at(e);if(n.get(1)!==t.t.projectId)throw new Gi(Hi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Gi(Hi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new ao(ft(n))}function ct(t,e){return ot(t.t,e)}function lt(t){var e=at(t);return 4===e.length?ro.X():ft(e)}function ht(t){return new ro(["projects",t.t.projectId,"databases",t.t.database]).J()}function ft(t){return u(t.length>4&&"documents"===t.get(4)),t.B(5)}function pt(t,e,n){return{name:st(t,e),fields:n.proto.mapValue.fields}}function dt(t,e){var n;if(e instanceof Qo)n={update:pt(t,e.key,e.value)};else if(e instanceof $o)n={delete:st(t,e.key)};else if(e instanceof Yo)n={update:pt(t,e.key,e.data),updateMask:kt(e.en)};else if(e instanceof Xo)n={transform:{document:st(t,e.key),fieldTransforms:e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Uo)return{fieldPath:e.field.J(),setToServerValue:"REQUEST_TIME"};if(n instanceof Vo)return{fieldPath:e.field.J(),appendMissingElements:{values:n.elements}};if(n instanceof qo)return{fieldPath:e.field.J(),removeAllFromArray:{values:n.elements}};if(n instanceof Bo)return{fieldPath:e.field.J(),increment:n.nn};throw s()}(0,t)})}};else{if(!(e instanceof Jo))return s();n={verify:st(t,e.key)}}return e.rn.sn||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:rt(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:s()}(t,e.rn)),n}function vt(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ho.updateTime(it(t.updateTime)):void 0!==t.exists?Ho.exists(t.exists):Ho.on()}(e.currentDocument):Ho.on();if(e.update){e.update.name;var r=ut(t,e.update.name),i=new Zo({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){var e=t.fieldPaths||[];return new zo(e.map(function(t){return oo.nt(t)}))}(e.updateMask);return new Yo(r,i,o,n)}return new Qo(r,i,n)}if(e.delete){var a=ut(t,e.delete);return new $o(a,n)}if(e.transform){var c=ut(t,e.transform.document),l=e.transform.fieldTransforms.map(function(e){return function(t,e){var n=null;if("setToServerValue"in e)u("REQUEST_TIME"===e.setToServerValue),n=new Uo;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Vo(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new qo(i)}else"increment"in e?n=new Bo(t,e.increment):s();var o=oo.nt(e.fieldPath);return new Wo(o,n)}(t,e)});return u(!0===n.exists),new Xo(c,l)}if(e.verify){var h=ut(t,e.verify);return new Jo(h,n)}return s()}function yt(t,e){return{documents:[ct(t,e.path)]}}function gt(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ct(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ct(t,r.q()),n.structuredQuery.from=[{collectionId:r.K()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(X(t.value))return{unaryFilter:{field:It(t.field),op:"IS_NAN"}};if(Y(t.value))return{unaryFilter:{field:It(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(X(t.value))return{unaryFilter:{field:It(t.field),op:"IS_NOT_NAN"}};if(Y(t.value))return{unaryFilter:{field:It(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:It(t.field),op:Tt(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:It(t.field),direction:Et(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.tn||d(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=_t(e.startAt)),e.endAt&&(n.structuredQuery.endAt=_t(e.endAt)),n}function mt(t){var e=lt(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){u(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=bt(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(t){return function(t){return new va(Ot(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var c=null;n.limit&&(c=function(t){var e;return d(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=wt(n.startAt));var h=null;return n.endAt&&(h=wt(n.endAt)),Gt(e,i,s,a,c,"F",l,h)}function bt(t){return t?void 0!==t.unaryFilter?[St(t)]:void 0!==t.fieldFilter?[Ct(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return bt(t)}).reduce(function(t,e){return t.concat(e)}):s():[]}function _t(t){return{before:t.before,values:t.position}}function wt(t){var e=!!t.before,n=t.values||[];return new da(n,e)}function Et(t){return Do[t]}function Tt(t){return Lo[t]}function It(t){return{fieldPath:t.J()}}function Ot(t){return oo.nt(t.fieldPath)}function Ct(t){return aa.create(Ot(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return s()}}(t.fieldFilter.op),t.fieldFilter.value)}function St(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ot(t.unaryFilter.field);return aa.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ot(t.unaryFilter.field);return aa.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ot(t.unaryFilter.field);return aa.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ot(t.unaryFilter.field);return aa.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return s()}}function kt(t){var e=[];return t.fields.forEach(function(t){return e.push(t.J())}),{fieldPaths:e}}function Nt(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function At(t,e,n){return t instanceof Uo?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Vo?Rt(t,e):t instanceof qo?jt(t,e):function(t,e){var n=xt(t,e),r=Dt(n)+Dt(t.nn);return G(n)&&G(t.nn)?J(r):Z(t.serializer,r)}(t,e)}function Pt(t,e,n){return t instanceof Vo?Rt(t,e):t instanceof qo?jt(t,e):n}function xt(t,e){return t instanceof Bo?G(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}function Rt(t,e){for(var n=Lt(e),r=0,i=t.elements;r<i.length;r++)!function(t){n.some(function(e){return M(e,t)})||n.push(t)}(i[r]);return{arrayValue:{values:n}}}function jt(t,e){for(var n=Lt(e),r=0,i=t.elements;r<i.length;r++)!function(t){n=n.filter(function(e){return!M(e,t)})}(i[r]);return{arrayValue:{values:n}}}function Dt(t){return W(t.integerValue||t.doubleValue)}function Lt(t){return Q(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Mt(t,e){return void 0!==t.updateTime?e instanceof na&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof na}function Ft(t,e,n){return t instanceof Qo?function(t,e,n){return new na(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof Yo?function(t,e,n){if(!Mt(t.rn,e))return new ia(t.key,n.version);var r=zt(t,e);return new na(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Xo?function(t,e,n){if(u(null!=n.transformResults),!Mt(t.rn,e))return new ia(t.key,n.version);var r=Wt(t,e),i=function(t,e,n){var r=[];u(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof na&&(s=e.field(o.field)),r.push(Pt(a,s,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,a=Kt(t,r.data(),i);return new na(t.key,o,a,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new ra(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Ut(t,e,n,r){return t instanceof Qo?function(t,e){if(!Mt(t.rn,e))return e;var n=Bt(e);return new na(t.key,n,t.value,{an:!0})}(t,e):t instanceof Yo?function(t,e){if(!Mt(t.rn,e))return e;var n=Bt(e),r=zt(t,e);return new na(t.key,n,r,{an:!0})}(t,e):t instanceof Xo?function(t,e,n,r){if(!Mt(t.rn,e))return e;var i=Wt(t,e),o=function(t,e,n,r){for(var i=[],o=0,a=t;o<a.length;o++){var s=a[o],u=s.transform,c=null;n instanceof na&&(c=n.field(s.field)),null===c&&r instanceof na&&(c=r.field(s.field)),i.push(At(u,c,e))}return i}(t.fieldTransforms,n,e,r),a=Kt(t,i.data(),o);return new na(t.key,i.version,a,{an:!0})}(t,e,r,n):function(t,e){return Mt(t.rn,e)?new ra(t.key,eo.min()):e}(t,e)}function Vt(t,e){return t instanceof Xo?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e instanceof na?e.field(o.field):void 0,s=xt(o.transform,a||null);null!=s&&(n=null==n?(new ta).set(o.field,s):n.set(o.field,s))}return n?n.hn():null}(t,e):null}function qt(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.rn.isEqual(e.rn)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.en.isEqual(e.en):2!==t.type||f(t.fieldTransforms,t.fieldTransforms,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Vo&&e instanceof Vo||t instanceof qo&&e instanceof qo?f(t.elements,e.elements,M):t instanceof Bo&&e instanceof Bo?M(t.nn,e.nn):t instanceof Uo&&e instanceof Uo}(t.transform,e.transform)}(t,e)}))}function Bt(t){return t instanceof na?t.version:eo.min()}function zt(t,e){return function(t,e){var n=new ta(e);return t.en.fields.forEach(function(e){if(!e.W()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.hn()}(t,e instanceof na?e.data():Zo.empty())}function Wt(t,e){return e}function Kt(t,e,n){for(var r=new ta(e),i=0;i<t.fieldTransforms.length;i++){var o=t.fieldTransforms[i];r.set(o.field,n[i])}return r.hn()}function Ht(t){var e=[];return P(t.fields||{},function(t,n){var r=new oo([t]);if($(n)){var i=Ht(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)}),new zo(e)}function Gt(t,e,n,r,i,o,a,s){return new oa(t,e,n,r,i,o,a,s)}function Qt(t){return new oa(t)}function Yt(t){return!d(t.limit)&&"F"===t.limitType}function Xt(t){return!d(t.limit)&&"L"===t.limitType}function $t(t){return t.Tn.length>0?t.Tn[0].field:null}function Jt(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.An())return r.field}return null}function Zt(t){return null!==t.collectionGroup}function te(t){var e=c(t);if(null===e.In){e.In=[];var n=Jt(e),r=$t(e);if(null!==n&&null===r)n.tt()||e.In.push(new va(n)),e.In.push(new va(oo.et(),"asc"));else{for(var i=!1,o=0,a=e.Tn;o<a.length;o++){var s=a[o];e.In.push(s),s.field.tt()&&(i=!0)}if(!i){var u=e.Tn.length>0?e.Tn[e.Tn.length-1].dir:"asc";e.In.push(new va(oo.et(),u))}}}return e.In}function ee(t){var e=c(t);if(!e.mn)if("F"===e.limitType)e.mn=g(e.path,e.collectionGroup,te(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=te(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new va(o.field,a))}var s=e.endAt?new da(e.endAt.position,!e.endAt.before):null,u=e.startAt?new da(e.startAt.position,!e.startAt.before):null;e.mn=g(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.mn}function ne(t,e,n){return new oa(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function re(t,e){return b(ee(t),ee(e))&&t.limitType===e.limitType}function ie(t){return m(ee(t))+"|lt:"+t.limitType}function oe(t){return"Query(target="+function(t){var e=t.path.J();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.J()+" "+e.op+" "+q(e.value);var e}).join(", ")+"]"),d(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.J()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ce(t.startAt)),t.endAt&&(e+=", endAt: "+ce(t.endAt)),"Target("+e+")"}(ee(t))+"; limitType="+t.limitType+")"}function ae(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.rt(t.collectionGroup)&&t.path.j(n):ao.ot(t.path)?t.path.isEqual(n):t.path.G(n)}(t,e)&&function(t,e){for(var n=0,r=t.Tn;n<r.length;n++){var i=r[n];if(!i.field.tt()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!le(t.startAt,te(t),e))&&(!t.endAt||!le(t.endAt,te(t),e))}(t,e)}function se(t){return function(e,n){for(var r=!1,i=0,o=te(t);i<o.length;i++){var a=o[i],s=fe(a,e,n);if(0!==s)return s;r=r||a.field.tt()}return 0}}function ue(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return ao.it(t.referenceValue)})}function ce(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return q(t)}).join(",")}function le(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.tt()?ao.$(ao.it(a.referenceValue),n.key):U(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function he(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!M(t.position[n],e.position[n]))return!1;return!0}function fe(t,e,n){var r=t.field.tt()?ao.$(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?U(r,i):s()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return s()}}function pe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function de(t){return new Mo(t,!0)}function ve(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function ye(t){return"IndexedDbTransactionError"===t.name}function ge(t){return new ba(function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=me(t.target.error);n(e)}})}function me(t){var e=ka.js(Object(Ui.p)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Gi("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ra||(Ra=!0,setTimeout(function(){throw r},0)),r}}return t}function be(){return"undefined"!=typeof window?window:null}function _e(){return"undefined"!=typeof document?document:null}function we(t,e){if(i("AsyncQueue",e+": "+t),ye(t))return new Gi(Hi.UNAVAILABLE,e+": "+t);throw t}function Ee(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=h(n,i);return 0===a?h(r,o):a}function Te(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Oe(e)),e=Ie(t.get(n),e);return Oe(e)}function Ie(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Oe(t){return t+"\x01\x01"}function Ce(t){var e=t.length;if(u(e>=2),2===e)return u("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),ro.X();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&s(),t.charAt(a+1)){case"\x01":var c=t.substring(o,a),l=void 0;0===i.length?l=c:(l=i+=c,i=""),r.push(l);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:s()}o=a+2}return new ro(r)}function Se(t,e){if(e.document)return function(t,e,n){var r=ut(t,e.name),i=it(e.updateTime),o=new Zo({mapValue:{fields:e.fields}});return new na(r,i,o,{hasCommittedMutations:!!n})}(t.yr,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ao.ct(e.noDocument.path),r=xe(e.noDocument.readTime);return new ra(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=ao.ct(e.unknownDocument.path),o=xe(e.unknownDocument.version);return new ia(i,o)}return s()}function ke(t,e,n){var r=Ne(n),i=e.key.path.q().H();if(e instanceof na){var o=function(t,e){return{name:st(t,e.key),fields:e.En().mapValue.fields,updateTime:et(t,e.version.M())}}(t.yr,e),a=e.hasCommittedMutations;return new es(null,null,o,a,r,i)}if(e instanceof ra){var u=e.key.path.H(),c=Pe(e.version),l=e.hasCommittedMutations;return new es(null,new Za(u,c),null,l,r,i)}if(e instanceof ia){var h=e.key.path.H(),f=Pe(e.version);return new es(new ts(h,f),null,null,!0,r,i)}return s()}function Ne(t){var e=t.M();return[e.seconds,e.nanoseconds]}function Ae(t){var e=new to(t[0],t[1]);return eo.N(e)}function Pe(t){var e=t.M();return new Qa(e.seconds,e.nanoseconds)}function xe(t){var e=new to(t.seconds,t.nanoseconds);return eo.N(e)}function Re(t,e){var n=(e.baseMutations||[]).map(function(e){return vt(t.yr,e)}),r=e.mutations.map(function(e){return vt(t.yr,e)}),i=to.fromMillis(e.localWriteTimeMs);return new ya(e.batchId,i,n,r)}function je(t){var e,n,r=xe(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?xe(t.lastLimboFreeSnapshotVersion):eo.min();return void 0!==t.query.documents?(u(1===(n=t.query).documents.length),e=ee(Qt(lt(n.documents[0])))):e=function(t){return ee(mt(t))}(t.query),new ho(e,t.targetId,0,t.lastListenSequenceNumber,r,i,uo.fromBase64String(t.resumeToken))}function De(t,e){var n,r=Pe(e.ft),i=Pe(e.lastLimboFreeSnapshotVersion);n=_(e.target)?yt(t.yr,e.target):gt(t.yr,e.target);var o=e.resumeToken.toBase64();return new rs(e.targetId,m(e.target),r,o,e.sequenceNumber,i,n)}function Le(t){var e=mt({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ne(e,e.limit,"L"):e}function Me(t,e,n){var r=Ja.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Ve(t)._i({range:o,li:!0},function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()}).next(function(){return a})}function Fe(t,e,n){var r=t.store($a.store),i=t.store(Ja.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,c=r._i({range:a},function(t,e,n){return s++,n.delete()});o.push(c.next(function(){u(1===s)}));for(var l=[],h=0,f=n.mutations;h<f.length;h++){var p=f[h],d=Ja.key(e,p.key.path,n.batchId);o.push(i.delete(d)),l.push(p.key)}return ba.qn(o).next(function(){return l})}function Ue(t){return gs.Ys(t,$a.store)}function Ve(t){return gs.Ys(t,Ja.store)}function qe(t){return gs.Ys(t,Xa.store)}function Be(t){return gs.Ys(t,ns.store)}function ze(t){return gs.Ys(t,es.store)}function We(t){return t.path.H()}function Ke(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw s();e=t.noDocument}return JSON.stringify(e).length}function He(t){t.createObjectStore(is.store,{keyPath:is.keyPath}).createIndex(is.documentTargetsIndex,is.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(rs.store,{keyPath:rs.keyPath}).createIndex(rs.queryTargetsIndexName,rs.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(os.store)}function Ge(t){return gs.Ys(t,us.store)}function Qe(t){return gs.Ys(t,cs.store)}function Ye(t){return gs.Ys(t,as.store)}function Xe(t){return gs.Ys(t,rs.store)}function $e(t){return gs.Ys(t,os.store)}function Je(t){return gs.Ys(t,is.store)}function Ze(t){return gs.Ys(t,Ya.store)}function tn(t){return gs.Ys(t,ss.store)}function en(t,e){return Je(t).put(function(t,e){return new is(0,Te(t.path),e)}(e,t.Fo))}function nn(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}function rn(t,e,n,r){return new bs(t,e,n,r)}function on(t,e){return Object(Li.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Li.d)(this,function(a){switch(a.label){case 0:return n=c(t),r=n.rs,i=n.Oc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.rs.Mr(t).next(function(a){return o=a,r=n.persistence.mc(e),i=new Ia(n.Fc,r,n.persistence.Pc()),r.Mr(t)}).next(function(e){for(var n=[],r=[],a=C(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var y=0,g=v.mutations;y<g.length;y++){var m=g[y];a=a.add(m.key)}}return i._s(t,a).next(function(t){return{kc:t,$c:n,Lc:r}})})})];case 1:return o=a.sent(),[2,(n.rs=r,n.Oc=i,n.Dc.Mc(n.Oc),o)]}})})}function an(t,e){var n=c(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Fc.Xr({Zr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=ba.resolve();return o.forEach(function(t){a=a.next(function(){return r.Jn(e,t)}).next(function(e){var o=e,a=n.Sn.get(t);u(null!==a),(!o||o.version.F(a)<0)&&(o=i.yn(t,o,n))&&r.jn(o,n.bn)})}),a.next(function(){return t.rs.$r(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.rs.Ur(t)}).next(function(){return n.Oc._s(t,r)})})}function sn(t){var e=c(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.jo.To(t)})}function un(t,e){var n=c(t),i=e.ft,o=n.Cc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var a=n.Fc.Xr({Zr:!0});o=n.Cc;var s=[];e.re.forEach(function(e,r){var a=o.get(r);if(a){s.push(n.jo.Co(t,e.de,r).next(function(){return n.jo.So(t,e._e,r)}));var c=e.resumeToken;if(c.ht()>0){var l=a.wt(c,i).dt(t.Fo);o=o.Tt(r,l),function(t,e,n){return u(e.resumeToken.ht()>0),0===t.resumeToken.ht()||e.ft.O()-t.ft.O()>=3e8||n._e.size+n.fe.size+n.de.size>0}(a,l,e)&&s.push(n.jo.yo(t,l))}}});var c=T();if(e.ce.forEach(function(r,i){e.ue.has(r)&&s.push(n.persistence.Vr.Sc(t,r))}),s.push(function(t,e,n,i,o){var a=C();return n.forEach(function(t){return a=a.add(t)}),e.getEntries(t,a).next(function(t){var o=T();return n.forEach(function(n,a){var s=t.get(n),u=i;a instanceof ra&&a.version.isEqual(eo.min())?(e.Hn(n,u),o=o.Tt(n,a)):null==s||a.version.F(s.version)>0||0===a.version.F(s.version)&&s.hasPendingWrites?(e.jn(a,u),o=o.Tt(n,a)):r("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),o})}(t,a,e.ce,i).next(function(t){c=t})),!i.isEqual(eo.min())){var l=n.jo.To(t).next(function(e){return n.jo.mo(t,t.Fo,i)});s.push(l)}return ba.qn(s).next(function(){return a.apply(t)}).next(function(){return n.Oc.fs(t,c)})}).then(function(t){return n.Cc=o,t})}function cn(t,e){var n=c(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.rs.Fr(t,e)})}function ln(t,e){var n=c(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.jo.bo(t,e).next(function(i){return i?(r=i,ba.resolve(r)):n.jo.fo(t).next(function(i){return r=new ho(e,i,0,t.Fo),n.jo.Ao(t,r).next(function(){return r})})})}).then(function(t){var r=n.Cc.get(t.targetId);return(null===r||t.ft.F(r.ft)>0)&&(n.Cc=n.Cc.Tt(t.targetId,t),n.Nc.set(e,t.targetId)),t})}function hn(t,e,n){return Object(Li.b)(this,void 0,void 0,function(){var i,o,a,s;return Object(Li.d)(this,function(u){switch(u.label){case 0:i=c(t),o=i.Cc.get(e),a=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",a,function(t){return i.persistence.Vr.removeTarget(t,o)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!ye(s=u.sent()))throw s;return r("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return i.Cc=i.Cc.remove(e),i.Nc.delete(o.target),[2]}})})}function fn(t,e,n){var r=c(t),i=eo.min(),o=C();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=c(t),i=r.Nc.get(n);return void 0!==i?ba.resolve(r.Cc.get(i)):r.jo.bo(e,n)}(r,t,ee(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.jo.xo(t,e.targetId).next(function(t){o=t})}).next(function(){return r.Dc.ws(t,e,n?i:eo.min(),n?o:C())}).next(function(t){return{documents:t,Bc:o}})})}function pn(t,e){var n=c(t),r=c(n.jo),i=n.Cc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Ze(t,e).next(function(t){return t?t.target:null})})}function dn(t){var e=c(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=c(t),i=T(),o=Ne(n),a=ze(e),s=IDBKeyRange.lowerBound(o,!0);return a._i({index:es.readTimeIndex,range:s},function(t,e){var n=Se(r.serializer,e);i=i.Tt(n.key,n),o=e.readTime}).next(function(){return{qc:i,readTime:Ae(o)}})}(e.Fc,t,e.xc)}).then(function(t){var n=t.qc,r=t.readTime;return e.xc=r,n})}function vn(t){return Object(Li.b)(this,void 0,void 0,function(){var e;return Object(Li.d)(this,function(n){return[2,(e=c(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=ze(t),n=eo.min();return e._i({index:es.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Ae(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.xc=t})]})})}function yn(t){return Object(Li.b)(this,void 0,void 0,function(){return Object(Li.d)(this,function(e){if(t.code!==Hi.FAILED_PRECONDITION||t.message!==Ea)throw t;return r("LocalStore","Unexpectedly lost primary lease"),[2]})})}function gn(t){return Object(Li.b)(this,void 0,void 0,function(){var e,n;return Object(Li.d)(this,function(r){switch(r.label){case 0:if(!On(t))return[3,4];e=0,n=t.ku,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function mn(t){return Object(Li.b)(this,void 0,void 0,function(){var e,n;return Object(Li.d)(this,function(r){switch(r.label){case 0:e=0,n=t.ku,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function bn(t,e){var n=c(t);n.Ou.has(e.targetId)||(n.Ou.set(e.targetId,e),In(n)?Tn(n):Vn(n).zc()&&wn(n,e))}function _n(t,e){var n=c(t),r=Vn(n);n.Ou.delete(e),r.zc()&&En(n,e),0===n.Ou.size&&(r.zc()?r.Yc():On(n)&&n.Bu.set("Unknown"))}function wn(t,e){t.qu.De(e.targetId),Vn(t).hu(e)}function En(t,e){t.qu.De(e),Vn(t).lu(e)}function Tn(t){t.qu=new Ro({Xe:function(e){return t.xu.Xe(e)},Ze:function(e){return t.Ou.get(e)||null}}),Vn(t).start(),t.Bu.pu()}function In(t){return On(t)&&!Vn(t).Gc()&&t.Ou.size>0}function On(t){return 0===c(t).Mu.size}function Cn(t){t.qu=void 0}function Sn(t){return Object(Li.b)(this,void 0,void 0,function(){return Object(Li.d)(this,function(e){return t.Ou.forEach(function(e,n){wn(t,e)}),[2]})})}function kn(t,e){return Object(Li.b)(this,void 0,void 0,function(){return Object(Li.d)(this,function(n){return Cn(t),In(t)?(t.Bu.Su(e),Tn(t)):t.Bu.set("Unknown"),[2]})})}function Nn(t,e,n){return Object(Li.b)(this,void 0,void 0,function(){var i,o,a;return Object(Li.d)(this,function(s){switch(s.label){case 0:if(t.Bu.set("Online"),!(e instanceof Po&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Li.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Li.d)(this,function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.Ou.has(o)?[4,t.xu.Uu(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.Ou.delete(o),t.qu.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return i=s.sent(),r("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,An(t,i)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof No?t.qu.$e(e):e instanceof Ao?t.qu.je(e):t.qu.qe(e),n.isEqual(eo.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,sn(t.Cu)];case 8:return o=s.sent(),n.F(o)>=0?[4,function(t,e){var n=t.qu.He(e);return n.re.forEach(function(n,r){if(n.resumeToken.ht()>0){var i=t.Ou.get(r);i&&t.Ou.set(r,i.wt(n.resumeToken,e))}}),n.oe.forEach(function(e){var n=t.Ou.get(e);if(n){t.Ou.set(e,n.wt(uo.lt,n.ft)),En(t,e);var r=new ho(n.target,e,1,n.sequenceNumber);wn(t,r)}}),t.xu.Qu(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return r("RemoteStore","Failed to raise snapshot:",a=s.sent()),[4,An(t,a)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function An(t,e,n){return Object(Li.b)(this,void 0,void 0,function(){var i=this;return Object(Li.d)(this,function(o){switch(o.label){case 0:if(!ye(e))throw e;return t.Mu.add(1),[4,mn(t)];case 1:return o.sent(),t.Bu.set("Offline"),n||(n=function(){return sn(t.Cu)}),t.di.Mi(function(){return Object(Li.b)(i,void 0,void 0,function(){return Object(Li.d)(this,function(e){switch(e.label){case 0:return r("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Mu.delete(1),[4,gn(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Pn(t,e){return e().catch(function(n){return An(t,n,e)})}function xn(t){return Object(Li.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Li.d)(this,function(a){switch(a.label){case 0:e=c(t),n=qn(e),r=e.Fu.length>0?e.Fu[e.Fu.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return On(t)&&t.Fu.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,cn(e.Cu,r)];case 3:return null===(i=a.sent())?(0===e.Fu.length&&n.Yc(),[3,7]):(r=i.batchId,function(t,e){t.Fu.push(e);var n=qn(t);n.zc()&&n.fu&&n.du(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,An(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Rn(e)&&jn(e),[2]}})})}function Rn(t){return On(t)&&!qn(t).Gc()&&t.Fu.length>0}function jn(t){qn(t).start()}function Dn(t){return Object(Li.b)(this,void 0,void 0,function(){return Object(Li.d)(this,function(e){return qn(t).Tu(),[2]})})}function Ln(t){return Object(Li.b)(this,void 0,void 0,function(){var e,n,r,i;return Object(Li.d)(this,function(o){for(e=qn(t),n=0,r=t.Fu;n<r.length;n++)i=r[n],e.du(i.mutations);return[2]})})}function Mn(t,e,n){return Object(Li.b)(this,void 0,void 0,function(){var r,i;return Object(Li.d)(this,function(o){switch(o.label){case 0:return r=t.Fu.shift(),i=ga.from(r,e,n),[4,Pn(t,function(){return t.xu.Ku(i)})];case 1:return o.sent(),[4,xn(t)];case 2:return o.sent(),[2]}})})}function Fn(t,e){return Object(Li.b)(this,void 0,void 0,function(){return Object(Li.d)(this,function(n){switch(n.label){case 0:return e&&qn(t).fu?[4,function(t,e){return Object(Li.b)(this,void 0,void 0,function(){var n,r;return Object(Li.d)(this,function(i){switch(i.label){case 0:return w(r=e.code)&&r!==Hi.ABORTED?(n=t.Fu.shift(),qn(t).Jc(),[4,Pn(t,function(){return t.xu.Wu(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,xn(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Rn(t)&&jn(t),[2]}})})}function Un(t,e){return Object(Li.b)(this,void 0,void 0,function(){var n,r;return Object(Li.d)(this,function(i){switch(i.label){case 0:return n=c(t),e?(n.Mu.delete(2),[4,gn(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return(r=e)?[3,4]:(n.Mu.add(2),[4,mn(n)]);case 3:i.sent(),r=n.Bu.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function Vn(t){var e=this;return t.ju||(t.ju=function(t,e,n){var r=c(t);return r.mu(),new ws(e,r.Qc,r.credentials,r.serializer,n)}(t.Nu,t.di,{cu:Sn.bind(null,t),nu:kn.bind(null,t),au:Nn.bind(null,t)}),t.ku.push(function(n){return Object(Li.b)(e,void 0,void 0,function(){return Object(Li.d)(this,function(e){switch(e.label){case 0:return n?(t.ju.Jc(),In(t)?Tn(t):t.Bu.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.ju.stop()];case 2:e.sent(),Cn(t),e.label=3;case 3:return[2]}})})})),t.ju}function qn(t){var e=this;return t.Gu||(t.Gu=function(t,e,n){var r=c(t);return r.mu(),new Es(e,r.Qc,r.credentials,r.serializer,n)}(t.Nu,t.di,{cu:Dn.bind(null,t),nu:Fn.bind(null,t),Eu:Ln.bind(null,t),wu:Mn.bind(null,t)}),t.ku.push(function(n){return Object(Li.b)(e,void 0,void 0,function(){return Object(Li.d)(this,function(e){switch(e.label){case 0:return n?(t.Gu.Jc(),[4,xn(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Gu.stop()];case 3:e.sent(),t.Fu.length>0&&(r("RemoteStore","Stopping write stream with "+t.Fu.length+" pending writes"),t.Fu=[]),e.label=4;case 4:return[2]}})})})),t.Gu}function Bn(t,e){return Object(Li.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Object(Li.d)(this,function(l){switch(l.label){case 0:if(n=c(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Cs),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),a=o,[4,n.Ju(r)];case 2:return a.zu=l.sent(),[3,4];case 3:return s=l.sent(),u=we(s,"Initialization of query '"+oe(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Yu(n.onlineState),o.zu&&e.Xu(o.zu)&&Hn(n),[2]}})})}function zn(t,e){return Object(Li.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(Li.d)(this,function(s){return n=c(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Zu(r))]:[2]})})}function Wn(t,e){for(var n=c(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var l=0,h=u.listeners;l<h.length;l++)h[l].Xu(a)&&(r=!0);u.zu=a}}r&&Hn(n)}function Kn(t,e,n){var r=c(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function Hn(t){t.Hu.forEach(function(t){t.next()})}function Gn(t,e){return"firestore_clients_"+t+"_"+e}function Qn(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.u()&&(r+="_"+e.uid),r}function Yn(t,e){return"firestore_targets_"+t+"_"+e}function Xn(t,e){return Object(Li.b)(this,void 0,void 0,function(){var n,r,i,o,a,s;return Object(Li.d)(this,function(u){switch(u.label){case 0:return n=Or(t),(o=n.Bh.get(e))?(r=o.targetId,n.kh.Wa(r),i=o.view.xh(),[3,4]):[3,1];case 1:return[4,ln(n.Cu,ee(e))];case 2:return a=u.sent(),s=n.kh.Wa(a.targetId),r=a.targetId,[4,$n(n,e,r,"current"===s)];case 3:i=u.sent(),n.Jh&&bn(n.Oh,a),u.label=4;case 4:return[2,i]}})})}function $n(t,e,n,r){return Object(Li.b)(this,void 0,void 0,function(){var i,o,a,s,u,c;return Object(Li.d)(this,function(l){switch(l.label){case 0:return t.Yh=function(e,n,r){return function(t,e,n,r){return Object(Li.b)(this,void 0,void 0,function(){var i,o,a;return Object(Li.d)(this,function(s){switch(s.label){case 0:return i=e.view.gh(n),i.ph?[4,fn(t.Cu,e.query,!1).then(function(t){var n=t.documents;return e.view.gh(n,i)})]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.re.get(e.targetId),a=e.view.Zn(i,t.Jh,o),[2,(lr(t,e.targetId,a.Dh),a.snapshot)]}})})}(t,e,n,r)},[4,fn(t.Cu,e,!0)];case 1:return i=l.sent(),o=new Vs(e,i.Bc),a=o.gh(i.documents),s=ko.he(n,r&&"Offline"!==t.onlineState),u=o.Zn(a,t.Jh,s),lr(t,n,u.Dh),c=new qs(e,n,o),[2,(t.Bh.set(e,c),t.qh.has(n)?t.qh.get(n).push(e):t.qh.set(n,[e]),u.snapshot)]}})})}function Jn(t,e){return Object(Li.b)(this,void 0,void 0,function(){var n,r,i;return Object(Li.d)(this,function(o){switch(o.label){case 0:return n=c(t),r=n.Bh.get(e),(i=n.qh.get(r.targetId)).length>1?[2,(n.qh.set(r.targetId,i.filter(function(t){return!re(t,e)})),void n.Bh.delete(e))]:n.Jh?(n.kh.Ga(r.targetId),n.kh.Ba(r.targetId)?[3,2]:[4,hn(n.Cu,r.targetId,!1).then(function(){n.kh.Ha(r.targetId),_n(n.Oh,r.targetId),ur(n,r.targetId)}).catch(yn)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return ur(n,r.targetId),[4,hn(n.Cu,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Zn(t,e,n){return Object(Li.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(Li.d)(this,function(s){switch(s.label){case 0:r=Cr(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=c(t),i=to.now(),o=e.reduce(function(t,e){return t.add(e.key)},C());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Oc._s(t,o).next(function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=Vt(c,n.get(c.key));null!=l&&a.push(new Yo(c.key,l,Ht(l.proto.mapValue),Ho.exists(!0)))}return r.rs.Sr(t,i,a,e)})}).then(function(t){var e=t.vn(n);return{batchId:t.batchId,Qn:e}})}(r.Cu,e)];case 2:return i=s.sent(),r.kh.qa(i.batchId),function(t,e,n){var r=t.jh[t.currentUser.h()];r||(r=new po(h)),r=r.Tt(e,n),t.jh[t.currentUser.h()]=r}(r,i.batchId,n),[4,pr(r,i.Qn)];case 3:return s.sent(),[4,xn(r.Oh)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=we(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function tr(t,e){return Object(Li.b)(this,void 0,void 0,function(){var n,r;return Object(Li.d)(this,function(i){switch(i.label){case 0:n=c(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,un(n.Cu,e)];case 2:return r=i.sent(),e.re.forEach(function(t,e){var r=n.Kh.get(e);r&&(u(t._e.size+t.fe.size+t.de.size<=1),t._e.size>0?r.Fh=!0:t.fe.size>0?u(r.Fh):t.de.size>0&&(u(r.Fh),r.Fh=!1))}),[4,pr(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,yn(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function er(t,e,n){var r=c(t);if(r.Jh&&0===n||!r.Jh&&1===n){var i=[];r.Bh.forEach(function(t,n){var r=n.view.Yu(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=c(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Yu(e)&&(r=!0)}),r&&Hn(n)}(r.Mh,e),i.length&&r.Lh.au(i),r.onlineState=e,r.Jh&&r.kh.Za(e)}}function nr(t,e,n){return Object(Li.b)(this,void 0,void 0,function(){var r,i,o,a,s,u;return Object(Li.d)(this,function(l){switch(l.label){case 0:return(r=c(t)).kh.Ja(e,"rejected",n),i=r.Kh.get(e),(o=i&&i.key)?(a=(a=new po(ao.$)).Tt(o,new ra(o,eo.min())),s=C().add(o),u=new So(eo.min(),new Map,new go(h),a,s),[4,tr(r,u)]):[3,2];case 1:return l.sent(),r.Qh=r.Qh.remove(o),r.Kh.delete(e),fr(r),[3,4];case 2:return[4,hn(r.Cu,e,!1).then(function(){return ur(r,e,n)}).catch(yn)];case 3:l.sent(),l.label=4;case 4:return[2]}})})}function rr(t,e){return Object(Li.b)(this,void 0,void 0,function(){var n,r,i;return Object(Li.d)(this,function(o){switch(o.label){case 0:n=c(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,an(n.Cu,e)];case 2:return i=o.sent(),sr(n,r,null),ar(n,r),n.kh.Qa(r,"acknowledged"),[4,pr(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,yn(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function ir(t,e,n){return Object(Li.b)(this,void 0,void 0,function(){var r,i;return Object(Li.d)(this,function(o){switch(o.label){case 0:r=c(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=c(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.rs.Cr(t,e).next(function(e){return u(null!==e),r=e.keys(),n.rs.$r(t,e)}).next(function(){return n.rs.Ur(t)}).next(function(){return n.Oc._s(t,r)})})}(r.Cu,e)];case 2:return i=o.sent(),sr(r,e,n),ar(r,e),r.kh.Qa(e,"rejected",n),[4,pr(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,yn(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function or(t,e){return Object(Li.b)(this,void 0,void 0,function(){var n,i,o,a,s;return Object(Li.d)(this,function(u){switch(u.label){case 0:On((n=c(t)).Oh)||r("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(t){var e=c(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.rs.Or(t)})}(n.Cu)];case 2:return-1===(i=u.sent())?[2,void e.resolve()]:((o=n.Gh.get(i)||[]).push(e),n.Gh.set(i,o),[3,4]);case 3:return a=u.sent(),s=we(a,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function ar(t,e){(t.Gh.get(e)||[]).forEach(function(t){t.resolve()}),t.Gh.delete(e)}function sr(t,e,n){var r=c(t),i=r.jh[r.currentUser.h()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.jh[r.currentUser.h()]=i}}function ur(t,e,n){void 0===n&&(n=null),t.kh.Ga(e);for(var r=0,i=t.qh.get(e);r<i.length;r++){var o=i[r];t.Bh.delete(o),n&&t.Lh.Xh(o,n)}t.qh.delete(e),t.Jh&&t.Wh.da(e).forEach(function(e){t.Wh.Qr(e)||cr(t,e)})}function cr(t,e){var n=t.Qh.get(e);null!==n&&(_n(t.Oh,n),t.Qh=t.Qh.remove(e),t.Kh.delete(n),fr(t))}function lr(t,e,n){for(var i=0,o=n;i<o.length;i++){var a=o[i];a instanceof Fs?(t.Wh.Do(a.key,e),hr(t,a)):a instanceof Us?(r("SyncEngine","Document no longer in limbo: "+a.key),t.Wh.No(a.key,e),t.Wh.Qr(a.key)||cr(t,a.key)):s()}}function hr(t,e){var n=e.key;t.Qh.get(n)||(r("SyncEngine","New document in limbo: "+n),t.Uh.push(n),fr(t))}function fr(t){for(;t.Uh.length>0&&t.Qh.size<t.$h;){var e=t.Uh.shift(),n=t.zh.next();t.Kh.set(n,new Bs(e)),t.Qh=t.Qh.Tt(e,n),bn(t.Oh,new ho(ee(Qt(e.path)),n,2,Ca.Ds))}}function pr(t,e,n){return Object(Li.b)(this,void 0,void 0,function(){var i,o,a,s;return Object(Li.d)(this,function(u){switch(u.label){case 0:return i=c(t),o=[],a=[],s=[],i.Bh.W()?[3,3]:(i.Bh.forEach(function(t,r){s.push(i.Yh(r,e,n).then(function(t){if(t){i.Jh&&i.kh.Ja(r.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=Oa.Vs(r.targetId,t);a.push(e)}}))}),[4,Promise.all(s)]);case 1:return u.sent(),i.Lh.au(o),[4,function(t,e){return Object(Li.b)(this,void 0,void 0,function(){var n,i,o,a,s,u,l,h,f;return Object(Li.d)(this,function(p){switch(p.label){case 0:n=c(t),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return ba.forEach(e,function(e){return ba.forEach(e.gs,function(r){return n.persistence.Vr.Do(t,e.targetId,r)}).next(function(){return ba.forEach(e.ys,function(r){return n.persistence.Vr.No(t,e.targetId,r)})})})})];case 2:return p.sent(),[3,4];case 3:if(!ye(i=p.sent()))throw i;return r("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,a=e;o<a.length;o++)s=a[o],u=s.targetId,s.fromCache||(l=n.Cc.get(u),h=l.ft,f=l.Et(h),n.Cc=n.Cc.Tt(u,f));return[2]}})})}(i.Cu,a)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function dr(t,e){return Object(Li.b)(this,void 0,void 0,function(){var n,i;return Object(Li.d)(this,function(o){switch(o.label){case 0:return(n=c(t)).currentUser.isEqual(e)?[3,3]:(r("SyncEngine","User change. New user:",e.h()),[4,on(n.Cu,e)]);case 1:return i=o.sent(),n.currentUser=e,function(t,e){t.Gh.forEach(function(t){t.forEach(function(t){t.reject(new Gi(Hi.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Gh.clear()}(n),n.kh.Xa(e,i.$c,i.Lc),[4,pr(n,i.kc)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function vr(t,e){var n=c(t),r=n.Kh.get(e);if(r&&r.Fh)return C().add(r.key);var i=C(),o=n.qh.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],l=n.Bh.get(u);i=i.Gt(l.view.Ph)}return i}function yr(t,e){return Object(Li.b)(this,void 0,void 0,function(){var n,r,i;return Object(Li.d)(this,function(o){switch(o.label){case 0:return[4,fn((n=c(t)).Cu,e.query,!0)];case 1:return r=o.sent(),i=e.view.Nh(r),[2,(n.Jh&&lr(n,e.targetId,i.Dh),i)]}})})}function gr(t){return Object(Li.b)(this,void 0,void 0,function(){var e;return Object(Li.d)(this,function(n){return[2,dn((e=c(t)).Cu).then(function(t){return pr(e,t)})]})})}function mr(t,e,n,i){return Object(Li.b)(this,void 0,void 0,function(){var o,a;return Object(Li.d)(this,function(u){switch(u.label){case 0:return[4,function(t,e){var n=c(t),r=c(n.rs);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Nr(t,e).next(function(e){return e?n.Oc._s(t,e):ba.resolve(null)})})}((o=c(t)).Cu,e)];case 1:return null===(a=u.sent())?[3,6]:"pending"!==n?[3,3]:[4,xn(o.Oh)];case 2:return u.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(sr(o,e,i||null),ar(o,e),function(t,e){c(c(t).rs).Br(e)}(o.Cu,e)):s(),u.label=4;case 4:return[4,pr(o,a)];case 5:return u.sent(),[3,7];case 6:r("SyncEngine","Cannot apply mutation batch with id: "+e),u.label=7;case 7:return[2]}})})}function br(t,e){return Object(Li.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,l;return Object(Li.d)(this,function(h){switch(h.label){case 0:return Or(n=c(t)),Cr(n),!0!==e||!0===n.Hh?[3,3]:(r=n.kh.$a(),[4,_r(n,r.H())]);case 1:return i=h.sent(),n.Hh=!0,[4,Un(n.Oh,!0)];case 2:for(h.sent(),o=0,a=i;o<a.length;o++)s=a[o],bn(n.Oh,s);return[3,7];case 3:return!1!==e||!1===n.Hh?[3,7]:(u=[],l=Promise.resolve(),n.qh.forEach(function(t,e){n.kh.za(e)?u.push(e):l=l.then(function(){return ur(n,e),hn(n.Cu,e,!0)}),_n(n.Oh,e)}),[4,l]);case 4:return h.sent(),[4,_r(n,u)];case 5:return h.sent(),function(t){var e=c(t);e.Kh.forEach(function(t,n){_n(e.Oh,n)}),e.Wh.wa(),e.Kh=new Map,e.Qh=new po(ao.$)}(n),n.Hh=!1,[4,Un(n.Oh,!1)];case 6:h.sent(),h.label=7;case 7:return[2]}})})}function _r(t,e,n){return Object(Li.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,l,h,f,p,d,v,y;return Object(Li.d)(this,function(g){switch(g.label){case 0:n=c(t),r=[],i=[],o=0,a=e,g.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(l=n.qh.get(s))&&0!==l.length?[4,ln(n.Cu,ee(l[0]))]:[3,7]):[3,13];case 2:u=g.sent(),h=0,f=l,g.label=3;case 3:return h<f.length?(p=f[h],d=n.Bh.get(p),[4,yr(n,d)]):[3,6];case 4:(v=g.sent()).snapshot&&i.push(v.snapshot),g.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,pn(n.Cu,s)];case 8:return y=g.sent(),[4,ln(n.Cu,y)];case 9:return u=g.sent(),[4,$n(n,wr(y),s,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Lh.au(i),r)]}})})}function wr(t){return Gt(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Er(t){return c(c(c(t).Cu).persistence).Ic()}function Tr(t,e,n,i){return Object(Li.b)(this,void 0,void 0,function(){var o,a,u;return Object(Li.d)(this,function(l){switch(l.label){case 0:return(o=c(t)).Hh?(r("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.qh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,dn(o.Cu)];case 3:return a=l.sent(),u=So.ae(e,"current"===n),[4,pr(o,a,u)];case 4:return l.sent(),[3,8];case 5:return[4,hn(o.Cu,e,!0)];case 6:return l.sent(),ur(o,e,i),[3,8];case 7:s(),l.label=8;case 8:return[2]}})})}function Ir(t,e,n){return Object(Li.b)(this,void 0,void 0,function(){var i,o,a,s,u,c,l,h,f,p;return Object(Li.d)(this,function(d){switch(d.label){case 0:if(!(i=Or(t)).Hh)return[3,10];o=0,a=e,d.label=1;case 1:return o<a.length?(s=a[o],i.qh.has(s)?(r("SyncEngine","Adding an already active target "+s),[3,5]):[4,pn(i.Cu,s)]):[3,6];case 2:return u=d.sent(),[4,ln(i.Cu,u)];case 3:return c=d.sent(),[4,$n(i,wr(u),c.targetId,!1)];case 4:d.sent(),bn(i.Oh,c),d.label=5;case 5:return o++,[3,1];case 6:l=function(t){return Object(Li.d)(this,function(e){switch(e.label){case 0:return i.qh.has(t)?[4,hn(i.Cu,t,!1).then(function(){_n(i.Oh,t),ur(i,t)}).catch(yn)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},h=0,f=n,d.label=7;case 7:return h<f.length?(p=f[h],[5,l(p)]):[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}})})}function Or(t){var e=c(t);return e.Oh.xu.Qu=tr.bind(null,e),e.Oh.xu.Xe=vr.bind(null,e),e.Oh.xu.Uu=nr.bind(null,e),e.Lh.au=Wn.bind(null,e.Mh),e.Lh.Xh=Kn.bind(null,e.Mh),e}function Cr(t){var e=c(t);return e.Oh.xu.Ku=rr.bind(null,e),e.Oh.xu.Wu=ir.bind(null,e),e}function Sr(t,e,n){if(!n)throw new Gi(Hi.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function kr(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Gi(Hi.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Nr(t,e,n,r){if(!0===e&&!0===r)throw new Gi(Hi.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Ar(t){if(!ao.ot(t))throw new Gi(Hi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Pr(t){if(ao.ot(t))throw new Gi(Hi.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function xr(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":s()}function Rr(t,e){if(t instanceof cu&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Gi(Hi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=xr(t);throw new Gi(Hi.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function jr(t,e){if(e<=0)throw new Gi(Hi.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}function Dr(t,e,n){return new Ku({a_:3,l_:e.settings.l_,methodName:t.c_,__:n},e.t,e.serializer,e.ignoreUndefinedProperties)}function Lr(){if("undefined"==typeof Uint8Array)throw new Gi(Hi.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Mr(){if("undefined"==typeof atob)throw new Gi(Hi.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}function Fr(t,e){return"string"==typeof e?di(t,e):e instanceof cu?e.o_.G_:e.G_}function Ur(t,e,n){var r=this,i=new wa;return t.di.enqueue(function(){return Object(Li.b)(r,void 0,void 0,function(){var r;return Object(Li.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,gi(t,n)];case 1:return o.sent(),[4,mi(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Hi.FAILED_PRECONDITION||t.code===Hi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Vr(t){if(t.y_||t.V_)throw new Gi(Hi.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}function qr(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return s()}}function Br(t,e){return t instanceof ku&&e instanceof ku?t.U_===e.U_&&t.K_.isEqual(e.K_)&&(null===t.W_?null===e.W_:t.W_.isEqual(e.W_))&&t.j_===e.j_:t instanceof Au&&e instanceof Au&&t.U_===e.U_&&ni(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.Y_.isEqual(e.Y_)}function zr(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=Rr(t.firestore,Su),a=ri(o);return e instanceof cu&&(e=e.o_),Kr(o,("string"==typeof e||e instanceof Cu?si(a,"updateDoc",t.K_,e,n,r):ai(a,"updateDoc",t.K_,e)).ef(t.K_,Ho.exists(!0)))}function Wr(t){for(var e,n,r,i=this,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];var s={includeMetadataChanges:!1},u=0;"object"!=typeof o[u]||ve(o[u])||(s=o[u],u++);var c,l,h,f={includeMetadataChanges:s.includeMetadataChanges};if(ve(o[u])){var p=o[u];o[u]=null===(e=p.next)||void 0===e?void 0:e.bind(p),o[u+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),o[u+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}if(t instanceof xu)l=Rr(t.firestore,Su),h=Qt(t.K_.path),c={next:function(e){o[u]&&o[u](Hr(l,t,e))},error:o[u+1],complete:o[u+2]};else{l=Rr(t.firestore,Su),h=t.tf;var d=new Pu(l);c={next:function(e){o[u]&&o[u](new Au(l,d,t,e))},error:o[u+1],complete:o[u+2]},Jr(t.tf)}var v=Ni(l),y=new uu(c),g=new ks(h,y,f);return l.z_.Ri(function(){return Object(Li.b)(i,void 0,void 0,function(){var t;return Object(Li.d)(this,function(e){switch(e.label){case 0:return t=Bn,[4,Oi(v)];case 1:return[2,t.apply(void 0,[e.sent(),g])]}})})}),function(){y.r_(),l.z_.Ri(function(){return Object(Li.b)(i,void 0,void 0,function(){var t;return Object(Li.d)(this,function(e){switch(e.label){case 0:return t=zn,[4,Oi(v)];case 1:return[2,t.apply(void 0,[e.sent(),g])]}})})})}}function Kr(t,e){return function(t,e){var n=this,r=new wa;return t.di.Ri(function(){return Object(Li.b)(n,void 0,void 0,function(){var n;return Object(Li.d)(this,function(i){switch(i.label){case 0:return n=Zn,[4,Ii(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Ni(t),e)}function Hr(t,e,n){var r=n.docs.get(e.K_),i=new Pu(t);return new ku(t,i,e.K_,r,new ic(n.hasPendingWrites,n.fromCache),e.j_)}function Gr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){t=i[r].sf(t)}return t}function Qr(t,e,n,r){if(n[0]instanceof cu&&(n[0]=n[0].o_),n[0]instanceof Iu)return function(t,e,n,r,i){if(!r)throw new Gi(Hi.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=te(t);a<s.length;a++){var u=s[a];if(u.field.tt())o.push(H(e,r.key));else{var c=r.field(u.field);if(R(c))throw new Gi(Hi.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.J();throw new Gi(Hi.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new da(o,i)}(t.tf,t.firestore.R_,e,n[0].W_,r);var i=ri(t.firestore);return function(t,e,n,r,i,o){var a=t.Tn;if(i.length>a.length)throw new Gi(Hi.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.tt()){if("string"!=typeof c)throw new Gi(Hi.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Zt(t)&&-1!==c.indexOf("/"))throw new Gi(Hi.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(ro.Y(c));if(!ao.ot(l))throw new Gi(Hi.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ao(l);s.push(H(e,h))}else{var f=ui(n,r,c);s.push(f)}}return new da(s,o)}(t.tf,t.firestore.R_,i,e,n,r)}function Yr(t,e,n){if(n instanceof cu&&(n=n.o_),"string"==typeof n){if(""===n)throw new Gi(Hi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zt(e)&&-1!==n.indexOf("/"))throw new Gi(Hi.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(ro.Y(n));if(!ao.ot(r))throw new Gi(Hi.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return H(t,new ao(r))}if(n instanceof xu)return H(t,n.K_);throw new Gi(Hi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+xr(n)+".")}function Xr(t,e){if(!Array.isArray(t)||0===t.length)throw new Gi(Hi.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Gi(Hi.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function $r(t,e,n){if(!n.isEqual(e))throw new Gi(Hi.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Jr(t){if(Xt(t)&&0===t.Tn.length)throw new Gi(Hi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Zr(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(Sr("collection","path",e),t instanceof _u){var i=ro.Y.apply(ro,Object(Li.g)([e],n));return Pr(i),new Vu(t,null,i)}if(!(t instanceof xu||t instanceof Vu))throw new Gi(Hi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=ro.Y.apply(ro,Object(Li.g)([t.path],n)).child(ro.Y(e));return Pr(o),new Vu(t.firestore,null,o)}function ti(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(1===arguments.length&&(e=Zi.D()),Sr("doc","path",e),t instanceof _u){var i=ro.Y.apply(ro,Object(Li.g)([e],n));return Ar(i),new xu(t,null,new ao(i))}if(!(t instanceof xu||t instanceof Vu))throw new Gi(Hi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=t.nf.child(ro.Y.apply(ro,Object(Li.g)([e],n)));return Ar(o),new xu(t.firestore,t instanceof Vu?t.j_:null,new ao(o))}function ei(t,e){return(t instanceof xu||t instanceof Vu)&&(e instanceof xu||e instanceof Vu)&&t.firestore===e.firestore&&t.path===e.path&&t.j_===e.j_}function ni(t,e){return t instanceof Ru&&e instanceof Ru&&t.firestore===e.firestore&&re(t.tf,e.tf)&&t.j_===e.j_}function ri(t){var e=t.S_(),n=de(t.R_);return new Hu(t.R_,!!e.ignoreUndefinedProperties,n)}function ii(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw s()}}function oi(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Rf(o.merge||o.mergeFields?2:0,e,n,i);fi("Data must be an object, but it was:",a,r);var s,u,c=li(r,a);if(o.merge)s=new zo(a.en),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var p=pi(e,f[h],n);if(!a.contains(p))throw new Gi(Hi.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");yi(l,p)||l.push(p)}s=new zo(l),u=a.fieldTransforms.filter(function(t){return s.un(t.field)})}else s=null,u=a.fieldTransforms;return new zu(new Zo(c),s,u)}function ai(t,e,n,r){var i=t.Rf(1,e,n);fi("Data must be an object, but it was:",i,r);var o=[],a=new ta;P(r,function(t,r){var s=di(e,t,n);r instanceof cu&&(r=r.o_);var u=i.If(s);if(r instanceof hu)o.push(s);else{var c=ci(r,u);null!=c&&(o.push(s),a.set(s,c))}});var s=new zo(o);return new Wu(a.hn(),s,i.fieldTransforms)}function si(t,e,n,r,i,o){var a=t.Rf(1,e,n),s=[pi(e,r,n)],u=[i];if(o.length%2!=0)throw new Gi(Hi.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(pi(e,o[c])),u.push(o[c+1]);for(var l=[],h=new ta,f=s.length-1;f>=0;--f)if(!yi(l,s[f])){var p=s[f],d=u[f];d instanceof cu&&(d=d.o_);var v=a.If(p);if(d instanceof hu)l.push(p);else{var y=ci(d,v);null!=y&&(l.push(p),h.set(p,y))}}var g=new zo(l);return new Wu(h.hn(),g,a.fieldTransforms)}function ui(t,e,n,r){return void 0===r&&(r=!1),ci(n,t.Rf(r?4:3,e))}function ci(t,e){if(t instanceof cu&&(t=t.o_),hi(t))return fi("Unsupported field value:",e,t),li(t,e);if(t instanceof lu)return function(t,e){if(!ii(e.a_))throw e.h_(t.c_+"() can only be used with update() and set()");if(!e.path)throw e.h_(t.c_+"() is not currently supported inside arrays");var n=t.u_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.settings.__&&4!==e.a_)throw e.h_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=ci(o[i],e.mf(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof cu&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return tt(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=to.fromDate(t);return{timestampValue:et(e.serializer,n)}}if(t instanceof to){var r=new to(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:et(e.serializer,r)}}if(t instanceof yu)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof gu)return{bytesValue:nt(e.serializer,t.T_)};if(t instanceof xu){var i=e.t,o=t.firestore.R_;if(!o.isEqual(i))throw e.h_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:ot(t.firestore.R_||e.t,t.K_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.h_("Unsupported field value: "+xr(t))}(t,e)}function li(t,e){var n={};return x(t)?e.path&&e.path.length>0&&e.en.push(e.path):P(t,function(t,r){var i=ci(r,e.Ef(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function hi(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof to||t instanceof yu||t instanceof gu||t instanceof xu||t instanceof lu)}function fi(t,e,n){if(!hi(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=xr(n);throw"an object"===r?e.h_(t+" a custom object"):e.h_(t+" "+r)}}function pi(t,e,n){if(e instanceof cu&&(e=e.o_),e instanceof Cu)return e.G_;if("string"==typeof e)return di(t,e);throw vi("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function di(t,e,n){if(e.search(Gu)>=0)throw vi("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Cu.bind.apply(Cu,Object(Li.g)([void 0],e.split("."))))).G_}catch(r){throw vi("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function vi(t,e,n,r,i){var o=r&&!r.W(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Gi(Hi.INVALID_ARGUMENT,(s+=". ")+t+u)}function yi(t,e){return t.some(function(t){return t.isEqual(e)})}function gi(t,e){return Object(Li.b)(this,void 0,void 0,function(){var n,i=this;return Object(Li.d)(this,function(o){switch(o.label){case 0:return t.di.Li(),r("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),t.Mf(function(n){return t.di.Mi(function(){return Object(Li.b)(i,void 0,void 0,function(){return Object(Li.d)(this,function(t){switch(t.label){case 0:return[4,on(e.Cu,n)];case 1:return t.sent(),[2]}})})})}),e.persistence.tc(function(){return t.terminate()}),t.Lf=e,[2]}})})}function mi(t,e){return Object(Li.b)(this,void 0,void 0,function(){var n,i;return Object(Li.d)(this,function(o){switch(o.label){case 0:return t.di.Li(),[4,bi(t)];case 1:return n=o.sent(),r("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=o.sent(),[4,e.initialize(n,i)];case 3:return o.sent(),t.Mf(function(n){return t.di.Mi(function(){return function(t,e){return Object(Li.b)(this,void 0,void 0,function(){var n,i;return Object(Li.d)(this,function(o){switch(o.label){case 0:return(n=c(t)).di.Li(),r("RemoteStore","RemoteStore received new credentials"),i=On(n),n.Mu.add(3),[4,mn(n)];case 1:return o.sent(),i&&n.Bu.set("Unknown"),[4,n.xu.s_(e)];case 2:return o.sent(),n.Mu.delete(3),[4,gn(n)];case 3:return o.sent(),[2]}})})}(e.Oh,n)})}),t.$f=e,[2]}})})}function bi(t){return Object(Li.b)(this,void 0,void 0,function(){return Object(Li.d)(this,function(e){switch(e.label){case 0:return t.Lf?[3,2]:(r("FirestoreClient","Using default OfflineComponentProvider"),[4,gi(t,new iu)]);case 1:e.sent(),e.label=2;case 2:return[2,t.Lf]}})})}function _i(t){return Object(Li.b)(this,void 0,void 0,function(){return Object(Li.d)(this,function(e){switch(e.label){case 0:return t.$f?[3,2]:(r("FirestoreClient","Using default OnlineComponentProvider"),[4,mi(t,new su)]);case 1:e.sent(),e.label=2;case 2:return[2,t.$f]}})})}function wi(t){return bi(t).then(function(t){return t.persistence})}function Ei(t){return bi(t).then(function(t){return t.Cu})}function Ti(t){return _i(t).then(function(t){return t.Oh})}function Ii(t){return _i(t).then(function(t){return t.ga})}function Oi(t){return Object(Li.b)(this,void 0,void 0,function(){var e,n;return Object(Li.d)(this,function(r){switch(r.label){case 0:return[4,_i(t)];case 1:return e=r.sent(),[2,((n=e.Mh).Ju=Xn.bind(null,e.ga),n.Zu=Jn.bind(null,e.ga),n)]}})})}function Ci(t,e,n,r,i){var o=new uu({next:function(o){e.Ri(function(){return zn(t,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Gi(Hi.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Gi(Hi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new ks(Qt(n.path),o,{includeMetadataChanges:!0,oa:!0});return Bn(t,a)}function Si(t,e,n,r,i){var o=new uu({next:function(n){e.Ri(function(){return zn(t,a)}),n.fromCache&&"server"===r.source?i.reject(new Gi(Hi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new ks(n,o,{includeMetadataChanges:!0,oa:!0});return Bn(t,a)}function ki(t,e){if(t instanceof cu&&(t=t.o_),t.firestore!==e)throw new Gi(Hi.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Ni(t){return t.H_||Ai(t),t.H_.kf(),t.H_}function Ai(t){var e=t.S_(),n=function(t,e,n){return new Bi(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.R_,t.I_,e);t.H_=new Xu(t.P_,t.z_,n)}function Pi(t,e,n){return t.message=t.message.replace(e,n),t}function xi(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!ve(r))return r}return{}}function Ri(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=ve(t[0])?t[0]:ve(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}function ji(t){return t instanceof cu&&(t=t.o_),Rr(t,xu)}function Di(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Li=n(1),Mi=n(0),Fi=n(4),Ui=n(2),Vi=n(37),qi=n(3),Bi=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},zi=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Wi=function(){function t(t){this.uid=t}return t.prototype.u=function(){return null!=this.uid},t.prototype.h=function(){return this.u()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Wi.UNAUTHENTICATED=new Wi(null),Wi.l=new Wi("google-credentials-uid"),Wi._=new Wi("first-party-uid");var Ki=new Fi.b("@firebase/firestore"),Hi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Gi=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Li.c)(e,t),e}(Error),Qi=function(t,e){this.user=e,this.type="OAuth",this.T={},this.T.Authorization="Bearer "+t},Yi=function(){function t(){this.I=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.m=function(){},t.prototype.A=function(t){this.I=t,t(Wi.UNAUTHENTICATED)},t.prototype.R=function(){this.I=null},t}(),Xi=function(){function t(t){var e=this;this.P=null,this.currentUser=Wi.UNAUTHENTICATED,this.g=!1,this.V=0,this.I=null,this.forceRefresh=!1,this.P=function(){e.V++,e.currentUser=e.p(),e.g=!0,e.I&&e.I(e.currentUser)},this.V=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.P):(this.P(null),t.get().then(function(t){e.auth=t,e.P&&e.auth.addAuthTokenListener(e.P)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.V,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.V!==e?(r("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(u("string"==typeof n.accessToken),new Qi(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.m=function(){this.forceRefresh=!0},t.prototype.A=function(t){this.I=t,this.g&&t(this.currentUser)},t.prototype.R=function(){this.auth&&this.auth.removeAuthTokenListener(this.P),this.P=null,this.I=null},t.prototype.p=function(){var t=this.auth&&this.auth.getUid();return u(null===t||"string"==typeof t),new Wi(t)},t}(),$i=function(){function t(t,e){this.v=t,this.S=e,this.type="FirstParty",this.user=Wi._}return Object.defineProperty(t.prototype,"T",{get:function(){var t={"X-Goog-AuthUser":this.S},e=this.v.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Ji=function(){function t(t,e){this.v=t,this.S=e}return t.prototype.getToken=function(){return Promise.resolve(new $i(this.v,this.S))},t.prototype.A=function(t){t(Wi._)},t.prototype.R=function(){},t.prototype.m=function(){},t}(),Zi=function(){function t(){}return t.D=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=l(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}(),to=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Gi(Hi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Gi(Hi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Gi(Hi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Gi(Hi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.C=function(t){return this.seconds===t.seconds?h(this.nanoseconds,t.nanoseconds):h(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),eo=function(){function t(t){this.timestamp=t}return t.N=function(e){return new t(e)},t.min=function(){return new t(new to(0,0))},t.prototype.F=function(t){return this.timestamp.C(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.O=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.M=function(){return this.timestamp},t}(),no=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&s(),void 0===n?n=t.length-e:n>t.length-e&&s(),this.segments=t,this.offset=e,this.k=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.$(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.L(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.B=function(t){return t=void 0===t?1:t,this.L(this.segments,this.offset+t,this.length-t)},t.prototype.q=function(){return this.L(this.segments,this.offset,this.length-1)},t.prototype.U=function(){return this.segments[this.offset]},t.prototype.K=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.W=function(){return 0===this.length},t.prototype.j=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.G=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.H=function(){return this.segments.slice(this.offset,this.limit())},t.$=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ro=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Li.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.prototype.J=function(){return this.H().join("/")},e.prototype.toString=function(){return this.J()},e.Y=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Gi(Hi.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.X=function(){return new e([])},e}(no),io=/^[_a-zA-Z][_a-zA-Z0-9]*$/,oo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Li.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.Z=function(t){return io.test(t)},e.prototype.J=function(){return this.H().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.Z(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.J()},e.prototype.tt=function(){return 1===this.length&&"__name__"===this.get(0)},e.et=function(){return new e(["__name__"])},e.nt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Gi(Hi.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new Gi(Hi.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Gi(Hi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Gi(Hi.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.X=function(){return new e([])},e}(no),ao=function(){function t(t){this.path=t}return t.st=function(e){return new t(ro.Y(e))},t.it=function(e){return new t(ro.Y(e).B(5))},t.prototype.rt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ro.$(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.$=function(t,e){return ro.$(t.path,e.path)},t.ot=function(t){return t.length%2==0},t.ct=function(e){return new t(new ro(e.slice()))},t}(),so=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ut=null},uo=function(){function t(t){this.at=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.at,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.at)},t.prototype.ht=function(){return 2*this.at.length},t.prototype.F=function(t){return h(this.at,t.at)},t.prototype.isEqual=function(t){return this.at===t.at},t}();uo.lt=new uo("");var co,lo,ho=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=eo.min()),void 0===o&&(o=eo.min()),void 0===a&&(a=uo.lt),this.target=t,this.targetId=e,this._t=n,this.sequenceNumber=r,this.ft=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.dt=function(e){return new t(this.target,this.targetId,this._t,e,this.ft,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.wt=function(e,n){return new t(this.target,this.targetId,this._t,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Et=function(e){return new t(this.target,this.targetId,this._t,this.sequenceNumber,this.ft,e,this.resumeToken)},t}(),fo=function(t){this.count=t};(lo=co||(co={}))[lo.OK=0]="OK",lo[lo.CANCELLED=1]="CANCELLED",lo[lo.UNKNOWN=2]="UNKNOWN",lo[lo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lo[lo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lo[lo.NOT_FOUND=5]="NOT_FOUND",lo[lo.ALREADY_EXISTS=6]="ALREADY_EXISTS",lo[lo.PERMISSION_DENIED=7]="PERMISSION_DENIED",lo[lo.UNAUTHENTICATED=16]="UNAUTHENTICATED",lo[lo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lo[lo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lo[lo.ABORTED=10]="ABORTED",lo[lo.OUT_OF_RANGE=11]="OUT_OF_RANGE",lo[lo.UNIMPLEMENTED=12]="UNIMPLEMENTED",lo[lo.INTERNAL=13]="INTERNAL",lo[lo.UNAVAILABLE=14]="UNAVAILABLE",lo[lo.DATA_LOSS=15]="DATA_LOSS";var po=function(){function t(t,e){this.$=t,this.root=e||yo.EMPTY}return t.prototype.Tt=function(e,n){return new t(this.$,this.root.Tt(e,n,this.$).copy(null,null,yo.It,null,null))},t.prototype.remove=function(e){return new t(this.$,this.root.remove(e,this.$).copy(null,null,yo.It,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.W();){var n=this.$(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.W();){var r=this.$(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.W=function(){return this.root.W()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.At=function(){return this.root.At()},t.prototype.Rt=function(){return this.root.Rt()},t.prototype.Pt=function(t){return this.root.Pt(t)},t.prototype.forEach=function(t){this.Pt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Pt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.yt=function(){return new vo(this.root,null,this.$,!1)},t.prototype.Vt=function(t){return new vo(this.root,t,this.$,!1)},t.prototype.vt=function(){return new vo(this.root,null,this.$,!0)},t.prototype.bt=function(t){return new vo(this.root,t,this.$,!0)},t}(),vo=function(){function t(t,e,n,r){this.St=r,this.Dt=[];for(var i=1;!t.W();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.St?t.left:t.right;else{if(0===i){this.Dt.push(t);break}this.Dt.push(t),t=this.St?t.right:t.left}}return t.prototype.Ct=function(){var t=this.Dt.pop(),e={key:t.key,value:t.value};if(this.St)for(t=t.left;!t.W();)this.Dt.push(t),t=t.right;else for(t=t.right;!t.W();)this.Dt.push(t),t=t.left;return e},t.prototype.Nt=function(){return this.Dt.length>0},t.prototype.xt=function(){if(0===this.Dt.length)return null;var t=this.Dt[this.Dt.length-1];return{key:t.key,value:t.value}},t}(),yo=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.W=function(){return!1},t.prototype.Pt=function(t){return this.left.Pt(t)||t(this.key,this.value)||this.right.Pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.W()?this:this.left.min()},t.prototype.At=function(){return this.min().key},t.prototype.Rt=function(){return this.right.W()?this.key:this.right.Rt()},t.prototype.Tt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Tt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Tt(t,e,n))).Ft()},t.prototype.Ot=function(){if(this.left.W())return t.EMPTY;var e=this;return e.left.Mt()||e.left.left.Mt()||(e=e.kt()),(e=e.copy(null,null,null,e.left.Ot(),null)).Ft()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.W()||i.left.Mt()||i.left.left.Mt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Mt()&&(i=i.$t()),i.right.W()||i.right.Mt()||i.right.left.Mt()||(i=i.Lt()),0===n(e,i.key)){if(i.right.W())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Ot())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ft()},t.prototype.Mt=function(){return this.color},t.prototype.Ft=function(){var t=this;return t.right.Mt()&&!t.left.Mt()&&(t=t.Bt()),t.left.Mt()&&t.left.left.Mt()&&(t=t.$t()),t.left.Mt()&&t.right.Mt()&&(t=t.qt()),t},t.prototype.kt=function(){var t=this.qt();return t.right.left.Mt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.$t())).Bt()).qt()),t},t.prototype.Lt=function(){var t=this.qt();return t.left.left.Mt()&&(t=(t=t.$t()).qt()),t},t.prototype.Bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.$t=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.qt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.Qt();return Math.pow(2,t)<=this.size+1},t.prototype.Qt=function(){if(this.Mt()&&this.left.Mt())throw s();if(this.right.Mt())throw s();var t=this.left.Qt();if(t!==this.right.Qt())throw s();return t+(this.Mt()?0:1)},t}();yo.EMPTY=null,yo.RED=!0,yo.It=!1,yo.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw s()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw s()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw s()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw s()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw s()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Tt=function(t,e,n){return new yo(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.W=function(){return!0},t.prototype.Pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.At=function(){return null},t.prototype.Rt=function(){return null},t.prototype.Mt=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.Qt=function(){return 0},t}());var go=function(){function t(t){this.$=t,this.data=new po(this.$)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.At()},t.prototype.last=function(){return this.data.Rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pt(function(e,n){return t(e),!1})},t.prototype.Kt=function(t,e){for(var n=this.data.Vt(t[0]);n.Nt();){var r=n.Ct();if(this.$(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Wt=function(t,e){var n;for(n=void 0!==e?this.data.Vt(e):this.data.yt();n.Nt();)if(!t(n.Ct().key))return},t.prototype.jt=function(t){var e=this.data.Vt(t);return e.Nt()?e.Ct().key:null},t.prototype.yt=function(){return new mo(this.data.yt())},t.prototype.Vt=function(t){return new mo(this.data.Vt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Tt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.W=function(){return this.data.W()},t.prototype.Gt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.yt(),r=e.data.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(0!==this.$(i,o))return!1}return!0},t.prototype.H=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.$);return n.data=e,n},t}(),mo=function(){function t(t){this.zt=t}return t.prototype.Ct=function(){return this.zt.Ct().key},t.prototype.Nt=function(){return this.zt.Nt()},t}(),bo=new po(ao.$),_o=new po(ao.$),wo=new po(ao.$),Eo=new go(ao.$),To=new go(h),Io=function(){function t(t){this.$=t?function(e,n){return t(e,n)||ao.$(e.key,n.key)}:function(t,e){return ao.$(t.key,e.key)},this.Ht=O(),this.Jt=new po(this.$)}return t.Yt=function(e){return new t(e.$)},t.prototype.has=function(t){return null!=this.Ht.get(t)},t.prototype.get=function(t){return this.Ht.get(t)},t.prototype.first=function(){return this.Jt.At()},t.prototype.last=function(){return this.Jt.Rt()},t.prototype.W=function(){return this.Jt.W()},t.prototype.indexOf=function(t){var e=this.Ht.get(t);return e?this.Jt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Jt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Jt.Pt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ht.Tt(t.key,t),e.Jt.Tt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ht.remove(t),this.Jt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Jt.yt(),r=e.Jt.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.$=this.$,r.Ht=e,r.Jt=n,r},t}(),Oo=function(){function t(){this.Xt=new po(ao.$)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Xt.get(e);n?0!==t.type&&3===n.type?this.Xt=this.Xt.Tt(e,t):3===t.type&&1!==n.type?this.Xt=this.Xt.Tt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Xt=this.Xt.Tt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Xt=this.Xt.remove(e):1===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):s():this.Xt=this.Xt.Tt(e,t)},t.prototype.Zt=function(){var t=[];return this.Xt.Pt(function(e,n){t.push(n)}),t},t}(),Co=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.te=n,this.docChanges=r,this.ee=i,this.fromCache=o,this.ne=a,this.se=s}return t.ie=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Io.Yt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ee.W()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ne===t.ne&&this.ee.isEqual(t.ee)&&re(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.te.isEqual(t.te)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),So=function(){function t(t,e,n,r,i){this.ft=t,this.re=e,this.oe=n,this.ce=r,this.ue=i}return t.ae=function(e,n){var r=new Map;return r.set(e,ko.he(e,n)),new t(eo.min(),r,S(),T(),C())},t}(),ko=function(){function t(t,e,n,r,i){this.resumeToken=t,this.le=e,this._e=n,this.fe=r,this.de=i}return t.he=function(e,n){return new t(uo.lt,n,C(),C(),C())},t}(),No=function(t,e,n,r){this.we=t,this.removedTargetIds=e,this.key=n,this.Ee=r},Ao=function(t,e){this.targetId=t,this.Te=e},Po=function(t,e,n,r){void 0===n&&(n=uo.lt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},xo=function(){function t(){this.Ie=0,this.me=N(),this.Ae=uo.lt,this.Re=!1,this.Pe=!0}return Object.defineProperty(t.prototype,"le",{get:function(){return this.Re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ge",{get:function(){return 0!==this.Ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return this.Pe},enumerable:!1,configurable:!0}),t.prototype.Ve=function(t){t.ht()>0&&(this.Pe=!0,this.Ae=t)},t.prototype.pe=function(){var t=C(),e=C(),n=C();return this.me.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:s()}}),new ko(this.Ae,this.Re,t,e,n)},t.prototype.ve=function(){this.Pe=!1,this.me=N()},t.prototype.be=function(t,e){this.Pe=!0,this.me=this.me.Tt(t,e)},t.prototype.Se=function(t){this.Pe=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.Ie+=1},t.prototype.Ce=function(){this.Ie-=1},t.prototype.Ne=function(){this.Pe=!0,this.Re=!0},t}(),Ro=function(){function t(t){this.xe=t,this.Fe=new Map,this.Oe=T(),this.Me=k(),this.ke=new go(h)}return t.prototype.$e=function(t){for(var e=0,n=t.we;e<n.length;e++){var r=n[e];t.Ee instanceof na?this.Le(r,t.Ee):t.Ee instanceof ra&&this.Be(r,t.key,t.Ee)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var a=o[i];this.Be(a,t.key,t.Ee)}},t.prototype.qe=function(t){var e=this;this.Ue(t,function(n){var r=e.Qe(n);switch(t.state){case 0:e.Ke(n)&&r.Ve(t.resumeToken);break;case 1:r.Ce(),r.ge||r.ve(),r.Ve(t.resumeToken);break;case 2:r.Ce(),r.ge||e.removeTarget(n);break;case 3:e.Ke(n)&&(r.Ne(),r.Ve(t.resumeToken));break;case 4:e.Ke(n)&&(e.We(n),r.Ve(t.resumeToken));break;default:s()}})},t.prototype.Ue=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fe.forEach(function(t,r){n.Ke(r)&&e(r)})},t.prototype.je=function(t){var e=t.targetId,n=t.Te.count,r=this.Ge(e);if(r){var i=r.target;if(_(i))if(0===n){var o=new ao(i.path);this.Be(e,o,new ra(o,eo.min()))}else u(1===n);else this.ze(e)!==n&&(this.We(e),this.ke=this.ke.add(e))}},t.prototype.He=function(t){var e=this,n=new Map;this.Fe.forEach(function(r,i){var o=e.Ge(i);if(o){if(r.le&&_(o.target)){var a=new ao(o.target.path);null!==e.Oe.get(a)||e.Je(i,a)||e.Be(i,a,new ra(a,t))}r.ye&&(n.set(i,r.pe()),r.ve())}});var r=C();this.Me.forEach(function(t,n){var i=!0;n.Wt(function(t){var n=e.Ge(t);return!n||2===n._t||(i=!1,!1)}),i&&(r=r.add(t))});var i=new So(t,n,this.ke,this.Oe,r);return this.Oe=T(),this.Me=k(),this.ke=new go(h),i},t.prototype.Le=function(t,e){if(this.Ke(t)){var n=this.Je(t,e.key)?2:0;this.Qe(t).be(e.key,n),this.Oe=this.Oe.Tt(e.key,e),this.Me=this.Me.Tt(e.key,this.Ye(e.key).add(t))}},t.prototype.Be=function(t,e,n){if(this.Ke(t)){var r=this.Qe(t);this.Je(t,e)?r.be(e,1):r.Se(e),this.Me=this.Me.Tt(e,this.Ye(e).delete(t)),n&&(this.Oe=this.Oe.Tt(e,n))}},t.prototype.removeTarget=function(t){this.Fe.delete(t)},t.prototype.ze=function(t){var e=this.Qe(t).pe();return this.xe.Xe(t).size+e._e.size-e.de.size},t.prototype.De=function(t){this.Qe(t).De()},t.prototype.Qe=function(t){var e=this.Fe.get(t);return e||(e=new xo,this.Fe.set(t,e)),e},t.prototype.Ye=function(t){var e=this.Me.get(t);return e||(e=new go(h),this.Me=this.Me.Tt(t,e)),e},t.prototype.Ke=function(t){var e=null!==this.Ge(t);return e||r("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.Fe.get(t);return e&&e.ge?null:this.xe.Ze(t)},t.prototype.We=function(t){var e=this;this.Fe.set(t,new xo),this.xe.Xe(t).forEach(function(n){e.Be(t,n,null)})},t.prototype.Je=function(t,e){return this.xe.Xe(t).has(e)},t}(),jo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/),Do={asc:"ASCENDING",desc:"DESCENDING"},Lo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mo=function(t,e){this.t=t,this.tn=e},Fo=function(){this.cn=void 0},Uo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Li.c)(e,t),e}(Fo),Vo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Li.c)(e,t),e}(Fo),qo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Li.c)(e,t),e}(Fo),Bo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.nn=n,r}return Object(Li.c)(e,t),e}(Fo),zo=function(){function t(t){this.fields=t,t.sort(oo.$)}return t.prototype.un=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].j(t))return!0;return!1},t.prototype.isEqual=function(t){return f(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Wo=function(t,e){this.field=t,this.transform=e},Ko=function(t,e){this.version=t,this.transformResults=e},Ho=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.on=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"sn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}(),Go=function(){},Qo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.rn=r,i.type=0,i}return Object(Li.c)(e,t),e}(Go),Yo=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.en=r,o.rn=i,o.type=1,o}return Object(Li.c)(e,t),e}(Go),Xo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.rn=Ho.exists(!0),r}return Object(Li.c)(e,t),e}(Go),$o=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=3,r}return Object(Li.c)(e,t),e}(Go),Jo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=4,r}return Object(Li.c)(e,t),e}(Go),Zo=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.W())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!$(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.K()])||null},t.prototype.isEqual=function(t){return M(this.proto,t.proto)},t}(),ta=function(){function t(t){void 0===t&&(t=Zo.empty()),this.ln=t,this._n=new Map}return t.prototype.set=function(t,e){return this.fn(t,e),this},t.prototype.delete=function(t){return this.fn(t,null),this},t.prototype.fn=function(t,e){for(var n=this._n,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===L(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.K(),e)},t.prototype.hn=function(){var t=this.dn(oo.X(),this._n);return null!=t?new Zo(t):this.ln},t.prototype.dn=function(t,e){var n=this,r=!1,i=this.ln.field(t),o=$(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var a=n.dn(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}(),ea=function(t,e){this.key=t,this.version=e},na=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).wn=r,o.an=!!i.an,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Li.c)(e,t),e.prototype.field=function(t){return this.wn.field(t)},e.prototype.data=function(){return this.wn},e.prototype.En=function(){return this.wn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.an===t.an&&this.hasCommittedMutations===t.hasCommittedMutations&&this.wn.isEqual(t.wn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.wn.toString()+", {hasLocalMutations: "+this.an+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.an||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(ea),ra=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Li.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ea),ia=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Li.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ea),oa=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.Tn=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.In=null,this.mn=null,this.startAt,this.endAt},aa=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Li.c)(e,t),e.create=function(t,n,r){return t.tt()?"in"===n||"not-in"===n?this.Rn(t,n,r):new sa(t,n,r):"array-contains"===n?new la(t,r):"in"===n?new ha(t,r):"not-in"===n?new fa(t,r):"array-contains-any"===n?new pa(t,r):new e(t,n,r)},e.Rn=function(t,e,n){return"in"===e?new ua(t,n):new ca(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Pn(U(e,this.value)):null!==e&&L(this.value)===L(e)&&this.Pn(U(e,this.value))},e.prototype.Pn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return s()}},e.prototype.An=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),sa=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ao.it(r.referenceValue),i}return Object(Li.c)(e,t),e.prototype.matches=function(t){var e=ao.$(t.key,this.key);return this.Pn(e)},e}(aa),ua=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ue("in",n),r}return Object(Li.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(aa),ca=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ue("not-in",n),r}return Object(Li.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(aa),la=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Li.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Q(e)&&F(e.arrayValue,this.value)},e}(aa),ha=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Li.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&F(this.value.arrayValue,e)},e}(aa),fa=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Li.c)(e,t),e.prototype.matches=function(t){if(F(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!F(this.value.arrayValue,e)},e}(aa),pa=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Li.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Q(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return F(e.value.arrayValue,t)})},e}(aa),da=function(t,e){this.position=t,this.before=e},va=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e},ya=function(){function t(t,e,n,r){this.batchId=t,this.gn=e,this.baseMutations=n,this.mutations=r}return t.prototype.yn=function(t,e,n){for(var r=n.Vn,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Ft(o,e,r[i]))}return e},t.prototype.pn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Ut(i,e,e,this.gn))}for(var o=e,a=0,s=this.mutations;a<s.length;a++){var u=s[a];u.key.isEqual(t)&&(e=Ut(u,e,o,this.gn))}return e},t.prototype.vn=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.pn(r.key,t.get(r.key));i&&(n=n.Tt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},C())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&f(this.mutations,t.mutations,function(t,e){return qt(t,e)})&&f(this.baseMutations,t.baseMutations,function(t,e){return qt(t,e)})},t}(),ga=function(){function t(t,e,n,r){this.batch=t,this.bn=e,this.Vn=n,this.Sn=r}return t.from=function(e,n,r){u(e.mutations.length===r.length);for(var i=wo,o=e.mutations,a=0;a<o.length;a++)i=i.Tt(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),ma=function(){function t(t,e){this.Dn=t,this.Cn=e,this.Nn={}}return t.prototype.get=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.Cn(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Dn(t),r=this.Nn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.Cn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.Nn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.Cn(n[r][0],t))return 1===n.length?delete this.Nn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){P(this.Nn,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}})},t.prototype.W=function(){return x(this.Nn)},t}(),ba=function(){function t(t){var e=this;this.xn=null,this.Fn=null,this.result=void 0,this.error=void 0,this.On=!1,this.Mn=!1,t(function(t){e.On=!0,e.result=t,e.xn&&e.xn(t)},function(t){e.On=!0,e.error=t,e.Fn&&e.Fn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Mn&&s(),this.Mn=!0,this.On?this.error?this.kn(n,this.error):this.$n(e,this.result):new t(function(t,i){r.xn=function(n){r.$n(e,n).next(t,i)},r.Fn=function(e){r.kn(n,e).next(t,i)}})},t.prototype.Ln=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.$n=function(e,n){return e?this.Bn(function(){return e(n)}):t.resolve(n)},t.prototype.kn=function(e,n){return e?this.Bn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.qn=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Un=function(e){for(var n=t.resolve(!1),r=0,i=e;r<i.length;r++)!function(e){n=n.next(function(n){return n?t.resolve(n):e()})}(i[r]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.qn(r)},t}(),_a=function(){function t(){this.Qn=new ma(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.Kn=!1}return t.prototype.Wn=function(t){var e=this.Qn.get(t);return e?e.readTime:eo.min()},t.prototype.jn=function(t,e){this.Gn(),this.Qn.set(t.key,{zn:t,readTime:e})},t.prototype.Hn=function(t,e){void 0===e&&(e=null),this.Gn(),this.Qn.set(t,{zn:null,readTime:e})},t.prototype.Jn=function(t,e){this.Gn();var n=this.Qn.get(e);return void 0!==n?ba.resolve(n.zn):this.Yn(t,e)},t.prototype.getEntries=function(t,e){return this.Xn(t,e)},t.prototype.apply=function(t){return this.Gn(),this.Kn=!0,this.Zn(t)},t.prototype.Gn=function(){},t}(),wa=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Ea="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ta=function(){function t(){this.ts=[]}return t.prototype.es=function(t){this.ts.push(t)},t.prototype.ns=function(){this.ts.forEach(function(t){return t()})},t}(),Ia=function(){function t(t,e,n){this.ss=t,this.rs=e,this.os=n}return t.prototype.cs=function(t,e){var n=this;return this.rs.us(t,e).next(function(r){return n.hs(t,e,r)})},t.prototype.hs=function(t,e,n){return this.ss.Jn(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].pn(e,t);return t})},t.prototype.ls=function(t,e,n){var r=I();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].pn(t,e);r=r.Tt(t,e)}),r},t.prototype._s=function(t,e){var n=this;return this.ss.getEntries(t,e).next(function(e){return n.fs(t,e)})},t.prototype.fs=function(t,e){var n=this;return this.rs.ds(t,e).next(function(r){var i=n.ls(t,e,r),o=T();return i.forEach(function(t,e){e||(e=new ra(t,eo.min())),o=o.Tt(t,e)}),o})},t.prototype.ws=function(t,e,n){return function(t){return ao.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Es(t,e.path):Zt(e)?this.Ts(t,e,n):this.Is(t,e,n)},t.prototype.Es=function(t,e){return this.cs(t,new ao(e)).next(function(t){var e=O();return t instanceof na&&(e=e.Tt(t.key,t)),e})},t.prototype.Ts=function(t,e,n){var r=this,i=e.collectionGroup,o=O();return this.os.As(t,i).next(function(a){return ba.forEach(a,function(a){var s=function(t,e){return new oa(e,null,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.Is(t,s,n).next(function(t){t.forEach(function(t,e){o=o.Tt(t,e)})})}).next(function(){return o})})},t.prototype.Is=function(t,e,n){var r,i,o=this;return this.ss.ws(t,e,n).next(function(n){return r=n,o.rs.Rs(t,e)}).next(function(e){return i=e,o.Ps(t,i,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c),h=Ut(u,l,l,o.gn);r=h instanceof na?r.Tt(c,h):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){ae(e,n)||(r=r.remove(t))}),r})},t.prototype.Ps=function(t,e,n){for(var r=C(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Yo&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ss.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof na&&(c=c.Tt(t,e))}),c})},t}(),Oa=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.gs=n,this.ys=r}return t.Vs=function(e,n){for(var r=C(),i=C(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Ca=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ps=function(t){return n.vs(t)},this.bs=function(t){return e.Ss(t)})}return t.prototype.vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.bs&&this.bs(t),t},t}();Ca.Ds=-1;var Sa=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Cs=t,this.Ns=e,this.xs=n,this.Fs=r,this.Os=i,this.Ms=0,this.ks=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ms=0},t.prototype.Ls=function(){this.Ms=this.Os},t.prototype.Bs=function(t){var e=this;this.cancel();var n=Math.floor(this.Ms+this.qs()),i=Math.max(0,Date.now()-this.$s),o=Math.max(0,n-i);o>0&&r("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.Ms+" ms, delay with jitter: "+n+" ms, last attempt: "+i+" ms ago)"),this.ks=this.Cs.Us(this.Ns,o,function(){return e.$s=Date.now(),t()}),this.Ms*=this.Fs,this.Ms<this.xs&&(this.Ms=this.xs),this.Ms>this.Os&&(this.Ms=this.Os)},t.prototype.Qs=function(){null!==this.ks&&(this.ks.Ks(),this.ks=null)},t.prototype.cancel=function(){null!==this.ks&&(this.ks.cancel(),this.ks=null)},t.prototype.qs=function(){return(Math.random()-.5)*this.Ms},t}(),ka=function(){function e(t,n,r){this.name=t,this.version=n,this.Ws=r,12.2===e.js(Object(Ui.p)())&&i("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return r("SimpleDb","Removing database:",t),ge(window.indexedDB.deleteDatabase(t)).Ln()},e.Gs=function(){if("undefined"==typeof indexedDB)return!1;if(e.zs())return!0;var t=Object(Ui.p)(),n=e.js(t),r=0<n&&n<10,i=e.Hs(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.zs=function(){var e;return"undefined"!=typeof t&&"YES"===(null===(e=Object({NODE_ENV:"production",PUBLIC_URL:"/push-notification",REACT_APP_APIKEY:'AIzaSyC-IbMlaRCpe9ywQ2Ts2YmLGCDOQtyZZa8",',REACT_APP_AUTHDOMAIN:'headless-12f0d.firebaseapp.com",',REACT_APP_DATABASEURL:'https://headless-12f0d.firebaseio.com",',REACT_APP_PROJECTID:'headless-12f0d",',REACT_APP_STORAGEBUCKET:'headless-12f0d.appspot.com",',REACT_APP_MESSAGINGSENDERID:'186890154052",',REACT_APP_APPID:"1:186890154052:web:395c9e8f14a4643f"}))||void 0===e?void 0:e.Js)},e.Ys=function(t,e){return t.store(e)},e.js=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Hs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.Xs=function(t){return Object(Li.b)(this,void 0,void 0,function(){var e,n=this;return Object(Li.d)(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(r("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,i){var o=indexedDB.open(n.name,n.version);o.onsuccess=function(t){var n=t.target.result;e(n)},o.onblocked=function(){i(new Aa(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(e){var n=e.target.error;i("VersionError"===n.name?new Gi(Hi.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Aa(t,n))},o.onupgradeneeded=function(t){r("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Ws.createOrUpgrade(e,o.transaction,t.oldVersion,n.version).next(function(){r("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=i.sent(),i.label=2;case 2:return[2,(this.Zs&&(this.db.onversionchange=function(t){return n.Zs(t)}),this.db)]}})})},e.prototype.ti=function(t){this.Zs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},e.prototype.runTransaction=function(t,e,n,i){return Object(Li.b)(this,void 0,void 0,function(){var o,a,s,u,c;return Object(Li.d)(this,function(l){switch(l.label){case 0:o="readonly"===e,a=0,s=function(){var e,s,c,l,h;return Object(Li.d)(this,function(f){switch(f.label){case 0:++a,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,u.Xs(t)];case 2:return u.db=f.sent(),e=Pa.open(u.db,t,o?"readonly":"readwrite",n),s=i(e).catch(function(t){return e.abort(t),ba.reject(t)}).Ln(),c={},s.catch(function(){}),[4,e.ei];case 3:return[2,(c.value=(f.sent(),s),c)];case 4:return l=f.sent(),h="FirebaseError"!==l.name&&a<3,r("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),u.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}})},u=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Na=function(){function t(t){this.ni=t,this.si=!1,this.ii=null}return Object.defineProperty(t.prototype,"On",{get:function(){return this.si},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ri",{get:function(){return this.ii},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ni=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.si=!0},t.prototype.oi=function(t){this.ii=t},t.prototype.delete=function(){return ge(this.ni.delete())},t}(),Aa=function(t){function e(e,n){var r=this;return(r=t.call(this,Hi.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Li.c)(e,t),e}(Gi),Pa=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ci=new wa,this.transaction.oncomplete=function(){n.ci.resolve()},this.transaction.onabort=function(){e.error?n.ci.reject(new Aa(t,e.error)):n.ci.resolve()},this.transaction.onerror=function(e){var r=me(e.target.error);n.ci.reject(new Aa(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Aa(n,e)}},Object.defineProperty(t.prototype,"ei",{get:function(){return this.ci.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ci.reject(t),this.aborted||(r("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new xa(e)},t}(),xa=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(r("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(r("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ge(n)},t.prototype.add=function(t){return r("SimpleDb","ADD",this.store.name,t,t),ge(this.store.add(t))},t.prototype.get=function(t){var e=this;return ge(this.store.get(t)).next(function(n){return void 0===n&&(n=null),r("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return r("SimpleDb","DELETE",this.store.name,t),ge(this.store.delete(t))},t.prototype.count=function(){return r("SimpleDb","COUNT",this.store.name),ge(this.store.count())},t.prototype.ui=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ai(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.hi=function(t,e){r("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.li=!1;var i=this.cursor(n);return this.ai(i,function(t,e,n){return n.delete()})},t.prototype._i=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ai(r,e)},t.prototype.fi=function(t){var e=this.cursor({});return new ba(function(n,r){e.onerror=function(t){var e=me(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.ai=function(t,e){var n=[];return new ba(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Na(i),a=e(i.primaryKey,i.value,o);if(a instanceof ba){var s=a.catch(function(t){return o.done(),ba.reject(t)});n.push(s)}o.On?r():null===o.ri?i.continue():i.continue(o.ri)}else r()}}).next(function(){return ba.qn(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.li?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}(),Ra=!1,ja=function(){function t(t,e,n,r,i){this.di=t,this.Ns=e,this.wi=n,this.op=r,this.Ei=i,this.Ti=new wa,this.then=this.Ti.promise.then.bind(this.Ti.promise),this.Ti.promise.catch(function(t){})}return t.Ii=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.mi=setTimeout(function(){return e.Ai()},t)},t.prototype.Ks=function(){return this.Ai()},t.prototype.cancel=function(t){null!==this.mi&&(this.clearTimeout(),this.Ti.reject(new Gi(Hi.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Ai=function(){var t=this;this.di.Ri(function(){return null!==t.mi?(t.clearTimeout(),t.op().then(function(e){return t.Ti.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.mi&&(this.Ei(this),clearTimeout(this.mi),this.mi=null)},t}(),Da=function(){function t(){var t=this;this.Pi=Promise.resolve(),this.gi=[],this.yi=!1,this.Vi=[],this.pi=null,this.vi=!1,this.bi=[],this.Si=new Sa(this,"async_queue_retry"),this.Di=function(){var e=_e();e&&r("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Si.Qs()};var e=_e();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Di)}return Object.defineProperty(t.prototype,"Ci",{get:function(){return this.yi},enumerable:!1,configurable:!0}),t.prototype.Ri=function(t){this.enqueue(t)},t.prototype.Ni=function(t){this.xi(),this.Fi(t)},t.prototype.Oi=function(){if(!this.yi){this.yi=!0;var t=_e();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Di)}},t.prototype.enqueue=function(t){return this.xi(),this.yi?new Promise(function(t){}):this.Fi(t)},t.prototype.Mi=function(t){var e=this;this.Ri(function(){return e.gi.push(t),e.ki()})},t.prototype.ki=function(){return Object(Li.b)(this,void 0,void 0,function(){var t,e=this;return Object(Li.d)(this,function(n){switch(n.label){case 0:if(0===this.gi.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gi[0]()];case 2:return n.sent(),this.gi.shift(),this.Si.reset(),[3,4];case 3:if(!ye(t=n.sent()))throw t;return r("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gi.length>0&&this.Si.Bs(function(){return e.ki()}),n.label=5;case 5:return[2]}})})},t.prototype.Fi=function(t){var e=this,n=this.Pi.then(function(){return e.vi=!0,t().catch(function(t){throw e.pi=t,e.vi=!1,i("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.vi=!1,t})});return this.Pi=n,n},t.prototype.Us=function(t,e,n){var r=this;this.xi(),this.bi.indexOf(t)>-1&&(e=0);var i=ja.Ii(this,t,e,n,function(t){return r.$i(t)});return this.Vi.push(i),i},t.prototype.xi=function(){this.pi&&s()},t.prototype.Li=function(){},t.prototype.Bi=function(){return Object(Li.b)(this,void 0,void 0,function(){var t;return Object(Li.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Pi];case 1:e.sent(),e.label=2;case 2:if(t!==this.Pi)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.qi=function(t){for(var e=0,n=this.Vi;e<n.length;e++)if(n[e].Ns===t)return!0;return!1},t.prototype.Ui=function(t){var e=this;return this.Bi().then(function(){e.Vi.sort(function(t,e){return t.wi-e.wi});for(var n=0,r=e.Vi;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ns===t)break}return e.Bi()})},t.prototype.Qi=function(t){this.bi.push(t)},t.prototype.$i=function(t){var e=this.Vi.indexOf(t);this.Vi.splice(e,1)},t}(),La=function(){function t(t){this.Ki=t,this.buffer=new go(Ee),this.Wi=0}return t.prototype.ji=function(){return++this.Wi},t.prototype.Gi=function(t){var e=[t,this.ji()];if(this.buffer.size<this.Ki)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ee(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Ma={zi:!1,Hi:0,Ji:0,Yi:0},Fa=function(){function t(t,e,n){this.Xi=t,this.Zi=e,this.tr=n}return t.er=function(e){return new t(e,t.nr,t.sr)},t}();Fa.nr=10,Fa.sr=1e3,Fa.ir=new Fa(41943040,Fa.nr,Fa.sr),Fa.rr=new Fa(-1,0,0);var Ua=function(){function t(t,e){this.cr=t,this.di=e,this.ur=!1,this.ar=null}return t.prototype.start=function(t){-1!==this.cr.params.Xi&&this.hr(t)},t.prototype.stop=function(){this.ar&&(this.ar.cancel(),this.ar=null)},Object.defineProperty(t.prototype,"lr",{get:function(){return null!==this.ar},enumerable:!1,configurable:!0}),t.prototype.hr=function(t){var e=this,n=this.ur?3e5:6e4;r("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ar=this.di.Us("lru_garbage_collection",n,function(){return Object(Li.b)(e,void 0,void 0,function(){var e;return Object(Li.d)(this,function(n){switch(n.label){case 0:this.ar=null,this.ur=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t._r(this.cr)];case 2:return n.sent(),[3,7];case 3:return ye(e=n.sent())?(r("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,yn(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.hr(t)];case 8:return n.sent(),[2]}})})})},t}(),Va=function(){function t(t,e){this.dr=t,this.params=e}return t.prototype.wr=function(t,e){return this.dr.Er(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Tr=function(t,e){var n=this;if(0===e)return ba.resolve(Ca.Ds);var r=new La(e);return this.dr.Ue(t,function(t){return r.Gi(t.sequenceNumber)}).next(function(){return n.dr.Ir(t,function(t){return r.Gi(t)})}).next(function(){return r.maxValue})},t.prototype.mr=function(t,e,n){return this.dr.mr(t,e,n)},t.prototype.Ar=function(t,e){return this.dr.Ar(t,e)},t.prototype.Rr=function(t,e){var n=this;return-1===this.params.Xi?(r("LruGarbageCollector","Garbage collection skipped; disabled"),ba.resolve(Ma)):this.Pr(t).next(function(i){return i<n.params.Xi?(r("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+n.params.Xi),Ma):n.gr(t,e)})},t.prototype.Pr=function(t){return this.dr.Pr(t)},t.prototype.gr=function(t,n){var i,o,a,s,u,c,l,h=this,f=Date.now();return this.wr(t,this.params.Zi).next(function(e){return e>h.params.tr?(r("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+h.params.tr+" from "+e),o=h.params.tr):o=e,s=Date.now(),h.Tr(t,o)}).next(function(e){return i=e,u=Date.now(),h.mr(t,i,n)}).next(function(e){return a=e,c=Date.now(),h.Ar(t,i)}).next(function(t){return l=Date.now(),e()<=Fi.a.DEBUG&&r("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-f)+"ms\n\tDetermined least recently used "+o+" in "+(u-s)+"ms\n\tRemoved "+a+" targets in "+(c-u)+"ms\n\tRemoved "+t+" documents in "+(l-c)+"ms\nTotal Duration: "+(l-f)+"ms"),ba.resolve({zi:!0,Hi:o,Ji:a,Yi:t})})},t}(),qa=function(t){this.yr=t},Ba=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.os=n,this.Vr=r,this.pr={}}return t.vr=function(e,n,r,i){return u(""!==e.uid),new t(e.u()?e.uid:"",n,r,i)},t.prototype.br=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ue(t)._i({index:$a.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Sr=function(t,e,n,r){var i=this,o=Ve(t),a=Ue(t);return a.add({}).next(function(s){u("number"==typeof s);for(var c=new ya(s,e,n,r),l=function(t,e,n){var r=n.baseMutations.map(function(e){return dt(t.yr,e)}),i=n.mutations.map(function(e){return dt(t.yr,e)});return new $a(e,n.batchId,n.gn.toMillis(),r,i)}(i.serializer,i.userId,c),f=[],p=new go(function(t,e){return h(t.J(),e.J())}),d=0,v=r;d<v.length;d++){var y=v[d],g=Ja.key(i.userId,y.key.path,s);p=p.add(y.key.path.q()),f.push(a.put(l)),f.push(o.put(g,Ja.PLACEHOLDER))}return p.forEach(function(e){f.push(i.os.Dr(t,e))}),t.es(function(){i.pr[s]=c.keys()}),ba.qn(f).next(function(){return c})})},t.prototype.Cr=function(t,e){var n=this;return Ue(t).get(e).next(function(t){return t?(u(t.userId===n.userId),Re(n.serializer,t)):null})},t.prototype.Nr=function(t,e){var n=this;return this.pr[e]?ba.resolve(this.pr[e]):this.Cr(t,e).next(function(t){if(t){var r=t.keys();return n.pr[e]=r,r}return null})},t.prototype.Fr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ue(t)._i({index:$a.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(u(e.batchId>=r),o=Re(n.serializer,e)),i.done()}).next(function(){return o})},t.prototype.Or=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ue(t)._i({index:$a.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.Mr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ue(t).ui($a.userMutationsIndex,n).next(function(t){return t.map(function(t){return Re(e.serializer,t)})})},t.prototype.us=function(t,e){var n=this,r=Ja.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Ve(t)._i({range:i},function(r,i,a){var c=r[0],l=r[1],h=r[2],f=Ce(l);if(c===n.userId&&e.path.isEqual(f))return Ue(t).get(h).next(function(t){if(!t)throw s();u(t.userId===n.userId),o.push(Re(n.serializer,t))});a.done()}).next(function(){return o})},t.prototype.ds=function(t,e){var n=this,r=new go(h),i=[];return e.forEach(function(e){var o=Ja.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Ve(t)._i({range:a},function(t,i,o){var a=t[0],s=t[1],u=t[2],c=Ce(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()});i.push(s)}),ba.qn(i).next(function(){return n.kr(t,r)})},t.prototype.Rs=function(t,e){var n=this,r=e.path,i=r.length+1,o=Ja.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new go(h);return Ve(t)._i({range:a},function(t,e,o){var a=t[0],u=t[1],c=t[2],l=Ce(u);a===n.userId&&r.j(l)?l.length===i&&(s=s.add(c)):o.done()}).next(function(){return n.kr(t,s)})},t.prototype.kr=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Ue(t).get(e).next(function(t){if(null===t)throw s();u(t.userId===n.userId),r.push(Re(n.serializer,t))}))}),ba.qn(i).next(function(){return r})},t.prototype.$r=function(t,e){var n=this;return Fe(t.Lr,this.userId,e).next(function(r){return t.es(function(){n.Br(e.batchId)}),ba.forEach(r,function(e){return n.Vr.qr(t,e)})})},t.prototype.Br=function(t){delete this.pr[t]},t.prototype.Ur=function(t){var e=this;return this.br(t).next(function(n){if(!n)return ba.resolve();var r=IDBKeyRange.lowerBound(Ja.prefixForUser(e.userId)),i=[];return Ve(t)._i({range:r},function(t,n,r){if(t[0]===e.userId){var o=Ce(t[1]);i.push(o)}else r.done()}).next(function(){u(0===i.length)})})},t.prototype.Qr=function(t,e){return Me(t,this.userId,e)},t.prototype.Kr=function(t){var e=this;return qe(t).get(this.userId).next(function(t){return t||new Xa(e.userId,-1,"")})},t}(),za=function(){function t(t,e){this.serializer=t,this.os=e}return t.prototype.jn=function(t,e,n){return ze(t).put(We(e),n)},t.prototype.Hn=function(t,e){var n=ze(t),r=We(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Wr(t,r)})},t.prototype.Jn=function(t,e){var n=this;return ze(t).get(We(e)).next(function(t){return n.jr(t)})},t.prototype.Gr=function(t,e){var n=this;return ze(t).get(We(e)).next(function(t){var e=n.jr(t);return e?{zn:e,size:Ke(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=I();return this.zr(t,e,function(t,e){var i=n.jr(e);r=r.Tt(t,i)}).next(function(){return r})},t.prototype.Hr=function(t,e){var n=this,r=I(),i=new po(ao.$);return this.zr(t,e,function(t,e){var o=n.jr(e);o?(r=r.Tt(t,o),i=i.Tt(t,Ke(e))):(r=r.Tt(t,null),i=i.Tt(t,0))}).next(function(){return{Jr:r,Yr:i}})},t.prototype.zr=function(t,e,n){if(e.W())return ba.resolve();var r=IDBKeyRange.bound(e.first().path.H(),e.last().path.H()),i=e.yt(),o=i.Ct();return ze(t)._i({range:r},function(t,e,r){for(var a=ao.ct(t);o&&ao.$(o,a)<0;)n(o,null),o=i.Ct();o&&o.isEqual(a)&&(n(o,e),o=i.Nt()?i.Ct():null),o?r.oi(o.path.H()):r.done()}).next(function(){for(;o;)n(o,null),o=i.Nt()?i.Ct():null})},t.prototype.ws=function(t,e,n){var r=this,i=O(),o=e.path.length+1,a={};if(n.isEqual(eo.min())){var s=e.path.H();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.H(),c=Ne(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=es.collectionReadTimeIndex}return ze(t)._i(a,function(t,n,a){if(t.length===o){var s=Se(r.serializer,n);e.path.j(s.key.path)?s instanceof na&&ae(e,s)&&(i=i.Tt(s.key,s)):a.done()}}).next(function(){return i})},t.prototype.Xr=function(t){return new Wa(this,!!t&&t.Zr)},t.prototype.eo=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Be(t).get(ns.key).next(function(t){return u(!!t),t})},t.prototype.Wr=function(t,e){return Be(t).put(ns.key,e)},t.prototype.jr=function(t){if(t){var e=Se(this.serializer,t);return e instanceof ra&&e.version.isEqual(eo.min())?null:e}return null},t}(),Wa=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).no=e,r.Zr=n,r.so=new ma(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Li.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[],r=0,i=new go(function(t,e){return h(t.J(),e.J())});return this.Qn.forEach(function(o,a){var s=e.so.get(o);if(a.zn){var u=ke(e.no.serializer,a.zn,e.Wn(o));i=i.add(o.path.q());var c=Ke(u);r+=c-s,n.push(e.no.jn(t,o,u))}else if(r-=s,e.Zr){var l=ke(e.no.serializer,new ra(o,eo.min()),e.Wn(o));n.push(e.no.jn(t,o,l))}else n.push(e.no.Hn(t,o))}),i.forEach(function(r){n.push(e.no.os.Dr(t,r))}),n.push(this.no.updateMetadata(t,r)),ba.qn(n)},e.prototype.Yn=function(t,e){var n=this;return this.no.Gr(t,e).next(function(t){return null===t?(n.so.set(e,0),null):(n.so.set(e,t.size),t.zn)})},e.prototype.Xn=function(t,e){var n=this;return this.no.Hr(t,e).next(function(t){var e=t.Jr;return t.Yr.forEach(function(t,e){n.so.set(t,e)}),e})},e}(_a),Ka=function(){function t(){this.io=new Ha}return t.prototype.Dr=function(t,e){return this.io.add(e),ba.resolve()},t.prototype.As=function(t,e){return ba.resolve(this.io.getEntries(e))},t}(),Ha=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.K(),n=t.q(),r=this.index[e]||new go(ro.$),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.K(),n=t.q(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new go(ro.$)).H()},t}(),Ga=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;u(n<r&&n>=0&&r<=11);var o=new Pa("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Ya.store)}(t),function(t){t.createObjectStore(Xa.store,{keyPath:Xa.keyPath}),t.createObjectStore($a.store,{keyPath:$a.keyPath,autoIncrement:!0}).createIndex($a.userMutationsIndex,$a.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Ja.store)}(t),He(t),function(t){t.createObjectStore(es.store)}(t));var a=ba.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(is.store),t.deleteObjectStore(rs.store),t.deleteObjectStore(os.store)}(t),He(t)),a=a.next(function(){return function(t){var e=t.store(os.store),n=new os(0,0,eo.min().M(),0);return e.put(os.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(t,e){return e.store($a.store).ui().next(function(n){t.deleteObjectStore($a.store),t.createObjectStore($a.store,{keyPath:$a.keyPath,autoIncrement:!0}).createIndex($a.userMutationsIndex,$a.userMutationsKeyPath,{unique:!0});var r=e.store($a.store),i=n.map(function(t){return r.put(t)});return ba.qn(i)})}(t,o)})),a=a.next(function(){!function(t){t.createObjectStore(ss.store,{keyPath:ss.keyPath})}(t)})),n<5&&r>=5&&(a=a.next(function(){return i.removeAcknowledgedMutations(o)})),n<6&&r>=6&&(a=a.next(function(){return function(t){t.createObjectStore(ns.store)}(t),i.addDocumentGlobal(o)})),n<7&&r>=7&&(a=a.next(function(){return i.ensureSequenceNumbers(o)})),n<8&&r>=8&&(a=a.next(function(){return i.createCollectionParentIndex(t,o)})),n<9&&r>=9&&(a=a.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(es.store);e.createIndex(es.readTimeIndex,es.readTimeIndexPath,{unique:!1}),e.createIndex(es.collectionReadTimeIndex,es.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(a=a.next(function(){return i.rewriteCanonicalIds(o)})),n<11&&r>=11&&(a=a.next(function(){!function(t){t.createObjectStore(us.store,{keyPath:us.keyPath})}(t),function(t){t.createObjectStore(cs.store,{keyPath:cs.keyPath})}(t)})),a},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(es.store)._i(function(t,n){e+=Ke(n)}).next(function(){var n=new ns(e);return t.store(ns.store).put(ns.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Xa.store),r=t.store($a.store);return n.ui().next(function(n){return ba.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ui($a.userMutationsIndex,i).next(function(r){return ba.forEach(r,function(r){u(r.userId===n.userId);var i=Re(e.serializer,r);return Fe(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(is.store),n=t.store(es.store);return t.store(os.store).get(os.key).next(function(t){var r=[];return n._i(function(n,i){var o=new ro(n),a=function(t){return[0,Te(t)]}(o);r.push(e.get(a).next(function(n){return n?ba.resolve():function(n){return e.put(new is(0,Te(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return ba.qn(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(as.store,{keyPath:as.keyPath});var n=e.store(as.store),r=new Ha,i=function(t){if(r.add(t)){var e=t.K(),i=t.q();return n.put({collectionId:e,parent:Te(i)})}};return e.store(es.store)._i({li:!0},function(t,e){var n=new ro(t);return i(n.q())}).next(function(){return e.store(Ja.store)._i({li:!0},function(t,e){t[0];var n=t[1],r=(t[2],Ce(n));return i(r.q())})})},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(rs.store);return n._i(function(t,r){var i=je(r),o=De(e.serializer,i);return n.put(o)})},t}(),Qa=function(t,e){this.seconds=t,this.nanoseconds=e},Ya=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ya.store="owner",Ya.key="owner";var Xa=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Xa.store="mutationQueues",Xa.keyPath="userId";var $a=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};$a.store="mutations",$a.keyPath="batchId",$a.userMutationsIndex="userMutationsIndex",$a.userMutationsKeyPath=["userId","batchId"];var Ja=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Te(e)]},t.key=function(t,e,n){return[t,Te(e),n]},t}();Ja.store="documentMutations",Ja.PLACEHOLDER=new Ja;var Za=function(t,e){this.path=t,this.readTime=e},ts=function(t,e){this.path=t,this.version=e},es=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};es.store="remoteDocuments",es.readTimeIndex="readTimeIndex",es.readTimeIndexPath="readTime",es.collectionReadTimeIndex="collectionReadTimeIndex",es.collectionReadTimeIndexPath=["parentPath","readTime"];var ns=function(t){this.byteSize=t};ns.store="remoteDocumentGlobal",ns.key="remoteDocumentGlobalKey";var rs=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};rs.store="targets",rs.keyPath="targetId",rs.queryTargetsIndexName="queryTargetsIndex",rs.queryTargetsKeyPath=["canonicalId","targetId"];var is=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};is.store="targetDocuments",is.keyPath=["targetId","path"],is.documentTargetsIndex="documentTargetsIndex",is.documentTargetsKeyPath=["path","targetId"];var os=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};os.key="targetGlobalKey",os.store="targetGlobal";var as=function(t,e){this.collectionId=t,this.parent=e};as.store="collectionParents",as.keyPath=["collectionId","parent"];var ss=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};ss.store="clientMetadata",ss.keyPath="clientId";var us=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};us.store="bundles",us.keyPath="bundleId";var cs=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};cs.store="namedQueries",cs.keyPath="name";var ls=Object(Li.g)(Object(Li.g)(Object(Li.g)(Object(Li.g)([Xa.store,$a.store,Ja.store,es.store,rs.store,Ya.store,os.store,is.store],[ss.store]),[ns.store]),[as.store]),[us.store,cs.store]),hs=function(){function t(t){this.serializer=t}return t.prototype.ro=function(t,e){return Ge(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:xe(e.createTime),version:e.version};var e})},t.prototype.oo=function(t,e){return Ge(t).put({bundleId:(n=e).id,createTime:Pe(it(n.createTime)),version:n.version});var n},t.prototype.co=function(t,e){return Qe(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Le(e.bundledQuery),readTime:xe(e.readTime)};var e})},t.prototype.uo=function(t,e){return Qe(t).put(function(t){return{name:t.name,readTime:Pe(it(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}(),fs=function(){function t(){this.ao=new Ha}return t.prototype.Dr=function(t,e){var n=this;if(!this.ao.has(e)){var r=e.K(),i=e.q();t.es(function(){n.ao.add(e)});var o={collectionId:r,parent:Te(i)};return Ye(t).put(o)}return ba.resolve()},t.prototype.As=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[p(e),""],!1,!0);return Ye(t).ui(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Ce(o.parent))}return n})},t}(),ps=function(){function t(t){this.ho=t}return t.prototype.next=function(){return this.ho+=2,this.ho},t.lo=function(){return new t(0)},t._o=function(){return new t(-1)},t}(),ds=function(){function t(t,e){this.Vr=t,this.serializer=e}return t.prototype.fo=function(t){var e=this;return this.wo(t).next(function(n){var r=new ps(n.highestTargetId);return n.highestTargetId=r.next(),e.Eo(t,n).next(function(){return n.highestTargetId})})},t.prototype.To=function(t){return this.wo(t).next(function(t){return eo.N(new to(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Io=function(t){return this.wo(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.mo=function(t,e,n){var r=this;return this.wo(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.M()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Eo(t,i)})},t.prototype.Ao=function(t,e){var n=this;return this.Ro(t,e).next(function(){return n.wo(t).next(function(r){return r.targetCount+=1,n.Po(e,r),n.Eo(t,r)})})},t.prototype.yo=function(t,e){return this.Ro(t,e)},t.prototype.Vo=function(t,e){var n=this;return this.po(t,e.targetId).next(function(){return Xe(t).delete(e.targetId)}).next(function(){return n.wo(t)}).next(function(e){return u(e.targetCount>0),e.targetCount-=1,n.Eo(t,e)})},t.prototype.mr=function(t,e,n){var r=this,i=0,o=[];return Xe(t)._i(function(a,s){var u=je(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Vo(t,u)))}).next(function(){return ba.qn(o)}).next(function(){return i})},t.prototype.Ue=function(t,e){return Xe(t)._i(function(t,n){var r=je(n);e(r)})},t.prototype.wo=function(t){return $e(t).get(os.key).next(function(t){return u(null!==t),t})},t.prototype.Eo=function(t,e){return $e(t).put(os.key,e)},t.prototype.Ro=function(t,e){return Xe(t).put(De(this.serializer,e))},t.prototype.Po=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.vo=function(t){return this.wo(t).next(function(t){return t.targetCount})},t.prototype.bo=function(t,e){var n=m(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Xe(t)._i({range:r,index:rs.queryTargetsIndexName},function(t,n,r){var o=je(n);b(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.So=function(t,e,n){var r=this,i=[],o=Je(t);return e.forEach(function(e){var a=Te(e.path);i.push(o.put(new is(n,a))),i.push(r.Vr.Do(t,n,e))}),ba.qn(i)},t.prototype.Co=function(t,e,n){var r=this,i=Je(t);return ba.forEach(e,function(e){var o=Te(e.path);return ba.qn([i.delete([n,o]),r.Vr.No(t,n,e)])})},t.prototype.po=function(t,e){var n=Je(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.xo=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Je(t),i=C();return r._i({range:n,li:!0},function(t,e,n){var r=Ce(t[1]),o=new ao(r);i=i.add(o)}).next(function(){return i})},t.prototype.Qr=function(t,e){var n=Te(e.path),r=IDBKeyRange.bound([n],[p(n)],!1,!0),i=0;return Je(t)._i({index:is.documentTargetsIndex,li:!0,range:r},function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Ze=function(t,e){return Xe(t).get(e).next(function(t){return t?je(t):null})},t}(),vs="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ys=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Lr=e,r.Fo=n,r}return Object(Li.c)(e,t),e}(Ta),gs=function(){function t(e,n,r,o,a,s,u,c,l,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Cs=a,this.window=s,this.document=u,this.Oo=l,this.Mo=h,this.ko=null,this.$o=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Lo=null,this.inForeground=!1,this.Bo=null,this.qo=null,this.Uo=Number.NEGATIVE_INFINITY,this.Qo=function(t){return Promise.resolve()},!t.Gs())throw new Gi(Hi.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Vr=new ms(this,o),this.Ko=n+"main",this.serializer=new qa(c),this.Wo=new ka(this.Ko,11,new Ga(this.serializer)),this.jo=new ds(this.Vr,this.serializer),this.os=new fs,this.ss=function(t,e){return new za(t,e)}(this.serializer,this.os),this.Go=new hs(this.serializer),this.window&&this.window.localStorage?this.zo=this.window.localStorage:(this.zo=null,!1===h&&i("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ys=function(t,e){if(t instanceof ys)return ka.Ys(t.Lr,e);throw s()},t.prototype.start=function(){var t=this;return this.Ho().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Gi(Hi.FAILED_PRECONDITION,vs);return t.Jo(),t.Yo(),t.Xo(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.jo.Io(e)})}).then(function(e){t.ko=new Ca(e,t.Oo)}).then(function(){t.$o=!0}).catch(function(e){return t.Wo&&t.Wo.close(),Promise.reject(e)})},t.prototype.Zo=function(t){var e=this;return this.Qo=function(n){return Object(Li.b)(e,void 0,void 0,function(){return Object(Li.d)(this,function(e){return this.lr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.tc=function(t){var e=this;this.Wo.ti(function(n){return Object(Li.b)(e,void 0,void 0,function(){return Object(Li.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.ec=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Cs.Ri(function(){return Object(Li.b)(e,void 0,void 0,function(){return Object(Li.d)(this,function(t){switch(t.label){case 0:return this.lr?[4,this.Ho()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Ho=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return tn(e).put(new ss(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.nc(e).next(function(e){e||(t.isPrimary=!1,t.Cs.Mi(function(){return t.Qo(!1)}))})}).next(function(){return t.sc(e)}).next(function(n){return t.isPrimary&&!n?t.ic(e).next(function(){return!1}):!!n&&t.rc(e).next(function(){return!0})})}).catch(function(e){if(ye(e))return r("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return r("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Cs.Mi(function(){return t.Qo(e)}),t.isPrimary=e})},t.prototype.nc=function(t){var e=this;return Ze(t).get(Ya.key).next(function(t){return ba.resolve(e.oc(t))})},t.prototype.cc=function(t){return tn(t).delete(this.clientId)},t.prototype.uc=function(){return Object(Li.b)(this,void 0,void 0,function(){var e,n,r,i,o=this;return Object(Li.d)(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.ac(this.Uo,18e5)?[3,2]:(this.Uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var n=t.Ys(e,ss.store);return n.ui().next(function(t){var e=o.hc(t,18e5),r=t.filter(function(t){return-1===e.indexOf(t)});return ba.forEach(r,function(t){return n.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(e=a.sent(),this.zo)for(n=0,r=e;n<r.length;n++)i=r[n],this.zo.removeItem(this.lc(i.clientId));a.label=2;case 2:return[2]}})})},t.prototype.Xo=function(){var t=this;this.qo=this.Cs.Us("client_metadata_refresh",4e3,function(){return t.Ho().then(function(){return t.uc()}).then(function(){return t.Xo()})})},t.prototype.oc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sc=function(t){var e=this;return this.Mo?ba.resolve(!0):Ze(t).get(Ya.key).next(function(n){if(null!==n&&e.ac(n.leaseTimestampMs,5e3)&&!e._c(n.ownerId)){if(e.oc(n)&&e.networkEnabled)return!0;if(!e.oc(n)){if(!n.allowTabSynchronization)throw new Gi(Hi.FAILED_PRECONDITION,vs);return!1}}return!(!e.networkEnabled||!e.inForeground)||tn(t).ui().next(function(t){return void 0===e.hc(t,5e3).find(function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(t){return e.isPrimary!==t&&r("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.fc=function(){return Object(Li.b)(this,void 0,void 0,function(){var t=this;return Object(Li.d)(this,function(e){switch(e.label){case 0:return this.$o=!1,this.dc(),this.qo&&(this.qo.cancel(),this.qo=null),this.wc(),this.Ec(),[4,this.Wo.runTransaction("shutdown","readwrite",[Ya.store,ss.store],function(e){var n=new ys(e,Ca.Ds);return t.ic(n).next(function(){return t.cc(n)})})];case 1:return e.sent(),this.Wo.close(),this.Tc(),[2]}})})},t.prototype.hc=function(t,e){var n=this;return t.filter(function(t){return n.ac(t.updateTimeMs,e)&&!n._c(t.clientId)})},t.prototype.Ic=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return tn(e).ui().next(function(e){return t.hc(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),t.prototype.mc=function(t){return Ba.vr(t,this.serializer,this.os,this.Vr)},t.prototype.Ac=function(){return this.jo},t.prototype.Rc=function(){return this.ss},t.prototype.Pc=function(){return this.os},t.prototype.gc=function(){return this.Go},t.prototype.runTransaction=function(t,e,n){var o=this;r("IndexedDbPersistence","Starting transaction:",t);var a,s="readonly"===e?"readonly":"readwrite";return this.Wo.runTransaction(t,s,ls,function(r){return a=new ys(r,o.ko?o.ko.next():Ca.Ds),"readwrite-primary"===e?o.nc(a).next(function(t){return!!t||o.sc(a)}).next(function(e){if(!e)throw i("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Cs.Mi(function(){return o.Qo(!1)}),new Gi(Hi.FAILED_PRECONDITION,Ea);return n(a)}).next(function(t){return o.rc(a).next(function(){return t})}):o.yc(a).next(function(){return n(a)})}).then(function(t){return a.ns(),t})},t.prototype.yc=function(t){var e=this;return Ze(t).get(Ya.key).next(function(t){if(null!==t&&e.ac(t.leaseTimestampMs,5e3)&&!e._c(t.ownerId)&&!e.oc(t)&&!(e.Mo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Gi(Hi.FAILED_PRECONDITION,vs)})},t.prototype.rc=function(t){var e=new Ya(this.clientId,this.allowTabSynchronization,Date.now());return Ze(t).put(Ya.key,e)},t.Gs=function(){return ka.Gs()},t.prototype.ic=function(t){var e=this,n=Ze(t);return n.get(Ya.key).next(function(t){return e.oc(t)?(r("IndexedDbPersistence","Releasing primary lease."),n.delete(Ya.key)):ba.resolve()})},t.prototype.ac=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(i("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Jo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Bo=function(){t.Cs.Ri(function(){return t.inForeground="visible"===t.document.visibilityState,t.Ho()})},this.document.addEventListener("visibilitychange",this.Bo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.wc=function(){this.Bo&&(this.document.removeEventListener("visibilitychange",this.Bo),this.Bo=null)},t.prototype.Yo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Lo=function(){e.dc(),e.Cs.Ri(function(){return e.fc()})},this.window.addEventListener("unload",this.Lo))},t.prototype.Ec=function(){this.Lo&&(this.window.removeEventListener("unload",this.Lo),this.Lo=null)},t.prototype._c=function(t){var e;try{var n=null!==(null===(e=this.zo)||void 0===e?void 0:e.getItem(this.lc(t)));return r("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return i("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.dc=function(){if(this.zo)try{this.zo.setItem(this.lc(this.clientId),String(Date.now()))}catch(t){i("Failed to set zombie client id.",t)}},t.prototype.Tc=function(){if(this.zo)try{this.zo.removeItem(this.lc(this.clientId))}catch(t){}},t.prototype.lc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}(),ms=function(){function t(t,e){this.db=t,this.cr=new Va(this,e)}return t.prototype.Er=function(t){var e=this.Vc(t);return this.db.Ac().vo(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Vc=function(t){var e=0;return this.Ir(t,function(t){e++}).next(function(){return e})},t.prototype.Ue=function(t,e){return this.db.Ac().Ue(t,e)},t.prototype.Ir=function(t,e){return this.vc(t,function(t,n){return e(n)})},t.prototype.Do=function(t,e,n){return en(t,n)},t.prototype.No=function(t,e,n){return en(t,n)},t.prototype.mr=function(t,e,n){return this.db.Ac().mr(t,e,n)},t.prototype.qr=function(t,e){return en(t,e)},t.prototype.bc=function(t,e){return function(t,e){var n=!1;return qe(t).fi(function(r){return Me(t,r,e).next(function(t){return t&&(n=!0),ba.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.Ar=function(t,e){var n=this,r=this.db.Rc().Xr(),i=[],o=0;return this.vc(t,function(a,s){if(s<=e){var u=n.bc(t,a).next(function(e){if(!e)return o++,r.Jn(t,a).next(function(){return r.Hn(a),Je(t).delete([0,Te(a.path)])})});i.push(u)}}).next(function(){return ba.qn(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.dt(t.Fo);return this.db.Ac().yo(t,n)},t.prototype.Sc=function(t,e){return en(t,e)},t.prototype.vc=function(t,e){var n,r=Je(t),i=Ca.Ds;return r._i({index:is.documentTargetsIndex},function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==Ca.Ds&&e(new ao(Ce(n)),i),i=s,n=a):i=Ca.Ds}).next(function(){i!==Ca.Ds&&e(new ao(Ce(n)),i)})},t.prototype.Pr=function(t){return this.db.Rc().eo(t)},t}(),bs=function(){function t(t,e,n,r){this.persistence=t,this.Dc=e,this.serializer=r,this.Cc=new po(h),this.Nc=new ma(function(t){return m(t)},b),this.xc=eo.min(),this.rs=t.mc(n),this.Fc=t.Rc(),this.jo=t.Ac(),this.Oc=new Ia(this.Fc,this.rs,this.persistence.Pc()),this.Go=t.gc(),this.Dc.Mc(this.Oc)}return t.prototype._r=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Rr(n,e.Cc)})},t}(),_s=function(){function t(t,e,n,r,i,o){this.Cs=t,this.Uc=n,this.Qc=r,this.Kc=i,this.listener=o,this.state=0,this.Wc=0,this.jc=null,this.stream=null,this.Si=new Sa(t,e)}return t.prototype.Gc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.zc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Hc()},t.prototype.stop=function(){return Object(Li.b)(this,void 0,void 0,function(){return Object(Li.d)(this,function(t){switch(t.label){case 0:return this.Gc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Jc=function(){this.state=0,this.Si.reset()},t.prototype.Yc=function(){var t=this;this.zc()&&null===this.jc&&(this.jc=this.Cs.Us(this.Uc,6e4,function(){return t.Xc()}))},t.prototype.Zc=function(t){this.tu(),this.stream.send(t)},t.prototype.Xc=function(){return Object(Li.b)(this,void 0,void 0,function(){return Object(Li.d)(this,function(t){return this.zc()?[2,this.close(0)]:[2]})})},t.prototype.tu=function(){this.jc&&(this.jc.cancel(),this.jc=null)},t.prototype.close=function(t,e){return Object(Li.b)(this,void 0,void 0,function(){return Object(Li.d)(this,function(n){switch(n.label){case 0:return this.tu(),this.Si.cancel(),this.Wc++,3!==t?this.Si.reset():e&&e.code===Hi.RESOURCE_EXHAUSTED?(i(e.toString()),i("Using maximum backoff delay to prevent overloading the backend."),this.Si.Ls()):e&&e.code===Hi.UNAUTHENTICATED&&this.Kc.m(),null!==this.stream&&(this.eu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.nu(e)];case 1:return n.sent(),[2]}})})},t.prototype.eu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.su(this.Wc),n=this.Wc;this.Kc.getToken().then(function(e){t.Wc===n&&t.iu(e)},function(n){e(function(){var e=new Gi(Hi.UNKNOWN,"Fetching auth token failed: "+n.message);return t.ru(e)})})},t.prototype.iu=function(t){var e=this,n=this.su(this.Wc);this.stream=this.ou(t),this.stream.cu(function(){n(function(){return e.state=2,e.listener.cu()})}),this.stream.nu(function(t){n(function(){return e.ru(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Hc=function(){var t=this;this.state=4,this.Si.Bs(function(){return Object(Li.b)(t,void 0,void 0,function(){return Object(Li.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.ru=function(t){return r("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.su=function(t){var e=this;return function(n){e.Cs.Ri(function(){return e.Wc===t?n():(r("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),ws=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,a}return Object(Li.c)(e,t),e.prototype.ou=function(t){return this.Qc.uu("Listen",t)},e.prototype.onMessage=function(t){this.Si.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:s()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.tn?(u(void 0===e||"string"==typeof e),uo.fromBase64String(e||"")):(u(void 0===e||e instanceof Uint8Array),uo.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(t){var e=void 0===t.code?Hi.UNKNOWN:E(t.code);return new Gi(e,t.message||"")}(a);n=new Po(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;var l=e.documentChange;l.document,l.document.name,l.document.updateTime;var h=ut(t,l.document.name),f=it(l.document.updateTime),p=new Zo({mapValue:{fields:l.document.fields}}),d=new na(h,f,p,{}),v=l.targetIds||[],y=l.removedTargetIds||[];n=new No(v,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;var g=e.documentDelete;g.document;var m=ut(t,g.document),b=g.readTime?it(g.readTime):eo.min(),_=new ra(m,b),w=g.removedTargetIds||[];n=new No([],w,_.key,_)}else if("documentRemove"in e){e.documentRemove;var T=e.documentRemove;T.document;var I=ut(t,T.document),O=T.removedTargetIds||[];n=new No([],O,I,null)}else{if(!("filter"in e))return s();e.filter;var C=e.filter;C.targetId;var S=C.count||0,k=new fo(S),N=C.targetId;n=new Ao(N,k)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return eo.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?eo.min():e.readTime?it(e.readTime):eo.min()}(t);return this.listener.au(e,n)},e.prototype.hu=function(t){var e={};e.database=ht(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=_(r)?{documents:yt(t,r)}:{query:gt(t,r)}).targetId=e.targetId,e.resumeToken.ht()>0?n.resumeToken=nt(t,e.resumeToken):e.ft.F(eo.min())>0&&(n.readTime=et(t,e.ft.M())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return s()}}(0,e._t);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.Zc(e)},e.prototype.lu=function(t){var e={};e.database=ht(this.serializer),e.removeTarget=t,this.Zc(e)},e}(_s),Es=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,a._u=!1,a}return Object(Li.c)(e,t),Object.defineProperty(e.prototype,"fu",{get:function(){return this._u},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._u=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.eu=function(){this._u&&this.du([])},e.prototype.ou=function(t){return this.Qc.uu("Write",t)},e.prototype.onMessage=function(t){if(u(!!t.streamToken),this.lastStreamToken=t.streamToken,this._u){this.Si.reset();var e=function(t,e){return t&&t.length>0?(u(void 0!==e),t.map(function(t){return function(t,e){var n=it(t.updateTime?t.updateTime:e);n.isEqual(eo.min())&&(n=it(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Ko(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=it(t.commitTime);return this.listener.wu(n,e)}return u(!t.writeResults||0===t.writeResults.length),this._u=!0,this.listener.Eu()},e.prototype.Tu=function(){var t={};t.database=ht(this.serializer),this.Zc(t)},e.prototype.du=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return dt(e.serializer,t)})};this.Zc(n)},e}(_s),Ts=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qc=n,i.serializer=r,i.Iu=!1,i}return Object(Li.c)(e,t),e.prototype.mu=function(){if(this.Iu)throw new Gi(Hi.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Au=function(t,e,n){var r=this;return this.mu(),this.credentials.getToken().then(function(i){return r.Qc.Au(t,e,n,i)}).catch(function(t){throw t.code===Hi.UNAUTHENTICATED&&r.credentials.m(),t})},e.prototype.Ru=function(t,e,n){var r=this;return this.mu(),this.credentials.getToken().then(function(i){return r.Qc.Ru(t,e,n,i)}).catch(function(t){throw t.code===Hi.UNAUTHENTICATED&&r.credentials.m(),t})},e.prototype.terminate=function(){this.Iu=!1},e}(function(){}),Is=function(){function t(t,e){this.di=t,this.Pu=e,this.state="Unknown",this.gu=0,this.yu=null,this.Vu=!0}return t.prototype.pu=function(){var t=this;0===this.gu&&(this.vu("Unknown"),this.yu=this.di.Us("online_state_timeout",1e4,function(){return t.yu=null,t.bu("Backend didn't respond within 10 seconds."),t.vu("Offline"),Promise.resolve()}))},t.prototype.Su=function(t){"Online"===this.state?this.vu("Unknown"):++this.gu>=1&&(this.Du(),this.bu("Connection failed 1 times. Most recent error: "+t.toString()),this.vu("Offline"))},t.prototype.set=function(t){this.Du(),this.gu=0,"Online"===t&&(this.Vu=!1),this.vu(t)},t.prototype.vu=function(t){t!==this.state&&(this.state=t,this.Pu(t))},t.prototype.bu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vu?(i(e),this.Vu=!1):r("OnlineStateTracker",e)},t.prototype.Du=function(){null!==this.yu&&(this.yu.cancel(),this.yu=null)},t}(),Os=function(t,e,n,i,o){var a=this;this.Cu=t,this.Nu=e,this.di=n,this.xu={},this.Fu=[],this.Ou=new Map,this.Mu=new Set,this.ku=[],this.$u=o,this.$u.Lu(function(t){n.Ri(function(){return Object(Li.b)(a,void 0,void 0,function(){return Object(Li.d)(this,function(t){switch(t.label){case 0:return On(this)?(r("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Li.b)(this,void 0,void 0,function(){var e;return Object(Li.d)(this,function(n){switch(n.label){case 0:return(e=c(t)).Mu.add(4),[4,mn(e)];case 1:return n.sent(),e.Bu.set("Unknown"),e.Mu.delete(4),[4,gn(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Bu=new Is(n,i)},Cs=function(){this.zu=void 0,this.listeners=[]},Ss=function(){this.queries=new ma(function(t){return ie(t)},re),this.onlineState="Unknown",this.Hu=new Set},ks=function(){function t(t,e,n){this.query=t,this.ta=e,this.ea=!1,this.na=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Xu=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Co(t.query,t.docs,t.te,e,t.ee,t.fromCache,t.ne,!0)}var o=!1;return this.ea?this.sa(t)&&(this.ta.next(t),o=!0):this.ia(t,this.onlineState)&&(this.ra(t),o=!0),this.na=t,o},t.prototype.onError=function(t){this.ta.error(t)},t.prototype.Yu=function(t){this.onlineState=t;var e=!1;return this.na&&!this.ea&&this.ia(this.na,t)&&(this.ra(this.na),e=!0),e},t.prototype.ia=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.oa&&n||t.docs.W()&&"Offline"!==e)},t.prototype.sa=function(t){if(t.docChanges.length>0)return!0;var e=this.na&&this.na.hasPendingWrites!==t.hasPendingWrites;return!(!t.ne&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.ra=function(t){t=Co.ie(t.query,t.docs,t.ee,t.fromCache),this.ea=!0,this.ta.next(t)},t}(),Ns=function(){function t(){this.ca=new go(As.ua),this.aa=new go(As.ha)}return t.prototype.W=function(){return this.ca.W()},t.prototype.Do=function(t,e){var n=new As(t,e);this.ca=this.ca.add(n),this.aa=this.aa.add(n)},t.prototype.la=function(t,e){var n=this;t.forEach(function(t){return n.Do(t,e)})},t.prototype.No=function(t,e){this._a(new As(t,e))},t.prototype.fa=function(t,e){var n=this;t.forEach(function(t){return n.No(t,e)})},t.prototype.da=function(t){var e=this,n=new ao(new ro([])),r=new As(n,t),i=new As(n,t+1),o=[];return this.aa.Kt([r,i],function(t){e._a(t),o.push(t.key)}),o},t.prototype.wa=function(){var t=this;this.ca.forEach(function(e){return t._a(e)})},t.prototype._a=function(t){this.ca=this.ca.delete(t),this.aa=this.aa.delete(t)},t.prototype.Ea=function(t){var e=new ao(new ro([])),n=new As(e,t),r=new As(e,t+1),i=C();return this.aa.Kt([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Qr=function(t){var e=new As(t,0),n=this.ca.jt(e);return null!==n&&t.isEqual(n.key)},t}(),As=function(){function t(t,e){this.key=t,this.Ta=e}return t.ua=function(t,e){return ao.$(t.key,e.key)||h(t.Ta,e.Ta)},t.ha=function(t,e){return h(t.Ta,e.Ta)||ao.$(t.key,e.key)},t}(),Ps=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Ia=function(e,n,r){var o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error),s=void 0;return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(s=new Gi(o.error.code,o.error.message)),a?new t(e,n,o.state,s):(i("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ma=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),xs=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Ia=function(e,n){var r=JSON.parse(n),o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),a=void 0;return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(a=new Gi(r.error.code,r.error.message)),o?new t(e,r.state,a):(i("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ma=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Rs=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Ia=function(e,n){for(var r=JSON.parse(n),o="object"==typeof r&&r.activeTargetIds instanceof Array,a=S(),s=0;o&&s<r.activeTargetIds.length;++s)o=y(r.activeTargetIds[s]),a=a.add(r.activeTargetIds[s]);return o?new t(e,a):(i("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),js=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Ia=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(i("SharedClientState","Failed to parse online state: "+e),null)},t}(),Ds=function(){function t(){this.activeTargetIds=S()}return t.prototype.Aa=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Ra=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ma=function(){var t={activeTargetIds:this.activeTargetIds.H(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Ls=function(){function t(t,e,n,r,i){this.window=t,this.Cs=e,this.persistenceKey=n,this.Pa=r,this.ga=null,this.Pu=null,this.ps=null,this.ya=this.Va.bind(this),this.pa=new po(h),this.lr=!1,this.va=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ba=Gn(this.persistenceKey,this.Pa),this.Sa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.pa=this.pa.Tt(this.Pa,new Ds),this.Da=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ca=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Na=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.xa=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Fa=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ya)}return t.Gs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Li.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,a,s,u,c,l,h=this;return Object(Li.d)(this,function(f){switch(f.label){case 0:return[4,this.ga.Ic()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Pa&&(i=this.getItem(Gn(this.persistenceKey,r)))&&(o=Rs.Ia(r,i))&&(this.pa=this.pa.Tt(o.clientId,o));for(this.Oa(),(a=this.storage.getItem(this.xa))&&(s=this.Ma(a))&&this.ka(s),u=0,c=this.va;u<c.length;u++)l=c[u],this.Va(l);return this.va=[],this.window.addEventListener("unload",function(){return h.fc()}),this.lr=!0,[2]}})})},t.prototype.Ss=function(t){this.setItem(this.Sa,JSON.stringify(t))},t.prototype.$a=function(){return this.La(this.pa)},t.prototype.Ba=function(t){var e=!1;return this.pa.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.qa=function(t){this.Ua(t,"pending")},t.prototype.Qa=function(t,e,n){this.Ua(t,e,n),this.Ka(t)},t.prototype.Wa=function(t){var e="not-current";if(this.Ba(t)){var n=this.storage.getItem(Yn(this.persistenceKey,t));if(n){var r=xs.Ia(t,n);r&&(e=r.state)}}return this.ja.Aa(t),this.Oa(),e},t.prototype.Ga=function(t){this.ja.Ra(t),this.Oa()},t.prototype.za=function(t){return this.ja.activeTargetIds.has(t)},t.prototype.Ha=function(t){this.removeItem(Yn(this.persistenceKey,t))},t.prototype.Ja=function(t,e,n){this.Ya(t,e,n)},t.prototype.Xa=function(t,e,n){var r=this;e.forEach(function(t){r.Ka(t)}),this.currentUser=t,n.forEach(function(t){r.qa(t)})},t.prototype.Za=function(t){this.th(t)},t.prototype.eh=function(){this.nh()},t.prototype.fc=function(){this.lr&&(this.window.removeEventListener("storage",this.ya),this.removeItem(this.ba),this.lr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return r("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){r("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){r("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Va=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(r("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ba)return void i("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Cs.Mi(function(){return Object(Li.b)(e,void 0,void 0,function(){var t,e,r,o,a,s;return Object(Li.d)(this,function(c){if(this.lr){if(null!==n.key)if(this.Da.test(n.key)){if(null==n.newValue)return t=this.sh(n.key),[2,this.ih(t,null)];if(e=this.rh(n.key,n.newValue))return[2,this.ih(e.clientId,e)]}else if(this.Ca.test(n.key)){if(null!==n.newValue&&(r=this.oh(n.key,n.newValue)))return[2,this.uh(r)]}else if(this.Na.test(n.key)){if(null!==n.newValue&&(o=this.ah(n.key,n.newValue)))return[2,this.hh(o)]}else if(n.key===this.xa){if(null!==n.newValue&&(a=this.Ma(n.newValue)))return[2,this.ka(a)]}else if(n.key===this.Sa)(s=function(t){var e=Ca.Ds;if(null!=t)try{var n=JSON.parse(t);u("number"==typeof n),e=n}catch(t){i("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ca.Ds&&this.ps(s);else if(n.key===this.Fa)return[2,this.ga.lh()]}else this.va.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"ja",{get:function(){return this.pa.get(this.Pa)},enumerable:!1,configurable:!0}),t.prototype.Oa=function(){this.setItem(this.ba,this.ja.ma())},t.prototype.Ua=function(t,e,n){var r=new Ps(this.currentUser,t,e,n),i=Qn(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ma())},t.prototype.Ka=function(t){var e=Qn(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.th=function(t){var e={clientId:this.Pa,onlineState:t};this.storage.setItem(this.xa,JSON.stringify(e))},t.prototype.Ya=function(t,e,n){var r=Yn(this.persistenceKey,t),i=new xs(t,e,n);this.setItem(r,i.ma())},t.prototype.nh=function(){this.setItem(this.Fa,"value-not-used")},t.prototype.sh=function(t){var e=this.Da.exec(t);return e?e[1]:null},t.prototype.rh=function(t,e){var n=this.sh(t);return Rs.Ia(n,e)},t.prototype.oh=function(t,e){var n=this.Ca.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Ps.Ia(new Wi(i),r,e)},t.prototype.ah=function(t,e){var n=this.Na.exec(t),r=Number(n[1]);return xs.Ia(r,e)},t.prototype.Ma=function(t){return js.Ia(t)},t.prototype.uh=function(t){return Object(Li.b)(this,void 0,void 0,function(){return Object(Li.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.ga._h(t.batchId,t.state,t.error)]:(r("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.hh=function(t){return this.ga.fh(t.targetId,t.state,t.error)},t.prototype.ih=function(t,e){var n=this,r=e?this.pa.Tt(t,e):this.pa.remove(t),i=this.La(this.pa),o=this.La(r),a=[],s=[];return o.forEach(function(t){i.has(t)||a.push(t)}),i.forEach(function(t){o.has(t)||s.push(t)}),this.ga.dh(a,s).then(function(){n.pa=r})},t.prototype.ka=function(t){this.pa.get(t.clientId)&&this.Pu(t.onlineState)},t.prototype.La=function(t){var e=S();return t.forEach(function(t,n){e=e.Gt(n.activeTargetIds)}),e},t}(),Ms=function(){function t(){this.wh=new Ds,this.Eh={},this.Pu=null,this.ps=null}return t.prototype.qa=function(t){},t.prototype.Qa=function(t,e,n){},t.prototype.Wa=function(t){return this.wh.Aa(t),this.Eh[t]||"not-current"},t.prototype.Ja=function(t,e,n){this.Eh[t]=e},t.prototype.Ga=function(t){this.wh.Ra(t)},t.prototype.za=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.Ha=function(t){delete this.Eh[t]},t.prototype.$a=function(){return this.wh.activeTargetIds},t.prototype.Ba=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.start=function(){return this.wh=new Ds,Promise.resolve()},t.prototype.Xa=function(t,e,n){},t.prototype.Za=function(t){},t.prototype.fc=function(){},t.prototype.Ss=function(t){},t.prototype.eh=function(){},t}(),Fs=function(t){this.key=t},Us=function(t){this.key=t},Vs=function(){function t(t,e){this.query=t,this.Th=e,this.Ih=null,this.le=!1,this.mh=C(),this.ee=C(),this.Ah=se(t),this.Rh=new Io(this.Ah)}return Object.defineProperty(t.prototype,"Ph",{get:function(){return this.Th},enumerable:!1,configurable:!0}),t.prototype.gh=function(t,e){var n=this,r=e?e.yh:new Oo,i=e?e.Rh:this.Rh,o=e?e.ee:this.ee,a=i,s=!1,u=Yt(this.query)&&i.size===this.query.limit?i.last():null,c=Xt(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pt(function(t,e){var l=i.get(t),h=e instanceof na?e:null;h&&(h=ae(n.query,h)?h:null);var f=!!l&&n.ee.has(l.key),p=!!h&&(h.an||n.ee.has(h.key)&&h.hasCommittedMutations),d=!1;l&&h?l.data().isEqual(h.data())?f!==p&&(r.track({type:3,doc:h}),d=!0):n.Vh(l,h)||(r.track({type:2,doc:h}),d=!0,(u&&n.Ah(h,u)>0||c&&n.Ah(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),d=!0):l&&!h&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(s=!0)),d&&(h?(a=a.add(h),o=p?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),Yt(this.query)||Xt(this.query))for(;a.size>this.query.limit;){var l=Yt(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Rh:a,yh:r,ph:s,ee:o}},t.prototype.Vh=function(t,e){return t.an&&e.hasCommittedMutations&&!e.an},t.prototype.Zn=function(t,e,n){var r=this,i=this.Rh;this.Rh=t.Rh,this.ee=t.ee;var o=t.yh.Zt();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return s()}};return n(t)-n(e)}(t.type,e.type)||r.Ah(t.doc,e.doc)}),this.bh(n);var a=e?this.Sh():[],u=0===this.mh.size&&this.le?1:0,c=u!==this.Ih;return this.Ih=u,0!==o.length||c?{snapshot:new Co(this.query,t.Rh,i,o,t.ee,0===u,c,!1),Dh:a}:{Dh:a}},t.prototype.Yu=function(t){return this.le&&"Offline"===t?(this.le=!1,this.Zn({Rh:this.Rh,yh:new Oo,ee:this.ee,ph:!1},!1)):{Dh:[]}},t.prototype.Ch=function(t){return!this.Th.has(t)&&!!this.Rh.has(t)&&!this.Rh.get(t).an},t.prototype.bh=function(t){var e=this;t&&(t._e.forEach(function(t){return e.Th=e.Th.add(t)}),t.fe.forEach(function(t){}),t.de.forEach(function(t){return e.Th=e.Th.delete(t)}),this.le=t.le)},t.prototype.Sh=function(){var t=this;if(!this.le)return[];var e=this.mh;this.mh=C(),this.Rh.forEach(function(e){t.Ch(e.key)&&(t.mh=t.mh.add(e.key))});var n=[];return e.forEach(function(e){t.mh.has(e)||n.push(new Us(e))}),this.mh.forEach(function(t){e.has(t)||n.push(new Fs(t))}),n},t.prototype.Nh=function(t){this.Th=t.Bc,this.mh=C();var e=this.gh(t.documents);return this.Zn(e,!0)},t.prototype.xh=function(){return Co.ie(this.query,this.Rh,this.ee,0===this.Ih)},t}(),qs=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Bs=function(t){this.key=t,this.Fh=!1},zs=function(){function t(t,e,n,r,i,o){this.Cu=t,this.Oh=e,this.Mh=n,this.kh=r,this.currentUser=i,this.$h=o,this.Lh={},this.Bh=new ma(function(t){return ie(t)},re),this.qh=new Map,this.Uh=[],this.Qh=new po(ao.$),this.Kh=new Map,this.Wh=new Ns,this.jh={},this.Gh=new Map,this.zh=ps._o(),this.onlineState="Unknown",this.Hh=void 0}return Object.defineProperty(t.prototype,"Jh",{get:function(){return!0===this.Hh},enumerable:!1,configurable:!0}),t}(),Ws=function(){function t(){}return t.prototype.Mc=function(t){this.Zh=t},t.prototype.ws=function(t,n,i,o){var a=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Tn.length||1===t.Tn.length&&t.Tn[0].field.tt())}(n)||i.isEqual(eo.min())?this.tl(t,n):this.Zh._s(t,o).next(function(s){var u=a.el(n,s);return(Yt(n)||Xt(n))&&a.ph(n.limitType,u,o,i)?a.tl(t,n):(e()<=Fi.a.DEBUG&&r("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oe(n)),a.Zh.ws(t,n,i).next(function(t){return u.forEach(function(e){t=t.Tt(e.key,e)}),t}))})},t.prototype.el=function(t,e){var n=new go(se(t));return e.forEach(function(e,r){r instanceof na&&ae(t,r)&&(n=n.add(r))}),n},t.prototype.ph=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.F(r)>0)},t.prototype.tl=function(t,n){return e()<=Fi.a.DEBUG&&r("IndexFreeQueryEngine","Using full collection scan to execute query:",oe(n)),this.Zh.ws(t,n,eo.min())},t}(),Ks=function(){function t(t,e){this.os=t,this.Vr=e,this.rs=[],this.nl=1,this.sl=new go(As.ua)}return t.prototype.br=function(t){return ba.resolve(0===this.rs.length)},t.prototype.Sr=function(t,e,n,r){var i=this.nl;this.nl++,this.rs.length>0&&this.rs[this.rs.length-1];var o=new ya(i,e,n,r);this.rs.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.sl=this.sl.add(new As(u.key,i)),this.os.Dr(t,u.key.path.q())}return ba.resolve(o)},t.prototype.Cr=function(t,e){return ba.resolve(this.il(e))},t.prototype.Fr=function(t,e){var n=e+1,r=this.rl(n),i=r<0?0:r;return ba.resolve(this.rs.length>i?this.rs[i]:null)},t.prototype.Or=function(){return ba.resolve(0===this.rs.length?-1:this.nl-1)},t.prototype.Mr=function(t){return ba.resolve(this.rs.slice())},t.prototype.us=function(t,e){var n=this,r=new As(e,0),i=new As(e,Number.POSITIVE_INFINITY),o=[];return this.sl.Kt([r,i],function(t){var e=n.il(t.Ta);o.push(e)}),ba.resolve(o)},t.prototype.ds=function(t,e){var n=this,r=new go(h);return e.forEach(function(t){var e=new As(t,0),i=new As(t,Number.POSITIVE_INFINITY);n.sl.Kt([e,i],function(t){r=r.add(t.Ta)})}),ba.resolve(this.ol(r))},t.prototype.Rs=function(t,e){var n=e.path,r=n.length+1,i=n;ao.ot(i)||(i=i.child(""));var o=new As(new ao(i),0),a=new go(h);return this.sl.Wt(function(t){var e=t.key.path;return!!n.j(e)&&(e.length===r&&(a=a.add(t.Ta)),!0)},o),ba.resolve(this.ol(a))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.il(t);null!==r&&n.push(r)}),n},t.prototype.$r=function(t,e){var n=this;u(0===this.cl(e.batchId,"removed")),this.rs.shift();var r=this.sl;return ba.forEach(e.mutations,function(i){var o=new As(i.key,e.batchId);return r=r.delete(o),n.Vr.qr(t,i.key)}).next(function(){n.sl=r})},t.prototype.Br=function(t){},t.prototype.Qr=function(t,e){var n=new As(e,0),r=this.sl.jt(n);return ba.resolve(e.isEqual(r&&r.key))},t.prototype.Ur=function(t){return this.rs.length,ba.resolve()},t.prototype.cl=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.rs.length?0:t-this.rs[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.rs.length?null:this.rs[e]},t}(),Hs=function(){function t(t,e){this.os=t,this.ul=e,this.docs=new po(ao.$),this.size=0}return t.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ul(e);return this.docs=this.docs.Tt(r,{zn:e,size:a,readTime:n}),this.size+=a-o,this.os.Dr(t,r.path.q())},t.prototype.Hn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Jn=function(t,e){var n=this.docs.get(e);return ba.resolve(n?n.zn:null)},t.prototype.getEntries=function(t,e){var n=this,r=I();return e.forEach(function(t){var e=n.docs.get(t);r=r.Tt(t,e?e.zn:null)}),ba.resolve(r)},t.prototype.ws=function(t,e,n){for(var r=O(),i=new ao(e.path.child("")),o=this.docs.Vt(i);o.Nt();){var a=o.Ct(),s=a.key,u=a.value,c=u.zn,l=u.readTime;if(!e.path.j(s.path))break;l.F(n)<=0||c instanceof na&&ae(e,c)&&(r=r.Tt(c.key,c))}return ba.resolve(r)},t.prototype.al=function(t,e){return ba.forEach(this.docs,function(t){return e(t)})},t.prototype.Xr=function(t){return new Gs(this)},t.prototype.eo=function(t){return ba.resolve(this.size)},t}(),Gs=function(t){function e(e){var n=this;return(n=t.call(this)||this).no=e,n}return Object(Li.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[];return this.Qn.forEach(function(r,i){i&&i.zn?n.push(e.no.jn(t,i.zn,e.Wn(r))):e.no.Hn(r)}),ba.qn(n)},e.prototype.Yn=function(t,e){return this.no.Jn(t,e)},e.prototype.Xn=function(t,e){return this.no.getEntries(t,e)},e}(_a),Qs=function(){function t(t){this.persistence=t,this.hl=new ma(function(t){return m(t)},b),this.lastRemoteSnapshotVersion=eo.min(),this.highestTargetId=0,this.ll=0,this._l=new Ns,this.targetCount=0,this.fl=ps.lo()}return t.prototype.Ue=function(t,e){return this.hl.forEach(function(t,n){return e(n)}),ba.resolve()},t.prototype.To=function(t){return ba.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Io=function(t){return ba.resolve(this.ll)},t.prototype.fo=function(t){return this.highestTargetId=this.fl.next(),ba.resolve(this.highestTargetId)},t.prototype.mo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),ba.resolve()},t.prototype.Ro=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new ps(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.Ao=function(t,e){return this.Ro(e),this.targetCount+=1,ba.resolve()},t.prototype.yo=function(t,e){return this.Ro(e),ba.resolve()},t.prototype.Vo=function(t,e){return this.hl.delete(e.target),this._l.da(e.targetId),this.targetCount-=1,ba.resolve()},t.prototype.mr=function(t,e,n){var r=this,i=0,o=[];return this.hl.forEach(function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.hl.delete(a),o.push(r.po(t,s.targetId)),i++)}),ba.qn(o).next(function(){return i})},t.prototype.vo=function(t){return ba.resolve(this.targetCount)},t.prototype.bo=function(t,e){var n=this.hl.get(e)||null;return ba.resolve(n)},t.prototype.So=function(t,e,n){return this._l.la(e,n),ba.resolve()},t.prototype.Co=function(t,e,n){this._l.fa(e,n);var r=this.persistence.Vr,i=[];return r&&e.forEach(function(e){i.push(r.qr(t,e))}),ba.qn(i)},t.prototype.po=function(t,e){return this._l.da(e),ba.resolve()},t.prototype.xo=function(t,e){var n=this._l.Ea(e);return ba.resolve(n)},t.prototype.Qr=function(t,e){return ba.resolve(this._l.Qr(e))},t}(),Ys=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.ro=function(t,e){return ba.resolve(this.dl.get(e))},t.prototype.oo=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:it(n.createTime)}),ba.resolve()},t.prototype.co=function(t,e){return ba.resolve(this.wl.get(e))},t.prototype.uo=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:Le(n.bundledQuery),readTime:it(n.readTime)}),ba.resolve()},t}(),Xs=function(){function t(t,e){var n=this;this.El={},this.ko=new Ca(0),this.$o=!1,this.$o=!0,this.Vr=t(this),this.jo=new Qs(this),this.os=new Ka,this.ss=function(t,e){return new Hs(t,function(t){return n.Vr.Tl(t)})}(this.os),this.serializer=new qa(e),this.Go=new Ys(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.fc=function(){return this.$o=!1,Promise.resolve()},Object.defineProperty(t.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),t.prototype.tc=function(){},t.prototype.ec=function(){},t.prototype.Pc=function(){return this.os},t.prototype.mc=function(t){var e=this.El[t.h()];return e||(e=new Ks(this.os,this.Vr),this.El[t.h()]=e),e},t.prototype.Ac=function(){return this.jo},t.prototype.Rc=function(){return this.ss},t.prototype.gc=function(){return this.Go},t.prototype.runTransaction=function(t,e,n){var i=this;r("MemoryPersistence","Starting transaction:",t);var o=new $s(this.ko.next());return this.Vr.Il(),n(o).next(function(t){return i.Vr.ml(o).next(function(){return t})}).Ln().then(function(t){return o.ns(),t})},t.prototype.Al=function(t,e){return ba.Un(Object.values(this.El).map(function(n){return function(){return n.Qr(t,e)}}))},t}(),$s=function(t){function e(e){var n=this;return(n=t.call(this)||this).Fo=e,n}return Object(Li.c)(e,t),e}(Ta),Js=function(){function t(t){this.persistence=t,this.Rl=new Ns,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"yl",{get:function(){if(this.Pl)return this.Pl;throw s()},enumerable:!1,configurable:!0}),t.prototype.Do=function(t,e,n){return this.Rl.Do(n,e),this.yl.delete(n.toString()),ba.resolve()},t.prototype.No=function(t,e,n){return this.Rl.No(n,e),this.yl.add(n.toString()),ba.resolve()},t.prototype.qr=function(t,e){return this.yl.add(e.toString()),ba.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.da(e.targetId).forEach(function(t){return n.yl.add(t.toString())});var r=this.persistence.Ac();return r.xo(t,e.targetId).next(function(t){t.forEach(function(t){return n.yl.add(t.toString())})}).next(function(){return r.Vo(t,e)})},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.Rc().Xr();return ba.forEach(this.yl,function(r){var i=ao.st(r);return e.Vl(t,i).next(function(t){t||n.Hn(i)})}).next(function(){return e.Pl=null,n.apply(t)})},t.prototype.Sc=function(t,e){var n=this;return this.Vl(t,e).next(function(t){t?n.yl.delete(e.toString()):n.yl.add(e.toString())})},t.prototype.Tl=function(t){return 0},t.prototype.Vl=function(t,e){var n=this;return ba.Un([function(){return ba.resolve(n.Rl.Qr(e))},function(){return n.persistence.Ac().Qr(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),Zs=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.cu=function(t){this.bl=t},t.prototype.nu=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),tu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},eu=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(Li.c)(e,t),e.prototype.Ll=function(t,e,n,i){return new Promise(function(o,a){var u=new Vi.f;u.listenOnce(Vi.c.COMPLETE,function(){try{switch(u.getLastErrorCode()){case Vi.a.NO_ERROR:var e=u.getResponseJson();r("Connection","XHR received:",JSON.stringify(e)),o(e);break;case Vi.a.TIMEOUT:r("Connection",'RPC "'+t+'" timed out'),a(new Gi(Hi.DEADLINE_EXCEEDED,"Request time out"));break;case Vi.a.HTTP_ERROR:var n=u.getStatus();if(r("Connection",'RPC "'+t+'" failed with status:',n,"response text:",u.getResponseText()),n>0){var i=u.getResponseJson().error;if(i&&i.status&&i.message){var c=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(Hi).indexOf(e)>=0?e:Hi.UNKNOWN}(i.status);a(new Gi(c,i.message))}else a(new Gi(Hi.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Gi(Hi.UNAVAILABLE,"Connection failed."));break;default:s()}}finally{r("Connection",'RPC "'+t+'" completed.')}});var c=JSON.stringify(i);u.send(e,"POST",c,n,15)})},e.prototype.uu=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=Object(Vi.g)(),a=Object(Vi.h)(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(s.initMessageHeaders,e),Object(Ui.x)()||Object(Ui.A)()||Object(Ui.t)()||Object(Ui.v)()||Object(Ui.B)()||Object(Ui.s)()||(s.httpHeadersOverwriteParam="$httpHeaders");var c=n.join("");r("Connection","Creating WebChannel: "+c,s);var l=i.createWebChannel(c,s),h=!1,f=!1,p=new Zs({pl:function(t){f?r("Connection","Not sending because WebChannel is closed:",t):(h||(r("Connection","Opening WebChannel transport."),l.open(),h=!0),r("Connection","WebChannel sending:",t),l.send(t))},vl:function(){return l.close()}}),d=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return d(l,Vi.e.EventType.OPEN,function(){f||r("Connection","WebChannel transport opened.")}),d(l,Vi.e.EventType.CLOSE,function(){f||(f=!0,r("Connection","WebChannel transport closed"),p.Nl())}),d(l,Vi.e.EventType.ERROR,function(t){f||(f=!0,o("Connection","WebChannel transport errored:",t),p.Nl(new Gi(Hi.UNAVAILABLE,"The operation could not be completed")))}),d(l,Vi.e.EventType.MESSAGE,function(t){var e;if(!f){var n=t.data[0];u(!!n);var i=n,o=i.error||(null===(e=i[0])||void 0===e?void 0:e.error);if(o){r("Connection","WebChannel received error:",o);var a=o.status,s=function(t){var e=co[t];if(void 0!==e)return E(e)}(a),c=o.message;void 0===s&&(s=Hi.INTERNAL,c="Unknown error status: "+a+" with message "+o.message),f=!0,p.Nl(new Gi(s,c)),l.close()}else r("Connection","WebChannel received:",n),p.xl(n)}}),d(a,Vi.b.STAT_EVENT,function(t){t.stat===Vi.d.PROXY?r("Connection","Detected buffering proxy"):t.stat===Vi.d.NOPROXY&&r("Connection","Detected no buffering proxy")}),setTimeout(function(){p.Cl()},0),p},e}(function(){function t(t){this.Fl=t,this.t=t.t;var e=t.ssl?"https":"http";this.Ol=e+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.Au=function(t,e,n,i){var a=this.kl(t,e);r("RestConnection","Sending: ",a,n);var s={};return this.$l(s,i),this.Ll(t,a,s,n).then(function(t){return r("RestConnection","Received: ",t),t},function(e){throw o("RestConnection",t+" failed with error: ",e,"url: ",a,"request:",n),e})},t.prototype.Ru=function(t,e,n,r){return this.Au(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.1.1",t["Content-Type"]="text/plain",e)for(var n in e.T)e.T.hasOwnProperty(n)&&(t[n]=e.T[n])},t.prototype.kl=function(t,e){var n=tu[t];return this.Ol+"/v1/"+e+":"+n},t}()),nu=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Lu=function(t){this.Kl.push(t)},t.prototype.fc=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){r("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){r("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.Gs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ru=function(){function t(){}return t.prototype.Lu=function(t){},t.prototype.fc=function(){},t}(),iu=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Li.b)(this,void 0,void 0,function(){return Object(Li.d)(this,function(e){switch(e.label){case 0:return this.serializer=de(t.Fl.t),this.kh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Cu=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return rn(this.persistence,new Ws,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new Xs(Js.gl,this.serializer)},t.prototype.jl=function(t){return new Ms},t.prototype.terminate=function(){return Object(Li.b)(this,void 0,void 0,function(){return Object(Li.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.kh.fc()];case 1:return t.sent(),[4,this.persistence.fc()];case 2:return t.sent(),[2]}})})},t}(),ou=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Li.c)(e,t),e.prototype.initialize=function(e){return Object(Li.b)(this,void 0,void 0,function(){return Object(Li.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,vn(this.Cu)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,Cr(this.Xl.ga)];case 4:return n.sent(),[4,xn(this.Xl.Oh)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return rn(this.persistence,new Ws,t.Yl,this.serializer)},e.prototype.Hl=function(t){var e=this.persistence.Vr.cr;return new Ua(e,t.di)},e.prototype.Gl=function(t){var e=nn(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?Fa.er(this.cacheSizeBytes):Fa.ir;return new gs(this.synchronizeTabs,e,t.clientId,n,t.di,be(),_e(),this.serializer,this.kh,!!this.forceOwnership)},e.prototype.jl=function(t){return new Ms},e}(iu),au=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Li.c)(e,t),e.prototype.initialize=function(e){return Object(Li.b)(this,void 0,void 0,function(){var n,r=this;return Object(Li.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.ga,this.kh instanceof Ls?(this.kh.ga={_h:mr.bind(null,n),fh:Tr.bind(null,n),dh:Ir.bind(null,n),Ic:Er.bind(null,n),lh:gr.bind(null,n)},[4,this.kh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Zo(function(t){return Object(Li.b)(r,void 0,void 0,function(){return Object(Li.d)(this,function(e){switch(e.label){case 0:return[4,br(this.Xl.ga,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.lr?this.zl.start(this.Cu):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jl=function(t){var e=be();if(!Ls.Gs(e))throw new Gi(Hi.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=nn(t.Fl.t,t.Fl.persistenceKey);return new Ls(e,t.di,n,t.clientId,t.Yl)},e}(ou),su=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Li.b)(this,void 0,void 0,function(){var n=this;return Object(Li.d)(this,function(r){switch(r.label){case 0:return this.Cu?[3,2]:(this.Cu=t.Cu,this.kh=t.kh,this.Nu=this.Zl(e),this.Oh=this.t_(e),this.Mh=this.e_(e),this.ga=this.n_(e,!t.synchronizeTabs),this.kh.Pu=function(t){return er(n.ga,t,1)},this.Oh.xu.s_=dr.bind(null,this.ga),[4,Un(this.Oh,this.ga.Jh)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new Ss},t.prototype.Zl=function(t){var e,n=de(t.Fl.t),r=(e=t.Fl,new eu(e));return function(t,e,n){return new Ts(t,e,n)}(t.credentials,r,n)},t.prototype.t_=function(t){var e,n,r,i,o,a=this;return e=this.Cu,n=this.Nu,r=t.di,i=function(t){return er(a.ga,t,0)},o=nu.Gs()?new nu:new ru,new Os(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,a){var s=new zs(t,e,n,r,i,o);return a&&(s.Hh=!0),s}(this.Cu,this.Oh,this.Mh,this.kh,t.Yl,t.$h,e)},t.prototype.terminate=function(){return function(t){return Object(Li.b)(this,void 0,void 0,function(){var e;return Object(Li.d)(this,function(n){switch(n.label){case 0:return e=c(t),r("RemoteStore","RemoteStore shutting down."),e.Mu.add(5),[4,mn(e)];case 1:return n.sent(),e.$u.fc(),e.Bu.set("Unknown"),[2]}})})}(this.Oh)},t}(),uu=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),cu=function(t){this.o_=t},lu=function(t){this.c_=t},hu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Li.c)(e,t),e.prototype.u_=function(t){if(2!==t.a_)throw 1===t.a_?t.h_(this.c_+"() can only appear at the top level of your update data"):t.h_(this.c_+"() cannot be used with set() unless you pass {merge:true}");return t.en.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(lu),fu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Li.c)(e,t),e.prototype.u_=function(t){return new Wo(t.path,new Uo)},e.prototype.isEqual=function(t){return t instanceof e},e}(lu),pu=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(Li.c)(e,t),e.prototype.u_=function(t){var e=Dr(this,t,!0),n=this.f_.map(function(t){return ci(t,e)}),r=new Vo(n);return new Wo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(lu),du=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(Li.c)(e,t),e.prototype.u_=function(t){var e=Dr(this,t,!0),n=this.f_.map(function(t){return ci(t,e)}),r=new qo(n);return new Wo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(lu),vu=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).d_=n,r}return Object(Li.c)(e,t),e.prototype.u_=function(t){var e=new Bo(t.serializer,tt(t.serializer,this.d_));return new Wo(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(lu),yu=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Gi(Hi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Gi(Hi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.w_=t,this.E_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.E_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.w_===t.w_&&this.E_===t.E_},t.prototype.toJSON=function(){return{latitude:this.w_,longitude:this.E_}},t.prototype.C=function(t){return h(this.w_,t.w_)||h(this.E_,t.E_)},t}(),gu=function(){function t(t){this.T_=t}return t.fromBase64String=function(e){try{return new t(uo.fromBase64String(e))}catch(e){throw new Gi(Hi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(uo.fromUint8Array(e))},t.prototype.toBase64=function(){return this.T_.toBase64()},t.prototype.toUint8Array=function(){return this.T_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.T_.isEqual(t.T_)},t}(),mu=new Map,bu=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Gi(Hi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Gi(Hi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Nr("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),_u=function(){function t(t,e){this.I_="(lite)",this.m_=new bu({}),this.A_=!1,t instanceof zi?(this.R_=t,this.P_=new Yi):(this.g_=t,this.R_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Gi(Hi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zi(t.options.projectId)}(t),this.P_=new Xi(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.g_)throw new Gi(Hi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.g_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y_",{get:function(){return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"V_",{get:function(){return void 0!==this.p_},enumerable:!1,configurable:!0}),t.prototype.v_=function(t){if(this.A_)throw new Gi(Hi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.m_=new bu(t),void 0!==t.credentials&&(this.P_=function(t){if(!t)return new Yi;switch(t.type){case"gapi":var e=t.client;return u(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Ji(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Gi(Hi.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.b_=function(){return this.m_},t.prototype.S_=function(){return this.A_=!0,this.m_},t.prototype._delete=function(){return this.p_||(this.p_=this.D_()),this.p_},t.prototype.D_=function(){return function(t){var e=mu.get(t);e&&(r("ComponentProvider","Removing Datastore"),mu.delete(t),e.terminate())}(this),Promise.resolve()},t}(),wu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Li.c)(e,t),e.fromBase64String=function(t){return Mr(),new e(gu.fromBase64String(t))},e.fromUint8Array=function(t){return Lr(),new e(gu.fromUint8Array(t))},e.prototype.toBase64=function(){return Mr(),this.o_.toBase64()},e.prototype.toUint8Array=function(){return Lr(),this.o_.toUint8Array()},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(cu),Eu=function(){function t(){}return t.prototype.C_=function(t,e){switch(void 0===e&&(e="none"),L(t)){case 0:return null;case 1:return t.booleanValue;case 2:return W(t.integerValue||t.doubleValue);case 3:return this.N_(t.timestampValue);case 4:return this.x_(t,e);case 5:return t.stringValue;case 6:return this.F_(K(t.bytesValue));case 7:return this.O_(t.referenceValue);case 8:return this.M_(t.geoPointValue);case 9:return this.k_(t.arrayValue,e);case 10:return this.L_(t.mapValue,e);default:throw s()}},t.prototype.L_=function(t,e){var n=this,r={};return P(t.fields||{},function(t,i){r[t]=n.C_(i,e)}),r},t.prototype.M_=function(t){return new yu(W(t.latitude),W(t.longitude))},t.prototype.k_=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.C_(t,e)})},t.prototype.x_=function(t,e){switch(e){case"previous":var n=j(t);return null==n?null:this.C_(n,e);case"estimate":return this.N_(D(t));default:return null}},t.prototype.N_=function(t){var e=z(t);return new to(e.seconds,e.nanos)},t.prototype.B_=function(t,e){var n=ro.Y(t);u(Nt(n));var r=new zi(n.get(1),n.get(3)),o=new ao(n.B(5));return r.isEqual(e)||i("Document "+o+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),o},t}(),Tu=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Li.c)(e,t),e.prototype.F_=function(t){return new wu(new gu(t))},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return rc.q_(e,this.firestore,null)},e}(Eu),Iu=function(){function t(t,e,n,r,i){this.U_=t,this.Q_=e,this.K_=n,this.W_=r,this.j_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new xu(this.U_,this.j_,this.K_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.W_},t.prototype.data=function(){if(this.W_){if(this.j_){var t=new Ou(this.U_,this.Q_,this.K_,this.W_,null);return this.j_.fromFirestore(t)}return this.Q_.C_(this.W_.En())}},t.prototype.get=function(t){if(this.W_){var e=this.W_.data().field(Fr("DocumentSnapshot.get",t));if(null!==e)return this.Q_.C_(e)}},t}(),Ou=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Li.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Iu),Cu=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Gi(Hi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.G_=new oo(t)}return t.prototype.isEqual=function(t){return this.G_.isEqual(t.G_)},t}(),Su=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).z_=new Da,r.I_="name"in e?e.name:"[DEFAULT]",r}return Object(Li.c)(e,t),e.prototype.D_=function(){return this.H_||Ai(this),this.H_.terminate()},e}(_u),ku=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this).U_=e,s.J_=e,s.metadata=o,s}return Object(Li.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.W_){if(this.j_){var e=new Nu(this.U_,this.Q_,this.K_,this.W_,this.metadata,null);return this.j_.fromFirestore(e,t)}return this.Q_.C_(this.W_.En(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.W_){var n=this.W_.data().field(Fr("DocumentSnapshot.get",t));if(null!==n)return this.Q_.C_(n,e.serverTimestamps)}},e}(Iu),Nu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Li.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(ku),Au=function(){function t(t,e,n,r){this.U_=t,this.Q_=e,this.Y_=r,this.metadata=new ic(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Y_.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.Y_.docs.forEach(function(r){t.call(e,new Nu(n.U_,n.Q_,r.key,r,new ic(n.Y_.ee.has(r.key),n.Y_.fromCache),n.query.j_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.Y_.se)throw new Gi(Hi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.X_&&this.Z_===e||(this.X_=function(t,e){if(t.Y_.te.W()){var n=0;return t.Y_.docChanges.map(function(e){var r=new Nu(t.U_,t.Q_,e.doc.key,e.doc,new ic(t.Y_.ee.has(e.doc.key),t.Y_.fromCache),t.query.j_);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}})}var r=t.Y_.te;return t.Y_.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Nu(t.U_,t.Q_,e.doc.key,e.doc,new ic(t.Y_.ee.has(e.doc.key),t.Y_.fromCache),t.query.j_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:qr(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.Z_=e),this.X_},t}(),Pu=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Li.c)(e,t),e.prototype.F_=function(t){return new gu(t)},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return new xu(this.firestore,null,e)},e}(Eu),xu=function(){function t(t,e,n){this.j_=e,this.K_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"nf",{get:function(){return this.K_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.K_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Vu(this.firestore,this.j_,this.K_.path.q())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.K_)},t}(),Ru=function(){function t(t,e,n){this.j_=e,this.tf=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.tf)},t}(),ju=function(){},Du=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).rf=e,i.cf=n,i.uf=r,i.type="where",i}return Object(Li.c)(e,t),e.prototype.sf=function(t){var e=ri(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.tt()){if("array-contains"===o||"array-contains-any"===o)throw new Gi(Hi.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Xr(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(Yr(r,t,h))}s={arrayValue:{values:u}}}else s=Yr(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Xr(a,o),s=ui(n,"where",a,"in"===o||"not-in"===o);var f=aa.create(i,o,s);return function(t,e){if(e.An()){var n=Jt(t);if(null!==n&&!n.isEqual(e.field))throw new Gi(Hi.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=$t(t);null!==r&&$r(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new Gi(Hi.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Gi(Hi.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t.tf,0,e,t.firestore.R_,this.rf,this.cf,this.uf);return new Ru(t.firestore,t.j_,function(t,e){var n=t.filters.concat([e]);return new oa(t.path,t.collectionGroup,t.Tn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.tf,n))},e}(ju),Lu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).rf=e,r.af=n,r.type="orderBy",r}return Object(Li.c)(e,t),e.prototype.sf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Gi(Hi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Gi(Hi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new va(e,n);return function(t,e){if(null===$t(t)){var n=Jt(t);null!==n&&$r(t,n,e.field)}}(t,r),r}(t.tf,this.rf,this.af);return new Ru(t.firestore,t.j_,function(t,e){var n=t.Tn.concat([e]);return new oa(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.tf,e))},e}(ju),Mu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.hf=n,i.lf=r,i}return Object(Li.c)(e,t),e.prototype.sf=function(t){return new Ru(t.firestore,t.j_,ne(t.tf,this.hf,this.lf))},e}(ju),Fu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i._f=n,i.ff=r,i}return Object(Li.c)(e,t),e.prototype.sf=function(t){var e=Qr(t,this.type,this._f,this.ff);return new Ru(t.firestore,t.j_,function(t,e){return new oa(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.tf,e))},e}(ju),Uu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i._f=n,i.ff=r,i}return Object(Li.c)(e,t),e.prototype.sf=function(t){var e=Qr(t,this.type,this._f,this.ff);return new Ru(t.firestore,t.j_,function(t,e){return new oa(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.tf,e))},e}(ju),Vu=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Qt(r))||this).firestore=e,i.nf=r,i.type="collection",i}return Object(Li.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.tf.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.tf.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.nf.q();return t.W()?null:new xu(this.firestore,null,new ao(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.nf)},e}(Ru),qu=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Li.c)(e,t),e.prototype.F_=function(t){return new gu(t)},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return new xu(this.firestore,null,e)},e}(Eu),Bu=/^__.*__$/,zu=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.ef=function(t,e){var n=[];return null!==this.en?n.push(new Yo(t,this.data,this.en,e)):n.push(new Qo(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Xo(t,this.fieldTransforms)),n},t}(),Wu=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.ef=function(t,e){var n=[new Yo(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new Xo(t,this.fieldTransforms)),n},t}(),Ku=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.df(),this.fieldTransforms=i||[],this.en=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a_",{get:function(){return this.settings.a_},enumerable:!1,configurable:!0}),t.prototype.wf=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.en)},t.prototype.Ef=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wf({path:n,__:!1});return r.Tf(t),r},t.prototype.If=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wf({path:n,__:!1});return r.df(),r},t.prototype.mf=function(t){return this.wf({path:void 0,__:!0})},t.prototype.h_=function(t){return vi(t,this.settings.methodName,this.settings.Af||!1,this.path,this.settings.l_)},t.prototype.contains=function(t){return void 0!==this.en.find(function(e){return t.j(e)})||void 0!==this.fieldTransforms.find(function(e){return t.j(e.field)})},t.prototype.df=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Tf(this.path.get(t))},t.prototype.Tf=function(t){if(0===t.length)throw this.h_("Document fields must not be empty");if(ii(this.a_)&&Bu.test(t))throw this.h_('Document fields cannot begin and end with "__"')},t}(),Hu=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||de(t)}return t.prototype.Rf=function(t,e,n,r){return void 0===r&&(r=!1),new Ku({a_:t,methodName:e,l_:n,path:oo.X(),__:!1,Af:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}(),Gu=new RegExp("[~\\*/\\[\\]]"),Qu=function(){function t(t){this.Nu=t,this.Pf=new Map,this.mutations=[],this.gf=!1,this.yf=null,this.Vf=new Set}return t.prototype.pf=function(t){return Object(Li.b)(this,void 0,void 0,function(){var e,n=this;return Object(Li.d)(this,function(r){switch(r.label){case 0:if(this.vf(),this.mutations.length>0)throw new Gi(Hi.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Li.b)(this,void 0,void 0,function(){var n,r,i,o,a,l;return Object(Li.d)(this,function(h){switch(h.label){case 0:return n=c(t),r=ht(n.serializer)+"/documents",i={documents:e.map(function(t){return st(n.serializer,t)})},[4,n.Ru("BatchGetDocuments",r,i)];case 1:return o=h.sent(),a=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){u(!!e.found),e.found.name,e.found.updateTime;var n=ut(t,e.found.name),r=it(e.found.updateTime),i=new Zo({mapValue:{fields:e.found.fields}});return new na(n,r,i,{})}(t,e):"missing"in e?function(t,e){u(!!e.missing),u(!!e.readTime);var n=ut(t,e.missing),r=it(e.readTime);return new ra(n,r)}(t,e):s()}(n.serializer,t);a.set(e.key.toString(),e)}),l=[],[2,(e.forEach(function(t){var e=a.get(t.toString());u(!!e),l.push(e)}),l)]}})})}(this.Nu,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof ra||t instanceof na?n.bf(t):s()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.ef(t,this.rn(t))),this.Vf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.ef(t,this.Sf(t)))}catch(t){this.yf=t}this.Vf.add(t.toString())},t.prototype.delete=function(t){this.write([new $o(t,this.rn(t))]),this.Vf.add(t.toString())},t.prototype.commit=function(){return Object(Li.b)(this,void 0,void 0,function(){var t,e=this;return Object(Li.d)(this,function(n){switch(n.label){case 0:if(this.vf(),this.yf)throw this.yf;return t=this.Pf,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=ao.st(n);e.mutations.push(new Jo(r,e.rn(r)))}),[4,function(t,e){return Object(Li.b)(this,void 0,void 0,function(){var n,r,i;return Object(Li.d)(this,function(o){switch(o.label){case 0:return n=c(t),r=ht(n.serializer)+"/documents",i={writes:e.map(function(t){return dt(n.serializer,t)})},[4,n.Au("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Nu,this.mutations)];case 1:return n.sent(),this.gf=!0,[2]}})})},t.prototype.bf=function(t){var e;if(t instanceof na)e=t.version;else{if(!(t instanceof ra))throw s();e=eo.min()}var n=this.Pf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Gi(Hi.ABORTED,"Document version changed between two reads.")}else this.Pf.set(t.key.toString(),e)},t.prototype.rn=function(t){var e=this.Pf.get(t.toString());return!this.Vf.has(t.toString())&&e?Ho.updateTime(e):Ho.on()},t.prototype.Sf=function(t){var e=this.Pf.get(t.toString());if(!this.Vf.has(t.toString())&&e){if(e.isEqual(eo.min()))throw new Gi(Hi.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ho.updateTime(e)}return Ho.exists(!0)},t.prototype.write=function(t){this.vf(),this.mutations=this.mutations.concat(t)},t.prototype.vf=function(){},t}(),Yu=function(){function t(t,e,n,r){this.di=t,this.Nu=e,this.updateFunction=n,this.Ti=r,this.Df=5,this.Si=new Sa(this.di,"transaction_retry")}return t.prototype.run=function(){this.Cf()},t.prototype.Cf=function(){var t=this;this.Si.Bs(function(){return Object(Li.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Li.d)(this,function(r){return t=new Qu(this.Nu),(e=this.Nf(t))&&e.then(function(e){n.di.Ri(function(){return t.commit().then(function(){n.Ti.resolve(e)}).catch(function(t){n.xf(t)})})}).catch(function(t){n.xf(t)}),[2]})})})},t.prototype.Nf=function(t){try{var e=this.updateFunction(t);return!d(e)&&e.catch&&e.then?e:(this.Ti.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ti.reject(t),null}},t.prototype.xf=function(t){var e=this;this.Df>0&&this.Ff(t)?(this.Df-=1,this.di.Ri(function(){return e.Cf(),Promise.resolve()})):this.Ti.reject(t)},t.prototype.Ff=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!w(e)}return!1},t}(),Xu=function(){function t(t,e,n){var i=this;this.credentials=t,this.di=e,this.Fl=n,this.user=Wi.UNAUTHENTICATED,this.clientId=Zi.D(),this.Of=function(){},this.g=new wa,this.credentials.A(function(t){r("FirestoreClient","Received user=",t.uid),i.user.isEqual(t)||(i.user=t,i.Of(t)),i.g.resolve()})}return t.prototype.getConfiguration=function(){return Object(Li.b)(this,void 0,void 0,function(){return Object(Li.d)(this,function(t){switch(t.label){case 0:return[4,this.g.promise];case 1:return[2,(t.sent(),{di:this.di,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,$h:100})]}})})},t.prototype.Mf=function(t){var e=this;this.Of=t,this.g.promise.then(function(){return e.Of(e.user)})},t.prototype.kf=function(){if(this.di.Ci)throw new Gi(Hi.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.di.Oi();var e=new wa;return this.di.Ni(function(){return Object(Li.b)(t,void 0,void 0,function(){var t,n;return Object(Li.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.$f?[4,this.$f.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.Lf?[4,this.Lf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.R(),e.resolve(),[3,6];case 5:return t=r.sent(),n=we(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}(),$u=function(){function t(t,e){this.U_=t,this.Bf=e,this.qf=[],this.Uf=!1,this.Qf=ri(t)}return t.prototype.set=function(t,e,n){this.Kf();var r=ki(t,this.U_),i=Di(r.j_,e,n),o=oi(this.Qf,"WriteBatch.set",r.K_,i,null!==r.j_,n);return this.qf=this.qf.concat(o.ef(r.K_,Ho.on())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Kf();var o,a=ki(t,this.U_);return e instanceof cu&&(e=e.o_),o="string"==typeof e||e instanceof Cu?si(this.Qf,"WriteBatch.update",a.K_,e,n,r):ai(this.Qf,"WriteBatch.update",a.K_,e),this.qf=this.qf.concat(o.ef(a.K_,Ho.exists(!0))),this},t.prototype.delete=function(t){this.Kf();var e=ki(t,this.U_);return this.qf=this.qf.concat(new $o(e.K_,Ho.on())),this},t.prototype.commit=function(){return this.Kf(),this.Uf=!0,this.qf.length>0?this.Bf(this.qf):Promise.resolve()},t.prototype.Kf=function(){if(this.Uf)throw new Gi(Hi.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Ju=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).U_=e,r}return Object(Li.c)(e,t),e.prototype.get=function(e){var n=this,r=ki(e,this.U_),i=new Pu(this.U_);return t.prototype.get.call(this,e).then(function(t){return new ku(n.U_,i,r.K_,t.W_,new ic(!1,!1),r.j_)})},e}(function(){function t(t,e){this.U_=t,this.Wf=e,this.Qf=ri(t)}return t.prototype.get=function(t){var e=this,n=ki(t,this.U_),r=new qu(this.U_);return this.Wf.pf([n.K_]).then(function(t){if(!t||1!==t.length)return s();var i=t[0];if(i instanceof ra)return new Iu(e.U_,r,n.K_,null,n.j_);if(i instanceof na)return new Iu(e.U_,r,i.key,i,n.j_);throw s()})},t.prototype.set=function(t,e,n){var r=ki(t,this.U_),i=Di(r.j_,e,n),o=oi(this.Qf,"Transaction.set",r.K_,i,null!==r.j_,n);return this.Wf.set(r.K_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=ki(t,this.U_);return e instanceof cu&&(e=e.o_),o="string"==typeof e||e instanceof Cu?si(this.Qf,"Transaction.update",a.K_,e,n,r):ai(this.Qf,"Transaction.update",a.K_,e),this.Wf.update(a.K_,o),this},t.prototype.delete=function(t){var e=ki(t,this.U_);return this.Wf.delete(e.K_),this},t}()),Zu=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Vr(t);var n=Ni(t),r=t.S_(),i=new su;return Ur(n,i,new ou(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Vr(t);var e=Ni(t),n=t.S_(),r=new su;return Ur(e,r,new au(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.y_&&!t.V_)throw new Gi(Hi.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new wa;return t.z_.Ni(function(){return Object(Li.b)(e,void 0,void 0,function(){var e;return Object(Li.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Li.b)(this,void 0,void 0,function(){var e;return Object(Li.d)(this,function(n){switch(n.label){case 0:return ka.Gs()?(e=t+"main",[4,ka.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}})})}(nn(t.R_,t.I_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.o_)},t}(),tc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).jf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof zi||(i.Gf=e),i}return Object(Li.c)(e,t),Object.defineProperty(e.prototype,"R_",{get:function(){return this.o_.R_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.b_()),t)).merge,this.o_.v_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.b_().host&&o("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){return function(t){var e=this;return t.di.enqueue(function(){return Object(Li.b)(e,void 0,void 0,function(){var e,n;return Object(Li.d)(this,function(r){switch(r.label){case 0:return[4,wi(t)];case 1:return e=r.sent(),[4,Ti(t)];case 2:return n=r.sent(),[2,(e.ec(!0),function(t){var e=c(t);return e.Mu.delete(0),gn(e)}(n))]}})})})}(Ni(t))}(this.o_)},e.prototype.disableNetwork=function(){return function(t){return function(t){var e=this;return t.di.enqueue(function(){return Object(Li.b)(e,void 0,void 0,function(){var e,n;return Object(Li.d)(this,function(r){switch(r.label){case 0:return[4,wi(t)];case 1:return e=r.sent(),[4,Ti(t)];case 2:return n=r.sent(),[2,(e.ec(!1),function(t){return Object(Li.b)(this,void 0,void 0,function(){var e;return Object(Li.d)(this,function(n){switch(n.label){case 0:return(e=c(t)).Mu.add(0),[4,mn(e)];case 1:return n.sent(),e.Bu.set("Offline"),[2]}})})}(n))]}})})})}(Ni(t))}(this.o_)},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Nr("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.jf.enableMultiTabIndexedDbPersistence(this):this.jf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.jf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){return function(t){var e=this,n=new wa;return t.di.Ri(function(){return Object(Li.b)(e,void 0,void 0,function(){var e;return Object(Li.d)(this,function(r){switch(r.label){case 0:return e=or,[4,Ii(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Ni(t))}(this.o_)},e.prototype.onSnapshotsInSync=function(t){return function(t,e){var n=this,r=Ni(t),i=ve(e)?e:{next:e},o=new uu(i);return t.z_.Ri(function(){return Object(Li.b)(n,void 0,void 0,function(){var t;return Object(Li.d)(this,function(e){switch(e.label){case 0:return t=function(t,e){c(t).Hu.add(e),e.next()},[4,Oi(r)];case 1:return t.apply(void 0,[e.sent(),o]),[2]}})})}),function(){o.r_(),t.z_.Ri(function(){return Object(Li.b)(n,void 0,void 0,function(){var t;return Object(Li.d)(this,function(e){switch(e.label){case 0:return t=function(t,e){c(t).Hu.delete(e)},[4,Oi(r)];case 1:return t.apply(void 0,[e.sent(),o]),[2]}})})})}}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Gf)throw new Gi(Hi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Gf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new lc(this,Zr(this.o_,t))}catch(t){throw Pi(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new rc(this,ti(this.o_,t))}catch(t){throw Pi(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new sc(this,function(t,e){if(Sr("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Gi(Hi.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ru(t,null,function(t){return new oa(ro.X(),t)}(e))}(this.o_,t))}catch(t){throw Pi(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new wa;return t.di.Ri(function(){return Object(Li.b)(n,void 0,void 0,function(){var n;return Object(Li.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return _i(t).then(function(t){return t.Nu})}(t)];case 1:return n=i.sent(),new Yu(t.di,n,e,r).run(),[2]}})})}),r.promise}(Ni(t),function(n){return e(new Ju(t,n))})}(this.o_,function(n){return t(new ec(e,n))})},e.prototype.batch=function(){var t=this;return Ni(this.o_),new nc(new $u(this.o_,function(e){return Kr(t.o_,e)}))},e}(cu),ec=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(Li.c)(e,t),e.prototype.get=function(t){var e=this,n=ji(t);return this.o_.get(n).then(function(t){return new oc(e.U_,t)})},e.prototype.set=function(t,e,n){var r=ji(t);return n?(kr("Transaction.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=ji(t);return 2===arguments.length?this.o_.update(a,e):(r=this.o_).update.apply(r,Object(Li.g)([a,e,n],i)),this},e.prototype.delete=function(t){var e=ji(t);return this.o_.delete(e),this},e}(cu),nc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Li.c)(e,t),e.prototype.set=function(t,e,n){var r=ji(t);return n?(kr("WriteBatch.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=ji(t);return 2===arguments.length?this.o_.update(a,e):(r=this.o_).update.apply(r,Object(Li.g)([a,e,n],i)),this},e.prototype.delete=function(t){var e=ji(t);return this.o_.delete(e),this},e.prototype.commit=function(){return this.o_.commit()},e}(cu),rc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Q_=new Tu(e),r}return Object(Li.c)(e,t),e.zf=function(t,n,r){if(t.length%2!=0)throw new Gi(Hi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.J()+" has "+t.length);return new e(n,new xu(n.o_,r,new ao(t)))},e.q_=function(t,n,r){return new e(n,new xu(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new lc(this.firestore,this.o_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new lc(this.firestore,Zr(this.o_,t))}catch(t){throw Pi(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof cu&&(t=t.o_),t instanceof xu&&ei(this.o_,t)},e.prototype.set=function(t,e){e=kr("DocumentReference.set",e);try{return function(t,e,n){var r=Rr(t.firestore,Su),i=Di(t.j_,e,n);return Kr(r,oi(ri(r),"setDoc",t.K_,i,null!==t.j_,n).ef(t.K_,Ho.on()))}(this.o_,t,e)}catch(t){throw Pi(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?zr(this.o_,t):zr.apply(void 0,Object(Li.g)([this.o_,t,e],n))}catch(t){throw Pi(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Kr(Rr((t=this.o_).firestore,Su),[new $o(t.K_,Ho.on())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=xi(e),i=Ri(e,function(e){return new oc(t.firestore,new ku(t.firestore.o_,t.Q_,e.K_,e.W_,e.metadata,t.o_.j_))});return Wr(this.o_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=Rr(t.firestore,Su),r=Ni(n),i=new Pu(n),o=new wa;return n.z_.Ri(function(){return Object(Li.b)(e,void 0,void 0,function(){return Object(Li.d)(this,function(e){switch(e.label){case 0:return[4,Ei(r)];case 1:return[4,function(t,e,n){return Object(Li.b)(this,void 0,void 0,function(){var r,i,o;return Object(Li.d)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(t,e){var n=c(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Oc.cs(t,e)})}(t,e)];case 1:return(r=a.sent())instanceof na?n.resolve(r):r instanceof ra?n.resolve(null):n.reject(new Gi(Hi.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=a.sent(),o=we(i,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}})})}(e.sent(),t.K_,o)];case 2:return e.sent(),[2]}})})}),o.promise.then(function(e){return new ku(n,i,t.K_,e,new ic(e instanceof na&&e.an,!0),t.j_)})}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=Rr(t.firestore,Su),r=Ni(n),i=new wa;return n.z_.Ri(function(){return Object(Li.b)(e,void 0,void 0,function(){return Object(Li.d)(this,function(e){switch(e.label){case 0:return[4,Oi(r)];case 1:return[4,Ci(e.sent(),n.z_,t.K_,{source:"server"},i)];case 2:return e.sent(),[2]}})})}),i.promise.then(function(e){return Hr(n,t,e)})}(this.o_):function(t){var e=this,n=Rr(t.firestore,Su),r=Ni(n),i=new wa;return n.z_.Ri(function(){return Object(Li.b)(e,void 0,void 0,function(){return Object(Li.d)(this,function(e){switch(e.label){case 0:return[4,Oi(r)];case 1:return[4,Ci(e.sent(),n.z_,t.K_,{source:"default"},i)];case 2:return e.sent(),[2]}})})}),i.promise.then(function(e){return Hr(n,t,e)})}(this.o_)).then(function(t){return new oc(e.firestore,new ku(e.firestore.o_,e.Q_,t.K_,t.W_,t.metadata,e.o_.j_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(cu),ic=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),oc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(Li.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new rc(this.U_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return Br(this.o_,t.o_)},e}(cu),ac=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Li.c)(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(oc),sc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r}return Object(Li.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Gr(this.o_,function(t,e,n){var r=e,i=Fr("where",t);return new Du(i,r,n)}(t,n,r)))}catch(t){throw Pi(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Gr(this.o_,function(t,e){void 0===e&&(e="asc");var n=e,r=Fr("orderBy",t);return new Lu(r,n)}(t,n)))}catch(t){throw Pi(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Gr(this.o_,function(t){return jr("limit",t),new Mu("limit",t,"F")}(t)))}catch(t){throw Pi(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Gr(this.o_,function(t){return jr("limitToLast",t),new Mu("limitToLast",t,"L")}(t)))}catch(t){throw Pi(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Gr(this.o_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fu("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw Pi(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Gr(this.o_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fu("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw Pi(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Gr(this.o_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Uu("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw Pi(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Gr(this.o_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Uu("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw Pi(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return ni(this.o_,t.o_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=Rr(t.firestore,Su),r=Ni(n),i=new Pu(n),o=new wa;return n.z_.Ri(function(){return Object(Li.b)(e,void 0,void 0,function(){return Object(Li.d)(this,function(e){switch(e.label){case 0:return[4,Ei(r)];case 1:return[4,function(t,e,n){return Object(Li.b)(this,void 0,void 0,function(){var r,i,o,a,s,u;return Object(Li.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,fn(t,e,!0)];case 1:return r=c.sent(),i=new Vs(e,r.Bc),o=i.gh(r.documents),a=i.Zn(o,!1),n.resolve(a.snapshot),[3,3];case 2:return s=c.sent(),u=we(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})}(e.sent(),t.tf,o)];case 2:return e.sent(),[2]}})})}),o.promise.then(function(e){return new Au(n,i,t,e)})}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=Rr(t.firestore,Su),r=Ni(n),i=new Pu(n),o=new wa;return n.z_.Ri(function(){return Object(Li.b)(e,void 0,void 0,function(){return Object(Li.d)(this,function(e){switch(e.label){case 0:return[4,Oi(r)];case 1:return[4,Si(e.sent(),n.z_,t.tf,{source:"server"},o)];case 2:return e.sent(),[2]}})})}),o.promise.then(function(e){return new Au(n,i,t,e)})}(this.o_):function(t){var e=this,n=Rr(t.firestore,Su),r=Ni(n),i=new Pu(n);Jr(t.tf);var o=new wa;return n.z_.Ri(function(){return Object(Li.b)(e,void 0,void 0,function(){return Object(Li.d)(this,function(e){switch(e.label){case 0:return[4,Oi(r)];case 1:return[4,Si(e.sent(),n.z_,t.tf,{source:"default"},o)];case 2:return e.sent(),[2]}})})}),o.promise.then(function(e){return new Au(n,i,t,e)})}(this.o_)).then(function(t){return new cc(e.firestore,t)})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=xi(e),i=Ri(e,function(e){return new cc(t.firestore,e)});return Wr(this.o_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(cu),uc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(Li.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new ac(this.U_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.newIndex},enumerable:!1,configurable:!0}),e}(cu),cc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(Li.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new sc(this.U_,this.o_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map(function(e){return new ac(t.U_,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map(function(t){return new uc(e.U_,t)})},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach(function(r){t.call(e,new ac(n.U_,r))})},e.prototype.isEqual=function(t){return Br(this.o_,t.o_)},e}(cu),lc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.o_=n,r}return Object(Li.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.o_.parent;return t?new rc(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new rc(this.firestore,void 0===t?ti(this.o_):ti(this.o_,t))}catch(t){throw Pi(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Rr(t.firestore,Su),r=ti(t),i=Di(t.j_,e);return Kr(n,oi(ri(t.firestore),"addDoc",r.K_,i,null!==t.j_,{}).ef(r.K_,Ho.exists(!1))).then(function(){return r})}(this.o_,t).then(function(t){return new rc(e.firestore,t)})},e.prototype.isEqual=function(t){return ei(this.o_,t.o_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(sc),hc=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Cu.bind.apply(Cu,Object(Li.g)([void 0],e))))||this}return Object(Li.c)(e,t),e.documentId=function(){return new e(oo.et().J())},e.prototype.isEqual=function(t){return t instanceof cu&&(t=t.o_),t instanceof Cu&&this.o_.G_.isEqual(t.G_)},e}(cu),fc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Li.c)(e,t),e.serverTimestamp=function(){var t=new fu("serverTimestamp");return t.c_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new hu("deleteField");return t.c_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pu("arrayUnion",t)}.apply(void 0,t);return r.c_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new du("arrayRemove",t)}.apply(void 0,t);return r.c_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new vu("increment",t)}(t);return n.c_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(cu),pc={Firestore:tc,GeoPoint:yu,Timestamp:to,Blob:wu,Transaction:ec,WriteBatch:nc,DocumentReference:rc,DocumentSnapshot:oc,Query:sc,QueryDocumentSnapshot:ac,QuerySnapshot:cc,CollectionReference:lc,FieldPath:hc,FieldValue:fc,setLogLevel:function(t){var e;e=t,Ki.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};!function(t){!function(t,e){t.INTERNAL.registerComponent(new qi.a("firestore",function(t){return function(t,e){return new tc(t,new Su(t,e),new Zu)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},pc)))}(t),t.registerVersion("@firebase/firestore","2.0.4")}(Mi.a)}).call(e,n(11))},function(t,e,n){"use strict";(function(t){function r(t,e){function n(){this.constructor=t}hn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function i(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(){}function a(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function s(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function u(t){return Object.prototype.hasOwnProperty.call(t,vn)&&t[vn]||(t[vn]=++yn)}function c(t,e,n){return t.call.apply(t.bind,arguments)}function l(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function h(t,e,n){return h=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?c:l,h.apply(null,arguments)}function f(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function p(){return Date.now()}function d(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function v(){this.j=this.j,this.i=this.i}function y(t){t:{for(var e=Ce,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}function g(t){return Array.prototype.concat.apply([],arguments)}function m(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function b(t){return/^[\s\xa0]*$/.test(t)}function _(t,e){return-1!=t.indexOf(e)}function w(t,e){return t<e?-1:t>e?1:0}function E(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function T(t){var e={};for(var n in t)e[n]=t[n];return e}function I(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<Tn.length;o++)n=Tn[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function O(t){return O[" "](t),t}function C(t,e){var n=Dn;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}function S(){var t=dn.document;return t?t.documentMode:void 0}function k(t){return C(t,function(){for(var e=0,n=_n(String(In)).split("."),r=_n(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=w(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||w(0==a[2].length,0==s[2].length)||w(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}function N(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function A(t,e){if(N.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Nn){t:{try{O(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:qn[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}function P(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++zn,this.Y=this.Z=!1}function x(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function R(t){this.src=t,this.a={},this.b=0}function j(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=mn(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(x(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function D(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}function L(t,e,n,r,i){if(r&&r.once)return U(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)L(t,e[o],n,r,i);return null}return n=H(n),t&&t[Bn]?t.va(e,n,s(r)?!!r.capture:!!r,i):M(t,e,n,!1,r,i)}function M(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=s(i)?!!i.capture:!!i;if(a&&!Fn)return null;var u=K(t);if(u||(t[Wn]=u=new R(t)),n=u.add(e,n,r,a,o),n.proxy)return n;if(r=F(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Vn||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(B(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function F(){var t=W,e=Fn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}function U(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)U(t,e[o],n,r,i);return null}return n=H(n),t&&t[Bn]?t.wa(e,n,s(r)?!!r.capture:!!r,i):M(t,e,n,!0,r,i)}function V(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)V(t,e[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=H(n),t&&t[Bn]?(t=t.c,(e=String(e).toString())in t.a&&(o=t.a[e],-1<(n=D(o,n,r,i))&&(x(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=K(t))&&(e=t.a[e.toString()],t=-1,e&&(t=D(e,n,r,i)),(n=-1<t?e[t]:null)&&q(n))}function q(t){if("number"!==typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Bn])j(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(B(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=K(e))?(j(n,t),0==n.b&&(n.src=null,e[Wn]=null)):x(t)}}}function B(t){return t in Kn?Kn[t]:Kn[t]="on"+t}function z(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&q(t),n.call(r,e)}function W(t,e){if(t.Y)return!0;if(!Fn){if(!e)t:{e=["window","event"];for(var n=dn,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return e=new A(e,this),z(t,e)}return z(t,new A(e,this))}function K(t){return t=t[Wn],t instanceof R?t:null}function H(t){return"function"===typeof t?t:(t[Hn]||(t[Hn]=function(e){return t.handleEvent(e)}),t[Hn])}function G(){v.call(this),this.c=new R(this),this.J=this,this.C=null}function Q(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"===typeof e)e=new N(e,t);else if(e instanceof N)e.target=e.target||t;else{var i=e;e=new N(r,t),I(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=Y(a,r,!0,e)&&i}if(a=e.a=t,i=Y(a,r,!0,e)&&i,i=Y(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)a=e.a=n[o],i=Y(a,r,!1,e)&&i}function Y(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&j(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function X(){this.b=this.a=null}function $(){var t=$n,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function J(){this.next=this.b=this.a=null}function Z(t){dn.setTimeout(function(){throw t},0)}function tt(t,e){Yn||et(),Xn||(Yn(),Xn=!0),$n.add(t,e)}function et(){var t=dn.Promise.resolve(void 0);Yn=function(){t.then(nt)}}function nt(){for(var t;t=$();){try{t.a.call(t.b)}catch(t){Z(t)}var e=Qn;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Xn=!1}function rt(t,e){G.call(this),this.b=t||1,this.a=e||dn,this.f=h(this.Za,this),this.g=p()}function it(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ot(t,e,n){if("function"===typeof t)n&&(t=h(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=h(t.handleEvent,t)}return 2147483647<Number(e)?-1:dn.setTimeout(t,e||0)}function at(t){t.a=ot(function(){t.a=null,t.c&&(t.c=!1,at(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}function st(t){v.call(this),this.b=t,this.a={}}function ut(t,e,n,r){Array.isArray(n)||(n&&(Zn[0]=n.toString()),n=Zn);for(var i=0;i<n.length;i++){var o=L(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function ct(t){E(t.a,function(t,e){this.a.hasOwnProperty(e)&&q(t)},t),t.a={}}function lt(){this.a=!0}function ht(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}function ft(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a})}function pt(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+vt(t,n)+(r?" "+r:"")})}function dt(t,e){t.info(function(){return"TIMEOUT: "+e})}function vt(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Gn(n)}catch(t){return e}}function yt(){return er=er||new G}function gt(t){N.call(this,tr.Fa,t)}function mt(t){var e=yt();Q(e,new gt(e,t))}function bt(t,e){N.call(this,tr.STAT_EVENT,t),this.stat=e}function _t(t){var e=yt();Q(e,new bt(e,t))}function wt(t){N.call(this,tr.Ga,t)}function Et(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return dn.setTimeout(function(){t()},e)}function Tt(){}function It(t){var e;return(e=t.a)||(e=t.a={}),e}function Ot(){}function Ct(){N.call(this,"d")}function St(){N.call(this,"c")}function kt(){}function Nt(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new st(this),this.P=ar,t=kn?125:void 0,this.R=new rt(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}function At(t,e,n){t.H=1,t.i=Zt(Gt(e)),t.j=n,t.I=!0,Pt(t,null)}function Pt(t,e){t.u=p(),jt(t),t.l=Gt(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),ce(n.b,"t",r),t.D=0,t.a=nn(t.g,t.g.C?e:null),0<t.O&&(t.F=new Jn(h(t.Ca,t,t.a),t.O)),ut(t.J,t.a,"readystatechange",t.Xa),e=t.B?T(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),mt(1),ht(t.c,t.m,t.l,t.f,t.S,t.j)}function xt(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Rt(t,n);if(i==ur){4==e&&(t.h=4,_t(14),r=!1),pt(t.c,t.f,null,"[Incomplete Response]");break}if(i==sr){t.h=4,_t(15),pt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}pt(t.c,t.f,i,null),Ut(t,i)}4==e&&0==n.length&&(t.h=1,_t(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,e=t.g,e.a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qe(e),e.F=!0,_t(11))):(pt(t.c,t.f,n,"[Invalid Chunked Response]"),Ft(t),Mt(t))}function Rt(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ur:(n=Number(e.substring(n,r)),isNaN(n)?sr:(r+=1)+n>e.length?ur:(e=e.substr(r,n),t.D=r+n,e))}function jt(t){t.T=p()+t.P,Dt(t,t.P)}function Dt(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Et(h(t.Va,t),e)}function Lt(t){t.o&&(dn.clearTimeout(t.o),t.o=null)}function Mt(t){0==t.g.v||t.A||$e(t.g,t)}function Ft(t){Lt(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,it(t.R),ct(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ut(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||ve(n.b,t)))if(n.I=t.N,!t.C&&ve(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Xe(n),Fe(n)}Ge(n),_t(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Et(h(n.Sa,n),6e3));if(1>=de(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else Ze(n,11)}else if((t.C||n.a==t)&&Xe(n),!b(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"===typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=u.b;!f.a&&(_(l,"spdy")||_(l,"quic")||_(l,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(ye(f,f.b),f.b=null))}if(u.A){var d=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.na=d,Jt(u.B,u.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=p()-t.u,n.c.info("Handshake RTT: "+n.N+"ms")),u=n;var v=t;if(u.la=en(u,u.C?u.ga:null,u.fa),v.C){ge(u.b,v);var y=v,g=u.D;g&&y.setTimeout(g),y.o&&(Lt(y),jt(y)),u.a=v}else He(u);0<n.g.length&&qe(n)}else"stop"!=i[0]&&"close"!=i[0]||Ze(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Ze(n,7):Me(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);mt(4)}catch(t){}}function Vt(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"===typeof t)return t.split("");if(a(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return t=e}function qt(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(a(t)||"string"===typeof t)bn(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(a(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=Vt(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Bt(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Bt)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function zt(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Wt(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],Wt(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Wt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Kt(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ht(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ht){this.a=void 0!==e?e:t.a,Qt(this,t.f),this.j=t.j,Yt(this,t.c),Xt(this,t.h),this.g=t.g,e=t.b;var n=new oe;n.c=e.c,e.a&&(n.a=new Bt(e.a),n.b=e.b),$t(this,n),this.i=t.i}else t&&(n=String(t).match(cr))?(this.a=!!e,Qt(this,n[1]||"",!0),this.j=ne(n[2]||""),Yt(this,n[3]||"",!0),Xt(this,n[4]),this.g=ne(n[5]||"",!0),$t(this,n[6]||"",!0),this.i=ne(n[7]||"")):(this.a=!!e,this.b=new oe(null,this.a))}function Gt(t){return new Ht(t)}function Qt(t,e,n){t.f=n?ne(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Yt(t,e,n){t.c=n?ne(e,!0):e}function Xt(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function $t(t,e,n){e instanceof oe?(t.b=e,he(t.b,t.a)):(n||(e=re(e,pr)),t.b=new oe(e,t.a))}function Jt(t,e,n){t.b.set(e,n)}function Zt(t){return Jt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^p()).toString(36)),t}function te(t){return t instanceof Ht?Gt(t):new Ht(t,void 0)}function ee(t,e,n,r){var i=new Ht(null,void 0);return t&&Qt(i,t),e&&Yt(i,e),n&&Xt(i,n),r&&(i.g=r),i}function ne(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function re(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,ie),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ie(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}function oe(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ae(t){t.a||(t.a=new Bt,t.b=0,t.c&&Kt(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function se(t,e){ae(t),e=le(t,e),Wt(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,Wt(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&zt(t)))}function ue(t,e){return ae(t),e=le(t,e),Wt(t.a.b,e)}function ce(t,e,n){se(t,e),0<n.length&&(t.c=null,t.a.set(le(t,e),m(n)),t.b+=n.length)}function le(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function he(t,e){e&&!t.f&&(ae(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(se(this,e),ce(this,n,t))},t)),t.f=e}function fe(t){this.g=t||yr,dn.PerformanceNavigationTiming?(t=dn.performance.getEntriesByType("navigation"),t=0<t.length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol)):t=!!(dn.ia&&dn.ia.ya&&dn.ia.ya()&&dn.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}function pe(t){return!!t.b||!!t.a&&t.a.size>=t.f}function de(t){return t.b?1:t.a?t.a.size:0}function ve(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function ye(t,e){t.a?t.a.add(e):t.b=e}function ge(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function me(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var o=i(t.a.values()),a=o.next();!a.done;a=o.next()){var s=a.value;r=r.concat(s.s)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}return m(t.c)}function be(){}function _e(){this.a=new be}function we(t,e,n){var r=n||"";try{qt(t,function(t,n){var i=t;s(t)&&(i=Gn(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function Ee(t,e){var n=new lt;if(dn.Image){var r=new Image;r.onload=f(Te,n,r,"TestLoadImage: loaded",!0,e),r.onerror=f(Te,n,r,"TestLoadImage: error",!1,e),r.onabort=f(Te,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=f(Te,n,r,"TestLoadImage: timeout",!1,e),dn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Te(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}function Ie(t){G.call(this),this.headers=new Bt,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=mr,this.D=this.F=!1}function Oe(t){return Cn&&k(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}function Ce(t){return"content-type"==t.toLowerCase()}function Se(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,ke(t),Ae(t)}function ke(t){t.u||(t.u=!0,Q(t,"complete"),Q(t,"error"))}function Ne(t){if(t.b&&"undefined"!=typeof pn&&(!t.s[1]||4!=xe(t)||2!=t.W()))if(t.l&&4==xe(t))ot(t.za,0,t);else if(Q(t,"readystatechange"),4==xe(t)){t.b=!1;try{var e=t.W();t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var r;if(!(r=n)){var i;if(i=0===e){var o=String(t.B).match(cr)[1]||null;if(!o&&dn.self&&dn.self.location){var a=dn.self.location.protocol;o=a.substr(0,a.length-1)}i=!br.test(o?o.toLowerCase():"")}r=i}var s=r;if(s)Q(t,"complete"),Q(t,"success");else{t.h=6;try{var u=2<xe(t)?t.a.statusText:""}catch(e){u=""}t.f=u+" ["+t.W()+"]",ke(t)}}finally{Ae(t)}}}function Ae(t,e){if(t.a){Pe(t);var n=t.a,r=t.s[0]?o:null;t.a=null,t.s=null,e||Q(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function Pe(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(dn.clearTimeout(t.m),t.m=null)}function xe(t){return t.a?t.a.readyState:0}function Re(t){var e="";return E(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}function je(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=Re(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):Jt(t,e,n))}function De(t,e,n){return n&&n.internalChannelParams?n.internalChannelParams[t]||e:e}function Le(t){this.pa=0,this.g=[],this.c=new lt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=De("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=De("baseRetryDelayMs",5e3,t),this.Ra=De("retryDelaySeedMs",1e4,t),this.Ma=De("forwardChannelMaxRetries",2,t),this.ma=De("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new fe(t&&t.concurrentRequestLimit),this.ka=new _e,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Me(t){if(Ue(t),3==t.v){var e=t.R++,n=Gt(t.B);Jt(n,"SID",t.J),Jt(n,"RID",e),Jt(n,"TYPE","terminate"),We(t,n),e=new Nt(t,t.c,e,void 0),e.H=2,e.i=Zt(Gt(n)),n=!1,dn.navigator&&dn.navigator.sendBeacon&&(n=dn.navigator.sendBeacon(e.i.toString(),"")),!n&&dn.Image&&((new Image).src=e.i,n=!0),n||(e.a=nn(e.g,null),e.a.ba(e.i)),e.u=p(),jt(e)}tn(t)}function Fe(t){t.a&&(Qe(t),t.a.cancel(),t.a=null)}function Ue(t){Fe(t),t.j&&(dn.clearTimeout(t.j),t.j=null),Xe(t),t.b.cancel(),t.h&&("number"===typeof t.h&&dn.clearTimeout(t.h),t.h=null)}function Ve(t,e){t.g.push(new vr(t.Oa++,e)),3==t.v&&qe(t)}function qe(t){pe(t.b)||t.h||(t.h=!0,tt(t.Ba,t),t.u=0)}function Be(t,e){return!(de(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.g=e.s.concat(t.g),!0):!(1==t.v||2==t.v||t.u>=(t.La?0:t.Ma))&&(t.h=Et(h(t.Ba,t,e),Je(t,t.u)),t.u++,!0))}function ze(t,e){var n;n=e?e.f:t.R++;var r=Gt(t.B);Jt(r,"SID",t.J),Jt(r,"RID",n),Jt(r,"AID",t.P),We(t,r),t.i&&t.l&&je(r,t.i,t.l),n=new Nt(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Ke(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),ye(t.b,n),At(n,r,e)}function We(t,e){t.f&&qt({},function(t,n){Jt(e,n,t)})}function Ke(t,e,n){n=Math.min(t.g.length,n);var r=t.f?h(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{we(l,a,"req"+c+"_")}catch(t){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function He(t){t.a||t.j||(t.T=1,tt(t.Aa,t),t.o=0)}function Ge(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=Et(h(t.Aa,t),Je(t,t.o)),t.o++,!0)}function Qe(t){null!=t.s&&(dn.clearTimeout(t.s),t.s=null)}function Ye(t){t.a=new Nt(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Gt(t.la);Jt(e,"RID","rpc"),Jt(e,"SID",t.J),Jt(e,"CI",t.H?"0":"1"),Jt(e,"AID",t.P),We(t,e),Jt(e,"TYPE","xmlhttp"),t.i&&t.l&&je(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Zt(Gt(e)),n.j=null,n.I=!0,Pt(n,t)}function Xe(t){null!=t.m&&(dn.clearTimeout(t.m),t.m=null)}function $e(t,e){var n=null;if(t.a==e){Xe(t),Qe(t),t.a=null;var r=2}else{if(!ve(t.b,e))return;n=e.s,ge(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=p()-e.u;var i=t.u;r=yt(),Q(r,new wt(r,n,e,i)),qe(t)}else He(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&Be(t,e)||2==r&&Ge(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Ze(t,5);break;case 4:Ze(t,10);break;case 3:Ze(t,6);break;default:Ze(t,2)}}function Je(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Ze(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=h(t.Ya,t);n||(n=new Ht("//www.google.com/images/cleardot.gif"),dn.location&&"http"==dn.location.protocol||Qt(n,"https"),Zt(n)),Ee(n.toString(),r)}else _t(2);t.v=0,t.f&&t.f.ra(e),tn(t),Ue(t)}function tn(t){t.v=0,t.I=-1,t.f&&(0==me(t.b).length&&0==t.g.length||(t.b.c.length=0,m(t.g),t.g.length=0),t.f.qa())}function en(t,e,n){var r=te(n);if(""!=r.c)e&&Yt(r,e+"."+r.c),Xt(r,r.h);else{var i=dn.location;r=ee(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&E(t.V,function(t,e){Jt(r,e,t)}),e=t.A,n=t.na,e&&n&&Jt(r,e,n),Jt(r,"VER",t.ha),We(t,r),r}function nn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return e=new Ie(t.Na),e.F=t.C,e}function rn(){}function on(){if(Cn&&!(10<=Number(Mn)))throw Error("Environmental error: no available transport.")}function an(t,e){G.call(this),this.a=new Le(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!b(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!b(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(t=this.b,e in t&&delete t[e])),this.f=new cn(this)}function sn(t){Ct.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function un(){St.call(this),this.status=1}function cn(t){this.a=t}n.d(e,"a",function(){return Tr}),n.d(e,"b",function(){return Or}),n.d(e,"c",function(){return Ir}),n.d(e,"d",function(){return Cr}),n.d(e,"e",function(){return Sr}),n.d(e,"f",function(){return kr}),n.d(e,"g",function(){return wr}),n.d(e,"h",function(){return Er});var ln,hn=function(t,e){return(hn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},fn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},pn=pn||{},dn=fn||self,vn="closure_uid_"+(1e9*Math.random()>>>0),yn=0;v.prototype.j=!1,v.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),!1)){u(this)}},v.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var gn,mn=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},bn=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},_n=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};t:{var wn=dn.navigator;if(wn){var En=wn.userAgent;if(En){gn=En;break t}}gn=""}var Tn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");O[" "]=o;var In,On=_(gn,"Opera"),Cn=_(gn,"Trident")||_(gn,"MSIE"),Sn=_(gn,"Edge"),kn=Sn||Cn,Nn=_(gn,"Gecko")&&!(_(gn.toLowerCase(),"webkit")&&!_(gn,"Edge"))&&!(_(gn,"Trident")||_(gn,"MSIE"))&&!_(gn,"Edge"),An=_(gn.toLowerCase(),"webkit")&&!_(gn,"Edge");t:{var Pn="",xn=function(){var t=gn;return Nn?/rv:([^\);]+)(\)|;)/.exec(t):Sn?/Edge\/([\d\.]+)/.exec(t):Cn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):An?/WebKit\/(\S+)/.exec(t):On?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(xn&&(Pn=xn?xn[1]:""),Cn){var Rn=S();if(null!=Rn&&Rn>parseFloat(Pn)){In=String(Rn);break t}}In=Pn}var jn,Dn={};if(dn.document&&Cn){var Ln=S();jn=Ln||(parseInt(In,10)||void 0)}else jn=void 0;var Mn=jn,Fn=!Cn||9<=Number(Mn),Un=Cn&&!k("9"),Vn=function(){if(!dn.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{dn.addEventListener("test",o,e),dn.removeEventListener("test",o,e)}catch(t){}return t}();N.prototype.b=function(){this.defaultPrevented=!0},d(A,N);var qn={2:"touch",3:"pen",4:"mouse"};A.prototype.b=function(){A.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Un)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var Bn="closure_listenable_"+(1e6*Math.random()|0),zn=0;R.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=D(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):(e=new P(e,this.src,o,!!r,i),e.Z=n,t.push(e)),e};var Wn="closure_lm_"+(1e6*Math.random()|0),Kn={},Hn="__closure_events_fn_"+(1e9*Math.random()>>>0);d(G,v),G.prototype[Bn]=!0,ln=G.prototype,ln.addEventListener=function(t,e,n,r){L(this,t,e,n,r)},ln.removeEventListener=function(t,e,n,r){V(this,t,e,n,r)},ln.G=function(){if(G.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)x(n[r]);delete e.a[t],e.b--}}this.C=null},ln.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},ln.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Gn=dn.JSON.stringify,Qn=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())(function(){return new J},function(t){t.reset()});X.prototype.add=function(t,e){var n=Qn.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},J.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},J.prototype.reset=function(){this.next=this.b=this.a=null};var Yn,Xn=!1,$n=new X;d(rt,G),ln=rt.prototype,ln.aa=!1,ln.M=null,ln.Za=function(){if(this.aa){var t=p()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Q(this,"tick"),this.aa&&(it(this),this.start()))}},ln.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=p())},ln.G=function(){rt.X.G.call(this),it(this),delete this.a};var Jn=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return r(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:at(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(dn.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(v);d(st,v);var Zn=[];st.prototype.G=function(){st.X.G.call(this),ct(this)},st.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},lt.prototype.info=function(){};var tr={},er=null;tr.Fa="serverreachability",d(gt,N),tr.STAT_EVENT="statevent",d(bt,N),tr.Ga="timingevent",d(wt,N);var nr={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},rr={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};Tt.prototype.a=null;var ir={OPEN:"a",eb:"b",Ea:"c",qb:"d"};d(Ct,N),d(St,N);var or;d(kt,Tt),or=new kt;var ar=45e3,sr={},ur={};ln=Nt.prototype,ln.setTimeout=function(t){this.P=t},ln.Xa=function(t){t=t.target;var e=this.F;e&&3==xe(t)?e.f():this.Ca(t)},ln.Ca=function(t){try{if(t==this.a)t:{var e=xe(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!kn&&!this.a.$())){this.A||4!=e||7==n||mt(8==n||0>=r?3:2),Lt(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,ft(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,_t(12),Ft(this),Mt(this);break t}pt(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ut(this,u)}this.I?(xt(this,e,o),kn&&this.b&&3==e&&(ut(this.J,this.R,"tick",this.Wa),this.R.start())):(pt(this.c,this.f,o,null),Ut(this,o)),4==e&&Ft(this),this.b&&!this.A&&(4==e?$e(this.g,this):(this.b=!1,jt(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,_t(12)):(this.h=0,_t(13)),Ft(this),Mt(this)}}}catch(t){}},ln.Wa=function(){if(this.a){var t=xe(this.a),e=this.a.$();this.D<e.length&&(Lt(this),xt(this,t,e),this.b&&4!=t&&jt(this))}},ln.cancel=function(){this.A=!0,Ft(this)},ln.Va=function(){this.o=null;var t=p();0<=t-this.T?(dt(this.c,this.l),2!=this.H&&(mt(3),_t(17)),Ft(this),this.h=2,Mt(this)):Dt(this,this.T-t)},ln=Bt.prototype,ln.K=function(){zt(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},ln.L=function(){return zt(this),this.a.concat()},ln.get=function(t,e){return Wt(this.b,t)?this.b[t]:e},ln.set=function(t,e){Wt(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},ln.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var cr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Ht.prototype.toString=function(){var t=[],e=this.f;e&&t.push(re(e,lr,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(re(e,lr,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(re(n,"/"==n.charAt(0)?fr:hr,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",re(n,dr)),t.join("")};var lr=/[#\/\?@]/g,hr=/[#\?:]/g,fr=/[#\?]/g,pr=/[#\?@]/g,dr=/#/g;ln=oe.prototype,ln.add=function(t,e){ae(this),this.c=null,t=le(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},ln.forEach=function(t,e){ae(this),this.a.forEach(function(n,r){bn(n,function(n){t.call(e,n,r,this)},this)},this)},ln.L=function(){ae(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},ln.K=function(t){ae(this);var e=[];if("string"===typeof t)ue(this,t)&&(e=g(e,this.a.get(le(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=g(e,t[n])}return e},ln.set=function(t,e){return ae(this),this.c=null,t=le(this,t),ue(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},ln.get=function(t,e){return t?(t=this.K(t),0<t.length?String(t[0]):e):e},ln.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var vr=function(){function t(t,e){this.b=t,this.a=e}return t}(),yr=10;fe.prototype.cancel=function(){var t,e;if(this.c=me(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next()){var o=r.value;o.cancel()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},be.prototype.stringify=function(t){return dn.JSON.stringify(t,void 0)},be.prototype.parse=function(t){return dn.JSON.parse(t,void 0)};var gr=dn.JSON.parse;d(Ie,G);var mr="",br=/^https?$/i,_r=["POST","PUT"];ln=Ie.prototype,ln.ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=It(this.H?this.H:or),this.a.onreadystatechange=h(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void Se(this,t)}t=n||"";var i=new Bt(this.headers);r&&qt(r,function(t,e){i.set(e,t)}),r=y(i.L()),n=dn.FormData&&t instanceof dn.FormData,!(0<=mn(_r,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Pe(this),0<this.o&&((this.D=Oe(this.a))?(this.a.timeout=this.o,this.a.ontimeout=h(this.xa,this)):this.m=ot(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Se(this,t)}},ln.xa=function(){"undefined"!=typeof pn&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Q(this,"timeout"),this.abort(8))},ln.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Q(this,"complete"),Q(this,"abort"),Ae(this))},ln.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ae(this,!0)),Ie.X.G.call(this)},ln.za=function(){this.j||(this.A||this.l||this.g?Ne(this):this.Ua())},ln.Ua=function(){Ne(this)},ln.W=function(){try{return 2<xe(this)?this.a.status:-1}catch(t){return-1}},ln.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},ln.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),gr(e)}},ln.ua=function(){return this.h},ln.Qa=function(){return"string"===typeof this.f?this.f:String(this.f)},ln=Le.prototype,ln.ha=8,ln.v=1,ln.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e=new Nt(this,this.c,t,void 0),n=this.l;this.O&&(n?(n=T(n),I(n,this.O)):n=this.O),null===this.i&&(e.B=n);var r;if(this.da)t:{for(var i=r=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"===typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.g.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Ke(this,e,r),i=Gt(this.B),Jt(i,"RID",t),Jt(i,"CVER",22),this.A&&Jt(i,"X-HTTP-Session-Id",this.A),We(this,i),this.i&&n&&je(i,this.i,n),ye(this.b,e),this.Ia&&Jt(i,"TYPE","init"),this.da?(Jt(i,"$req",r),Jt(i,"SID","null"),e.U=!0,At(e,i,null)):At(e,i,r),this.v=2}}else 3==this.v&&(t?ze(this,t):0==this.g.length||pe(this.b)||ze(this))},ln.Aa=function(){if(this.j=null,Ye(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Et(h(this.Ta,this),t)}},ln.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,_t(10),Fe(this),Ye(this))},ln.Sa=function(){null!=this.m&&(this.m=null,Fe(this),Ge(this),_t(19))},ln.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),_t(2)):(this.c.info("Failed to ping google.com"),_t(1))},ln=rn.prototype,ln.ta=function(){},ln.sa=function(){},ln.ra=function(){},ln.qa=function(){},ln.Ja=function(){},on.prototype.a=function(t,e){return new an(t,e)},d(an,G),an.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;_t(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=en(t,null,t.fa),qe(t)},an.prototype.close=function(){Me(this.a)},an.prototype.h=function(t){if("string"===typeof t){var e={};e.__data__=t,Ve(this.a,e)}else this.l?(e={},e.__data__=Gn(t),Ve(this.a,e)):Ve(this.a,t)},an.prototype.G=function(){this.a.f=null,delete this.f,Me(this.a),delete this.a,an.X.G.call(this)},d(sn,Ct),d(un,St),d(cn,rn),cn.prototype.ta=function(){Q(this.a,"a")},cn.prototype.sa=function(t){Q(this.a,new sn(t))},cn.prototype.ra=function(t){Q(this.a,new un(t))},cn.prototype.qa=function(){Q(this.a,"b")},on.prototype.createWebChannel=on.prototype.a,an.prototype.send=an.prototype.h,an.prototype.open=an.prototype.g,an.prototype.close=an.prototype.close,nr.NO_ERROR=0,nr.TIMEOUT=8,nr.HTTP_ERROR=6,rr.COMPLETE="complete",Ot.EventType=ir,ir.OPEN="a",ir.CLOSE="b",ir.ERROR="c",ir.MESSAGE="d",G.prototype.listen=G.prototype.va,Ie.prototype.listenOnce=Ie.prototype.wa,Ie.prototype.getLastError=Ie.prototype.Qa,Ie.prototype.getLastErrorCode=Ie.prototype.ua,Ie.prototype.getStatus=Ie.prototype.W,Ie.prototype.getResponseJson=Ie.prototype.Pa,Ie.prototype.getResponseText=Ie.prototype.$,Ie.prototype.send=Ie.prototype.ba;var wr=function(){return new on},Er=function(){return yt()},Tr=nr,Ir=rr,Or=tr,Cr={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},Sr=Ot,kr=Ie}).call(e,n(5))},function(t,e,n){"use strict";function r(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function i(t,e,n){var i=r(t),o=i,a=void 0;try{var s=e&&e.error;if(s){var u=s.status;if("string"===typeof u){if(!h[u])return new f("internal","internal");i=h[u],o=u}var c=s.message;"string"===typeof c&&(o=c),a=s.details,void 0!==a&&(a=n.decode(a))}}catch(t){}return"ok"===i?null:new f(i,o,a)}function o(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function a(t){var e,n=new Promise(function(n,r){e=setTimeout(function(){r(new f("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}function s(t,e){return Object(c.b)(this,void 0,void 0,function(){var n;return Object(c.d)(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}var u=n(0),c=n(1),l=n(3),h={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},f=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return Object(c.c)(e,t),e}(Error),p=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then(function(t){return n.auth=t},function(){}),this.messaging||e.get().then(function(t){return n.messaging=t},function(){})}return t.prototype.getAuthToken=function(){return Object(c.b)(this,void 0,void 0,function(){var t,e;return Object(c.d)(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return t=n.sent(),t?[2,t.accessToken]:[2,void 0];case 3:return e=n.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return Object(c.b)(this,void 0,void 0,function(){return Object(c.d)(this,function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(t){return[2,void 0]}return[2]})})},t.prototype.getContext=function(){return Object(c.b)(this,void 0,void 0,function(){var t,e;return Object(c.d)(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}})})},t}(),d=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"===typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map(function(t){return e.encode(t)});if("function"===typeof t||"object"===typeof t)return o(t,function(t){return e.encode(t)});throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(t){return e.decode(t)}):"function"===typeof t||"object"===typeof t?o(t,function(t){return e.decode(t)}):t},t}(),v=function(){function t(t,e,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=t,this.fetchImpl=i,this.serializer=new d,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new p(e,n),this.cancelAllRequests=new Promise(function(t){o.deleteService=function(){return t()}});try{var a=new URL(r);this.customDomain=a.origin,this.region="us-central1"}catch(t){this.customDomain=null,this.region=r}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;if(null!==this.emulatorOrigin){return this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t}return null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return Object(c.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(c.d)(this,function(s){switch(s.label){case 0:n["Content-Type"]="application/json",s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=s.sent(),[3,4];case 3:return i=s.sent(),[2,{status:0,json:null}];case 4:o=null,s.label=5;case 5:return s.trys.push([5,7,,8]),[4,r.json()];case 6:return o=s.sent(),[3,8];case 7:return a=s.sent(),[3,8];case 8:return[2,{status:r.status,json:o}]}})})},t.prototype.call=function(t,e,n){return Object(c.b)(this,void 0,void 0,function(){var r,o,u,l,h,p,d,v,y,g,m,b;return Object(c.d)(this,function(c){switch(c.label){case 0:return r=this._url(t),e=this.serializer.encode(e),o={data:e},u={},[4,this.contextProvider.getContext()];case 1:return l=c.sent(),l.authToken&&(u.Authorization="Bearer "+l.authToken),l.instanceIdToken&&(u["Firebase-Instance-ID-Token"]=l.instanceIdToken),h=n.timeout||7e4,p=a(h),d=p.timer,v=p.promise,[4,Promise.race([s(d,this.postJSON(r,o,u)),v,s(d,this.cancelAllRequests)])];case 2:if(!(y=c.sent()))throw new f("cancelled","Firebase Functions instance was deleted.");if(g=i(y.status,y.json,this.serializer))throw g;if(!y.json)throw new f("internal","Response is not valid JSON object.");if(m=y.json.data,"undefined"===typeof m&&(m=y.json.result),"undefined"===typeof m)throw new f("internal","Response is missing data field.");return b=this.serializer.decode(m),[2,{data:b}]}})})},t}(),y="functions";!function(t,e){function n(t,n){var r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("messaging");return new v(r,i,o,n,e)}var r={Functions:v};t.INTERNAL.registerComponent(new l.a(y,n,"PUBLIC").setServiceProps(r).setMultipleInstances(!0))}(u.a,fetch.bind(self)),u.a.registerVersion("@firebase/functions","0.6.1")},function(t,e,n){"use strict";function r(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(X.f)(e))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function i(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}function o(t){return Object(X.b)(this,void 0,void 0,function(){var e,n,i,o,s=this;return Object(X.d)(this,function(u){switch(u.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=u.sent(),n=e.map(function(t){return t.name}),!n.includes(ot))return[2,null];u.label=2;case 2:return i=null,[4,Object($.openDb)(ot,at,function(e){return Object(X.b)(s,void 0,void 0,function(){var n,o,a,a,a,s;return Object(X.d)(this,function(u){switch(u.label){case 0:return e.oldVersion<2?[2]:e.objectStoreNames.contains(st)?(n=e.transaction.objectStore(st),[4,n.index("fcmSenderId").get(t)]):[2];case 1:return o=u.sent(),[4,n.clear()];case 2:if(u.sent(),!o)return[2];if(2===e.oldVersion){if(a=o,!a.auth||!a.p256dh||!a.endpoint)return[2];i={token:a.fcmToken,createTime:null!==(s=a.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:a.auth,p256dh:a.p256dh,endpoint:a.endpoint,swScope:a.swScope,vapidKey:"string"===typeof a.vapidKey?a.vapidKey:r(a.vapidKey)}}}else 3===e.oldVersion?(a=o,i={token:a.fcmToken,createTime:a.createTime,subscriptionOptions:{auth:r(a.auth),p256dh:r(a.p256dh),endpoint:a.endpoint,swScope:a.swScope,vapidKey:r(a.vapidKey)}}):4===e.oldVersion&&(a=o,i={token:a.fcmToken,createTime:a.createTime,subscriptionOptions:{auth:r(a.auth),p256dh:r(a.p256dh),endpoint:a.endpoint,swScope:a.swScope,vapidKey:r(a.vapidKey)}});return[2]}})})})];case 3:return o=u.sent(),o.close(),[4,Object($.deleteDb)(ot)];case 4:return u.sent(),[4,Object($.deleteDb)("fcm_vapid_details_db")];case 5:return u.sent(),[4,Object($.deleteDb)("undefined")];case 6:return u.sent(),[2,a(i)?i:null]}})})}function a(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"===typeof t.createTime&&t.createTime>0&&"string"===typeof t.token&&t.token.length>0&&"string"===typeof e.auth&&e.auth.length>0&&"string"===typeof e.p256dh&&e.p256dh.length>0&&"string"===typeof e.endpoint&&e.endpoint.length>0&&"string"===typeof e.swScope&&e.swScope.length>0&&"string"===typeof e.vapidKey&&e.vapidKey.length>0}function s(){return ht||(ht=Object($.openDb)(ut,ct,function(t){switch(t.oldVersion){case 0:t.createObjectStore(lt)}})),ht}function u(t){return Object(X.b)(this,void 0,void 0,function(){var e,n,r,i;return Object(X.d)(this,function(a){switch(a.label){case 0:return e=h(t),[4,s()];case 1:return n=a.sent(),[4,n.transaction(lt).objectStore(lt).get(e)];case 2:return r=a.sent(),r?[2,r]:[3,3];case 3:return[4,o(t.appConfig.senderId)];case 4:return i=a.sent(),i?[4,c(t,i)]:[3,6];case 5:return a.sent(),[2,i];case 6:return[2]}})})}function c(t,e){return Object(X.b)(this,void 0,void 0,function(){var n,r,i;return Object(X.d)(this,function(o){switch(o.label){case 0:return n=h(t),[4,s()];case 1:return r=o.sent(),i=r.transaction(lt,"readwrite"),[4,i.objectStore(lt).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}})})}function l(t){return Object(X.b)(this,void 0,void 0,function(){var e,n,r;return Object(X.d)(this,function(i){switch(i.label){case 0:return e=h(t),[4,s()];case 1:return n=i.sent(),r=n.transaction(lt,"readwrite"),[4,r.objectStore(lt).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function h(t){return t.appConfig.appId}function f(t,e){return Object(X.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Object(X.d)(this,function(c){switch(c.label){case 0:return[4,y(t)];case 1:n=c.sent(),r=g(e),i={method:"POST",headers:n,body:JSON.stringify(r)},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(v(t.appConfig),i)];case 3:return a=c.sent(),[4,a.json()];case 4:return o=c.sent(),[3,6];case 5:throw s=c.sent(),tt.create("token-subscribe-failed",{errorInfo:s});case 6:if(o.error)throw u=o.error.message,tt.create("token-subscribe-failed",{errorInfo:u});if(!o.token)throw tt.create("token-subscribe-no-token");return[2,o.token]}})})}function p(t,e){return Object(X.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Object(X.d)(this,function(c){switch(c.label){case 0:return[4,y(t)];case 1:n=c.sent(),r=g(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(v(t.appConfig)+"/"+e.token,i)];case 3:return a=c.sent(),[4,a.json()];case 4:return o=c.sent(),[3,6];case 5:throw s=c.sent(),tt.create("token-update-failed",{errorInfo:s});case 6:if(o.error)throw u=o.error.message,tt.create("token-update-failed",{errorInfo:u});if(!o.token)throw tt.create("token-update-no-token");return[2,o.token]}})})}function d(t,e){return Object(X.b)(this,void 0,void 0,function(){var n,r,i,o,a,s;return Object(X.d)(this,function(u){switch(u.label){case 0:return[4,y(t)];case 1:n=u.sent(),r={method:"DELETE",headers:n},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(v(t.appConfig)+"/"+e,r)];case 3:return i=u.sent(),[4,i.json()];case 4:if(o=u.sent(),o.error)throw a=o.error.message,tt.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw s=u.sent(),tt.create("token-unsubscribe-failed",{errorInfo:s});case 6:return[2]}})})}function v(t){var e=t.projectId;return nt+"/projects/"+e+"/registrations"}function y(t){var e=t.appConfig,n=t.installations;return Object(X.b)(this,void 0,void 0,function(){var t;return Object(X.d)(this,function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}})})}function g(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==et&&(o.web.applicationPubKey=i),o}function m(t,e,n){return Object(X.b)(this,void 0,void 0,function(){var i,o,a,s;return Object(X.d)(this,function(c){switch(c.label){case 0:if("granted"!==Notification.permission)throw tt.create("permission-blocked");return[4,E(e,n)];case 1:return i=c.sent(),[4,u(t)];case 2:return o=c.sent(),a={vapidKey:n,swScope:e.scope,endpoint:i.endpoint,auth:r(i.getKey("auth")),p256dh:r(i.getKey("p256dh"))},o?[3,3]:[2,w(t,a)];case 3:if(T(o.subscriptionOptions,a))return[3,8];c.label=4;case 4:return c.trys.push([4,6,,7]),[4,d(t,o.token)];case 5:return c.sent(),[3,7];case 6:return s=c.sent(),console.warn(s),[3,7];case 7:return[2,w(t,a)];case 8:return Date.now()>=o.createTime+ft?[2,_({token:o.token,createTime:Date.now(),subscriptionOptions:a},t,e)]:[2,o.token];case 9:return[2]}})})}function b(t,e){return Object(X.b)(this,void 0,void 0,function(){var n,r;return Object(X.d)(this,function(i){switch(i.label){case 0:return[4,u(t)];case 1:return n=i.sent(),n?[4,d(t,n.token)]:[3,4];case 2:return i.sent(),[4,l(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function _(t,e,n){return Object(X.b)(this,void 0,void 0,function(){var r,i,o;return Object(X.d)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,p(e,t)];case 1:return r=a.sent(),i=Object(X.a)(Object(X.a)({},t),{token:r,createTime:Date.now()}),[4,c(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,b(e,n)];case 4:throw a.sent(),o;case 5:return[2]}})})}function w(t,e){return Object(X.b)(this,void 0,void 0,function(){var n,r;return Object(X.d)(this,function(i){switch(i.label){case 0:return[4,f(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,c(t,r)];case 2:return i.sent(),[2,r.token]}})})}function E(t,e){return Object(X.b)(this,void 0,void 0,function(){var n;return Object(X.d)(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:i(e)})]}})})}function T(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}function I(t){var e={from:t.from,collapseKey:t.collapse_key};return O(e,t),C(e,t),S(e,t),e}function O(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}function C(t,e){e.data&&(t.data=e.data)}function S(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}function k(t){return"object"===typeof t&&!!t&&it in t}function N(t){return new Promise(function(e){setTimeout(e,t)})}function A(t){var e,n=Object(X.a)({},t.notification);return n.data=(e={},e[rt]=t,e),n}function P(t){var e=t.data;if(!e)return null;try{return e.json()}catch(t){return null}}function x(t){return Object(X.b)(this,void 0,void 0,function(){var e,n,r,i,o,a,s;return Object(X.d)(this,function(u){switch(u.label){case 0:return[4,D()];case 1:e=u.sent();try{for(n=Object(X.h)(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(t){a={error:t}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function R(t){return t.some(function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")})}function j(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=G.PUSH_RECEIVED;try{for(var i=Object(X.h)(t),o=i.next();!o.done;o=i.next()){o.value.postMessage(e)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function D(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function L(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}function M(t){var e,n,r,i=null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action;return i||(k(t.data)?self.location.origin:null)}function F(t){switch(t){case G.NOTIFICATION_CLICKED:return"notification_open";case G.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function U(t){return delete t.messageType,delete t.isFirebaseMessaging,t}function V(t){var e,n;if(!t||!t.options)throw q("App Configuration Object");if(!t.name)throw q("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=t.options;try{for(var o=Object(X.h)(r),a=o.next();!a.done;a=o.next()){var s=a.value;if(!i[s])throw q(s)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function q(t){return tt.create("missing-app-config-values",{valueName:t})}function B(t){var e=t.getProvider("app").getImmediate(),n=V(e),r=t.getProvider("installations").getImmediate(),i=t.getProvider("analytics-internal"),o={app:e,appConfig:n,installations:r,analyticsProvider:i};if(!z())throw tt.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new pt(o):new dt(o)}function z(){return self&&"ServiceWorkerGlobalScope"in self?K():W()}function W(){return"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function K(){return"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}var H,G,Q=(n(6),n(3)),Y=n(2),X=n(1),$=n(12),J=(n.n($),n(0)),Z=(H={},H["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',H["only-available-in-window"]="This method is available in a Window context.",H["only-available-in-sw"]="This method is available in a service worker context.",H["permission-default"]="The notification permission was not granted and dismissed instead.",H["permission-blocked"]="The notification permission was not granted and blocked instead.",H["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",H["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",H["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",H["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",H["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",H["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",H["token-update-no-token"]="FCM returned no token when updating the user to push.",H["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",H["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",H["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",H["invalid-vapid-key"]="The public VAPID key must be a string.",H["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",H),tt=new Y.b("messaging","Messaging",Z),et="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",nt="https://fcmregistrations.googleapis.com/v1",rt="FCM_MSG",it="google.c.a.c_id";!function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(G||(G={}));var ot="fcm_token_details_db",at=5,st="fcm_token_object_Store",ut="firebase-messaging-database",ct=1,lt="firebase-messaging-store",ht=null,ft=6048e5,pt=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(t){t.waitUntil(e.onPush(t))}),self.addEventListener("pushsubscriptionchange",function(t){t.waitUntil(e.onSubChange(t))}),self.addEventListener("notificationclick",function(t){t.waitUntil(e.onNotificationClick(t))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!==typeof t)throw tt.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return Object(X.b)(this,void 0,void 0,function(){var n;return Object(X.d)(this,function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,u(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:et,r.label=2;case 2:return[2,m(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return b(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw tt.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw tt.create("use-vapid-key-after-get-token");if("string"!==typeof t||0===t.length)throw tt.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw tt.create("only-available-in-window")},t.prototype.onMessage=function(){throw tt.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw tt.create("only-available-in-window")},t.prototype.onPush=function(t){return Object(X.b)(this,void 0,void 0,function(){var e,n,r,i;return Object(X.d)(this,function(o){switch(o.label){case 0:return e=P(t),e?[4,D()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return n=o.sent(),R(n)?[2,j(n,e)]:(r=!1,e.notification?[4,L(A(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=I(e),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,N(1e3)]);case 4:return o.sent(),[2]}})})},t.prototype.onSubChange=function(t){var e,n;return Object(X.b)(this,void 0,void 0,function(){var r,i;return Object(X.d)(this,function(o){switch(o.label){case 0:return r=t.newSubscription,r?[3,2]:[4,b(this.firebaseDependencies,self.registration)];case 1:return o.sent(),[2];case 2:return[4,u(this.firebaseDependencies)];case 3:return i=o.sent(),[4,b(this.firebaseDependencies,self.registration)];case 4:return o.sent(),[4,m(this.firebaseDependencies,self.registration,null!==(n=null===(e=null===i||void 0===i?void 0:i.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:et)];case 5:return o.sent(),[2]}})})},t.prototype.onNotificationClick=function(t){var e,n;return Object(X.b)(this,void 0,void 0,function(){var r,i,o,a,s;return Object(X.d)(this,function(u){switch(u.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n[rt])?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=M(r))?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,x(o)]):[2]):[2];case 1:return s=u.sent(),s?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,N(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=G.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}})})},t}(),dt=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(t){return e.messageEventListener(t)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return Object(X.b)(this,void 0,void 0,function(){var e,n;return Object(X.d)(this,function(r){switch(r.label){case 0:return e=t.data,e.isFirebaseMessaging?(this.onMessageCallback&&e.messageType===G.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(U(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),n=e.data,k(n)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return Object(X.b)(this,void 0,void 0,function(){return Object(X.d)(this,function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw tt.create("permission-blocked");return[4,this.updateVapidKey(null===t||void 0===t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null===t||void 0===t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,m(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(t){return Object(X.b)(this,void 0,void 0,function(){return Object(X.d)(this,function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=et),[2]})})},t.prototype.updateSwReg=function(t){return Object(X.b)(this,void 0,void 0,function(){return Object(X.d)(this,function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw tt.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},t.prototype.registerDefaultSw=function(){return Object(X.b)(this,void 0,void 0,function(){var t,e;return Object(X.d)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw e=n.sent(),tt.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return Object(X.b)(this,void 0,void 0,function(){return Object(X.d)(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,b(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return Object(X.b)(this,void 0,void 0,function(){var t;return Object(X.d)(this,function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?tt.create("permission-blocked"):tt.create("permission-default")}})})},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw tt.create("use-vapid-key-after-get-token");if("string"!==typeof t||0===t.length)throw tt.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw tt.create("invalid-sw-registration");if(this.swRegistration)throw tt.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw tt.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw tt.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return Object(X.b)(this,void 0,void 0,function(){var n,r;return Object(X.d)(this,function(i){switch(i.label){case 0:return n=F(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r=i.sent(),r.logEvent(n,{message_id:e[it],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}(),vt={isSupported:z};J.a.INTERNAL.registerComponent(new Q.a("messaging",B,"PUBLIC").setServiceProps(vt))},function(t,e,n){"use strict";function r(t){return"storage/"+t}function i(){return new Jt(Zt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function o(t){return new Jt(Zt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function a(t){return new Jt(Zt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function s(){return new Jt(Zt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}function u(t){return new Jt(Zt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function c(){return new Jt(Zt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function l(){return new Jt(Zt.CANCELED,"User canceled the upload/download.")}function h(t){return new Jt(Zt.INVALID_URL,"Invalid URL '"+t+"'.")}function f(t){return new Jt(Zt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function p(){return new Jt(Zt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Yt+"' property when initializing the app?")}function d(){return new Jt(Zt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function v(){return new Jt(Zt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function y(){return new Jt(Zt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function g(t){return new Jt(Zt.INVALID_ARGUMENT,t)}function m(){return new Jt(Zt.APP_DELETED,"The Firebase app was deleted.")}function b(t){return new Jt(Zt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _(t,e){return new Jt(Zt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function w(t){throw new Jt(Zt.INTERNAL_ERROR,"Internal error: "+t)}function E(t,e){switch(t){case te.RAW:return new ee(T(e));case te.BASE64:case te.BASE64URL:return new ee(O(t,e));case te.DATA_URL:return new ee(C(e),S(e))}throw i()}function T(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296===(64512&r)){var i=n<t.length-1&&56320===(64512&t.charCodeAt(n+1));if(i){var o=r,a=t.charCodeAt(++n);r=65536|(1023&o)<<10|1023&a,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189)}else 56320===(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function I(t){var e;try{e=decodeURIComponent(t)}catch(t){throw _(te.DATA_URL,"Malformed data URL.")}return T(e)}function O(t,e){switch(t){case te.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r){var i=n?"-":"_";throw _(t,"Invalid character '"+i+"' found: is it base64url encoded?")}break;case te.BASE64URL:var o=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(o||a){var i=o?"+":"/";throw _(t,"Invalid character '"+i+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(e){throw _(t,"Invalid character found")}for(var u=new Uint8Array(s.length),c=0;c<s.length;c++)u[c]=s.charCodeAt(c);return u}function C(t){var e=new ne(t);return e.base64?O(te.BASE64,e.rest):I(e.rest)}function S(t){return new ne(t).contentType}function k(t,e){return!!(t.length>=e.length)&&t.substring(t.length-e.length)===e}function N(t){switch(t){case ie.RUNNING:case ie.PAUSING:case ie.CANCELING:return oe.RUNNING;case ie.PAUSED:return oe.PAUSED;case ie.SUCCESS:return oe.SUCCESS;case ie.CANCELED:return oe.CANCELED;case ie.ERROR:default:return oe.ERROR}}function A(t){return void 0!==t}function P(t){return"function"===typeof t}function x(t){return"object"===typeof t&&!Array.isArray(t)}function R(t){return"string"===typeof t||t instanceof String}function j(t){return D()&&t instanceof Blob}function D(){return"undefined"!==typeof Blob}function L(t,e,n,r){if(r<e)throw new Jt(Zt.INVALID_ARGUMENT,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new Jt(Zt.INVALID_ARGUMENT,"Invalid value for '"+t+"'. Expected "+n+" or less.")}function M(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function F(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=M();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(D())return new Blob(t);throw new Jt(Zt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function U(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function V(t){var e;try{e=JSON.parse(t)}catch(t){return null}return x(e)?e:null}function q(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}function B(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}function z(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function W(t){return"https://"+Qt+"/v0"+t}function K(t){var e=encodeURIComponent,n="?";for(var r in t)if(t.hasOwnProperty(r)){var i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1)}function H(t,e){return e}function G(t){return!R(t)||t.length<2?t:z(t)}function Q(){function t(t,e){return G(e)}function e(t,e){return void 0!==e?Number(e):e}if(he)return he;var n=[];n.push(new le("bucket")),n.push(new le("generation")),n.push(new le("metageneration")),n.push(new le("name","fullPath",!0));var r=new le("name");r.xform=t,n.push(r);var i=new le("size");return i.xform=e,n.push(i),n.push(new le("timeCreated")),n.push(new le("updated")),n.push(new le("md5Hash",null,!0)),n.push(new le("cacheControl",null,!0)),n.push(new le("contentDisposition",null,!0)),n.push(new le("contentEncoding",null,!0)),n.push(new le("contentLanguage",null,!0)),n.push(new le("contentType",null,!0)),n.push(new le("metadata","customMetadata",!0)),he=n}function Y(t,e){function n(){var n=t.bucket,r=t.fullPath,i=new ce(n,r);return e.makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function X(t,e,n){var r={};r.type="file";for(var i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return Y(r,t),r}function $(t,e,n){var r=V(e);return null===r?null:X(t,r,n)}function J(t,e){var n=V(e);if(null===n)return null;if(!R(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var n=t.bucket,r=t.fullPath;return W("/b/"+i(n)+"/o/"+i(r))+K({alt:"media",token:e})})[0]}function Z(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function tt(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[fe])for(var i=0,o=n[fe];i<o.length;i++){var a=o[i],s=a.replace(/\/$/,""),u=t.makeStorageReference(new ce(e,s));r.prefixes.push(u)}if(n[pe])for(var c=0,l=n[pe];c<l.length;c++){var h=l[c],u=t.makeStorageReference(new ce(e,h.name));r.items.push(u)}return r}function et(t,e,n){var r=V(n);return null===r?null:tt(t,e,r)}function nt(t){if(!t)throw i()}function rt(t,e){function n(n,r){var i=$(t,r,e);return nt(null!==i),i}return n}function it(t,e){function n(n,r){var i=et(t,e,r);return nt(null!==i),i}return n}function ot(t,e){function n(n,r){var i=$(t,r,e);return nt(null!==i),J(i,r)}return n}function at(t){function e(e,n){var r;return r=401===e.getStatus()?s():402===e.getStatus()?a(t.bucket):403===e.getStatus()?u(t.path):n,r.serverResponse=n.serverResponse,r}return e}function st(t){function e(e,r){var i=n(e,r);return 404===e.getStatus()&&(i=o(t.path)),i.serverResponse=r.serverResponse,i}var n=at(t);return e}function ut(t,e,n){var r=e.fullServerUrl(),i=W(r),o=t.maxOperationRetryTime,a=new de(i,"GET",rt(t,n),o);return a.errorHandler=st(e),a}function ct(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=e.bucketOnlyServerUrl(),s=W(a),u=t.maxOperationRetryTime,c=new de(s,"GET",it(t,e.bucket),u);return c.urlParams=o,c.errorHandler=at(e),c}function lt(t,e,n){var r=e.fullServerUrl(),i=W(r),o=t.maxOperationRetryTime,a=new de(i,"GET",ot(t,n),o);return a.errorHandler=st(e),a}function ht(t,e,n,r){var i=e.fullServerUrl(),o=W(i),a=Z(n,r),s={"Content-Type":"application/json; charset=utf-8"},u=t.maxOperationRetryTime,c=new de(o,"PATCH",rt(t,r),u);return c.headers=s,c.body=a,c.errorHandler=st(e),c}function ft(t,e){function n(t,e){}var r=e.fullServerUrl(),i=W(r),o=t.maxOperationRetryTime,a=new de(i,"DELETE",n,o);return a.successCodes=[200,204],a.errorHandler=st(e),a}function pt(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function dt(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=pt(null,e)),r}function vt(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=dt(e,r,i),c=Z(u,n),l="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",h="\r\n--"+s+"--",f=ue.getBlob(l,r,h);if(null===f)throw d();var p={name:u.fullPath},v=W(o),y=t.maxUploadRetryTime,g=new de(v,"POST",rt(t,n),y);return g.urlParams=p,g.headers=a,g.body=f.uploadData(),g.errorHandler=at(e),g}function yt(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){nt(!1)}var r=e||["active"];return nt(!!n&&-1!==r.indexOf(n)),n}function gt(t,e,n,r,i){function o(t){yt(t);var e;try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){nt(!1)}return nt(R(e)),e}var a=e.bucketOnlyServerUrl(),s=dt(e,r,i),u={name:s.fullPath},c=W(a),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},h=Z(s,n),f=t.maxUploadRetryTime,p=new de(c,"POST",o,f);return p.urlParams=u,p.headers=l,p.body=h,p.errorHandler=at(e),p}function mt(t,e,n,r){function i(t){var e=yt(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){nt(!1)}n||nt(!1);var i=Number(n);return nt(!isNaN(i)),new ve(i,r.size(),"final"===e)}var o={"X-Goog-Upload-Command":"query"},a=t.maxUploadRetryTime,s=new de(n,"POST",i,a);return s.headers=o,s.errorHandler=at(e),s}function bt(t,e,n,r,i,o,a,s){function u(t,n){var i,a=yt(t,["active","final"]),s=c.current+h,u=r.size();return i="final"===a?rt(e,o)(t,n):null,new ve(s,u,"final"===a,i)}var c=new ve(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw v();var l=c.total-c.current,h=l;i>0&&(h=Math.min(h,i));var f=c.current,p=f+h,y=h===l?"upload, finalize":"upload",g={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":c.current},m=r.slice(f,p);if(null===m)throw d();var b=e.maxUploadRetryTime,_=new de(n,"POST",u,b);return _.headers=g,_.body=m.uploadData(),_.progressCallback=s||null,_.errorHandler=at(t),_}function _t(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}function wt(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new me(t,new ue(e),n)}function Et(t,e,n,r){void 0===n&&(n=te.RAW),t._throwIfRoot("putString");var i=E(n,e),o=Object(Kt.a)({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new me(t,new ue(i.data,!0),o)}function Tt(t){var e={prefixes:[],items:[]};return It(t,e).then(function(){return e})}function It(t,e,n){return Object(Kt.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(Kt.d)(this,function(s){switch(s.label){case 0:return r={pageToken:n},[4,Ot(t,r)];case 1:return i=s.sent(),(o=e.prefixes).push.apply(o,i.prefixes),(a=e.items).push.apply(a,i.items),null==i.nextPageToken?[3,3]:[4,It(t,e,i.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function Ot(t,e){return Object(Kt.b)(this,void 0,void 0,function(){var n,r,i;return Object(Kt.d)(this,function(o){switch(o.label){case 0:return null!=e&&"number"===typeof e.maxResults&&L("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=o.sent(),r=e||{},i=ct(t.storage,t._location,"/",r.pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}})})}function Ct(t){return Object(Kt.b)(this,void 0,void 0,function(){var e,n;return Object(Kt.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=ut(t.storage,t._location,Q()),[2,t.storage.makeRequest(n,e).getPromise()]}})})}function St(t,e){return Object(Kt.b)(this,void 0,void 0,function(){var n,r;return Object(Kt.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=ht(t.storage,t._location,e,Q()),[2,t.storage.makeRequest(r,n).getPromise()]}})})}function kt(t){return Object(Kt.b)(this,void 0,void 0,function(){var e,n;return Object(Kt.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=lt(t.storage,t._location,Q()),[2,t.storage.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw y();return t})]}})})}function Nt(t){return Object(Kt.b)(this,void 0,void 0,function(){var e,n;return Object(Kt.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=ft(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}})})}function At(t,e){var n=B(t._location.path,e),r=new ce(t._location.bucket,n);return new be(t.storage,r)}function Pt(t,e,n){function r(){return 2===h}function i(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];f||(f=!0,e.apply(null,t))}function o(e){c=setTimeout(function(){c=null,t(a,r())},e)}function a(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!f){if(t)return void i.call.apply(i,Object(Kt.g)([null,t],e));if(r()||l)return void i.call.apply(i,Object(Kt.g)([null,t],e));u<64&&(u*=2);var a;1===h?(h=2,a=0):a=1e3*(u+Math.random()),o(a)}}function s(t){p||(p=!0,f||(null!==c?(t||(h=2),clearTimeout(c),o(0)):t||(h=1)))}var u=1,c=null,l=!1,h=0,f=!1,p=!1;return o(0),setTimeout(function(){l=!0,s(!0)},n),s}function xt(t){t(!1)}function Rt(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}function jt(t){var e="undefined"!==typeof Wt.a?Wt.a.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}function Dt(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Lt(t,e,n,r){var i=K(t.urlParams),o=t.url+i,a=Object.assign({},t.headers);return Dt(a,e),Rt(a,n),jt(a),new Oe(o,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}function Mt(t){return/^[A-Za-z]+:\/\//.test(t)}function Ft(t,e){return new be(t,e)}function Ut(t,e){if(t instanceof Se){var n=t;if(null==n._bucket)throw p();var r=new be(n,n._bucket);return null!=e?Ut(r,e):r}if(void 0!==e){if(e.includes(".."))throw g('`path` param cannot contain ".."');return At(t,e)}return t}function Vt(t,e){if(e&&Mt(e)){if(t instanceof Se)return Ft(t,e);throw g("To use ref(service, url), the first argument must be a Storage instance.")}return Ut(t,e)}function qt(t){var e=null===t||void 0===t?void 0:t[Yt];return null==e?null:ce.makeFromBucketSpec(e)}function Bt(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new ke(n,new Se(n,r,new se,e))}var zt,Wt=n(0),Kt=n(1),Ht=n(2),Gt=n(3),Qt="firebasestorage.googleapis.com",Yt="storageBucket",Xt=12e4,$t=6e5,Jt=function(t){function e(n,i){var o=t.call(this,r(n),"Firebase Storage: "+i+" ("+r(n)+")")||this;return o.customData={serverResponse:null},Object.setPrototypeOf(o,e.prototype),o}return Object(Kt.c)(e,t),e.prototype.codeEquals=function(t){return r(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(Ht.c),Zt={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error",UNSUPPORTED_ENVIRONMENT:"unsupported-environment"},te={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ee=function(){function t(t,e){this.data=t,this.contentType=e||null}return t}(),ne=function(){function t(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw _(te.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=k(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)}return t}(),re={STATE_CHANGED:"state_changed"},ie={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},oe={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(zt||(zt={}));var ae=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=zt.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=zt.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=zt.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw w("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw w("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw w("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw w("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),se=function(){function t(){}return t.prototype.createXhrIo=function(){return new ae},t}(),ue=function(){function t(t,e){var n=0,r="";j(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(j(this.data_)){var r=this.data_,i=U(r,e,n);return null===i?null:new t(i)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(D()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(F.apply(null,r))}var i=e.map(function(t){return R(t)?E(te.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var a=new Uint8Array(o),s=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]}),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}(),ce=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(n){return new t(e,"")}if(""===n.path)return n;throw f(e)},t.makeFromUrl=function(e){function n(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}function r(t){t.path_=decodeURIComponent(t.path)}for(var i=null,o=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i"),a={bucket:1,path:3},s=Qt.replace(/[.]/g,"\\."),u=new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),c={bucket:1,path:3},l=new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),f={bucket:1,path:2},p=[{regex:o,indices:a,postModify:n},{regex:u,indices:c,postModify:r},{regex:l,indices:f,postModify:r}],d=0;d<p.length;d++){var v=p[d],y=v.regex.exec(e);if(y){var g=y[v.indices.bucket],m=y[v.indices.path];m||(m=""),i=new t(g,m),v.postModify(i);break}}if(null==i)throw h(e);return i},t}(),le=function(){function t(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||H}return t}(),he=null,fe="prefixes",pe="items",de=function(){function t(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}(),ve=function(){function t(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}return t}(),ye=function(){function t(t,e,n){if(P(t)||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}return t}(),ge=function(){function t(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}return t}(),me=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=Q(),this._resumable=this._shouldDoResumable(this._blob),this._state=ie.RUNNING,this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals(Zt.CANCELED)?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition(ie.ERROR))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals(Zt.CANCELED)?r.completeTransitions_():(r._error=t,r._transition(ie.ERROR))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){this._state===ie.RUNNING&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then(function(n){switch(e._state){case ie.RUNNING:t(n);break;case ie.CANCELING:e._transition(ie.CANCELED);break;case ie.PAUSING:e._transition(ie.PAUSED)}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=gt(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=mt(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new ve(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var o;try{o=bt(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(e){return t._error=e,void t._transition(ie.ERROR)}var a=t._ref.storage.makeRequest(o,i);t._request=a,a.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition(ie.SUCCESS)):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=ut(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition(ie.SUCCESS)},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=vt(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition(ie.SUCCESS)},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case ie.CANCELING:case ie.PAUSING:this._state=t,void 0!==this._request&&this._request.cancel();break;case ie.RUNNING:var e=this._state===ie.PAUSED;this._state=t,e&&(this._notifyObservers(),this._start());break;case ie.PAUSED:this._state=t,this._notifyObservers();break;case ie.CANCELED:this._error=l(),this._state=t,this._notifyObservers();break;case ie.ERROR:case ie.SUCCESS:this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case ie.PAUSING:this._transition(ie.PAUSED);break;case ie.CANCELING:this._transition(ie.CANCELED);break;case ie.RUNNING:this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=N(this._state);return new ge(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new ye(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(N(this._state)){case oe.SUCCESS:_t(this._resolve.bind(null,this.snapshot))();break;case oe.CANCELED:case oe.ERROR:_t(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(N(this._state)){case oe.RUNNING:case oe.PAUSED:t.next&&_t(t.next.bind(t,this.snapshot))();break;case oe.SUCCESS:t.complete&&_t(t.complete.bind(t))();break;case oe.CANCELED:case oe.ERROR:t.error&&_t(t.error.bind(t,this._error))();break;default:t.error&&_t(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t=this._state===ie.PAUSED||this._state===ie.PAUSING;return t&&this._transition(ie.RUNNING),t},t.prototype.pause=function(){var t=this._state===ie.RUNNING;return t&&this._transition(ie.PAUSING),t},t.prototype.cancel=function(){var t=this._state===ie.RUNNING||this._state===ie.PAUSING;return t&&this._transition(ie.CANCELING),t},t}(),be=function(){function t(t,e){this._service=t,this._location=e instanceof ce?e:ce.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new ce(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return z(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=q(this._location.path);if(null===e)return null;var n=new ce(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw b(t)},t}(),_e=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),we=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new _e(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new _e(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"===typeof e?function(t){return e(new _e(t,i,i._ref))}:{next:e.next?function(t){return e.next(new _e(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),Ee=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new Te(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new Te(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Te=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(At(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new we(wt(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=te.RAW),this._throwIfRoot("putString"),new we(Et(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t=this;return Tt(this._delegate).then(function(e){return new Ee(e,t.storage)})},t.prototype.list=function(t){var e=this;return Ot(this._delegate,t).then(function(t){return new Ee(t,e.storage)})},t.prototype.getMetadata=function(){return Ct(this._delegate)},t.prototype.updateMetadata=function(t){return St(this._delegate,t)},t.prototype.getDownloadURL=function(){return kt(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),Nt(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw b(t)},t}(),Ie=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),Oe=function(){function t(t,e,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){function t(t,e){function r(t){var e=t.loaded,r=t.lengthComputable?t.total:-1;null!==n.progressCallback_&&n.progressCallback_(e,r)}if(e)return void t(!1,new Ce(!1,null,!0));var i=n.pool_.createXhrIo();n.pendingXhr_=i,null!==n.progressCallback_&&i.addUploadProgressListener(r),i.send(n.url_,n.method_,n.body_,n.headers_).then(function(e){null!==n.progressCallback_&&e.removeUploadProgressListener(r),n.pendingXhr_=null,e=e;var i=e.getErrorCode()===zt.NO_ERROR,o=e.getStatus();if(!i||n.isRetryStatusCode_(o)){var a=e.getErrorCode()===zt.ABORT;return void t(!1,new Ce(!1,null,a))}var s=-1!==n.successCodes_.indexOf(o);t(!0,new Ce(s,e))})}function e(t,e){var r=n.resolve_,o=n.reject_,a=e.xhr;if(e.wasSuccessCode)try{var s=n.callback_(a,a.getResponseText());A(s)?r(s):r()}catch(t){o(t)}else if(null!==a){var u=i();u.serverResponse=a.getResponseText(),o(n.errorCallback_?n.errorCallback_(a,u):u)}else if(e.canceled){var u=n.appDelete_?m():l();o(u)}else{var u=c();o(u)}}var n=this;this.canceled_?e(!1,new Ce(!1,null,!0)):this.backoffId_=Pt(t,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&xt(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=[408,429],r=-1!==n.indexOf(t),i=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||i},t}(),Ce=function(){function t(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}return t}(),Se=function(){function t(t,e,n,r){this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Xt,this._maxUploadRetryTime=$t,this._requests=new Set,this._bucket=null!=r?ce.makeFromBucketSpec(r):qt(this.app.options)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){L("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){L("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return Object(Kt.b)(this,void 0,void 0,function(){var t,e;return Object(Kt.d)(this,function(n){switch(n.label){case 0:return t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new be(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new Ie(m());var r=Lt(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}(),ke=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(Mt(t))throw g("ref() expected a child path but got a URL, use refFromURL instead.");return new Te(Vt(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!Mt(t))throw g("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ce.makeFromUrl(t)}catch(t){throw g("refFromUrl() expected a valid full URL but got an invalid one.")}return new Te(Vt(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}(),Ne="@firebase/storage",Ae="0.4.2",Pe="storage";!function(t){var e={TaskState:oe,TaskEvent:re,StringFormat:te,Storage:Se,Reference:Te};t.INTERNAL.registerComponent(new Gt.a(Pe,Bt,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(Ne,Ae)}(Wt.a)},function(t,e,n){"use strict";function r(t){pt=t}function i(t,e){var n=t.length-e.length;if(n<0||n>1)throw lt.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}function o(){var t=mt.getInstance().installationsService.getId();return t.then(function(t){vt=t}),t}function a(){return vt}function s(){var t=mt.getInstance().installationsService.getToken();return t.then(function(t){}),t}function u(){var t=gt.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function c(){switch(gt.getInstance().document.visibilityState){case"visible":return yt.VISIBLE;case"hidden":return yt.HIDDEN;default:return yt.UNKNOWN}}function l(){var t=gt.getInstance().navigator,e=t.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function h(t){return!(0===t.length||t.length>Tt)&&(!wt.some(function(e){return t.startsWith(e)})&&!!t.match(Et))}function f(t){return 0!==t.length&&t.length<=It}function p(t){var e=d();return e?(g(e),Promise.resolve()):y(t).then(g).then(function(t){return v(t)},function(){})}function d(){var t=gt.getInstance().localStorage;if(t){var e=t.getItem(ut);if(e&&m(e)){var n=t.getItem(st);if(n)try{return JSON.parse(n)}catch(t){return}}}}function v(t){var e=gt.getInstance().localStorage;t&&e&&(e.setItem(st,JSON.stringify(t)),e.setItem(ut,String(Date.now()+60*mt.getInstance().configTimeToLive*60*1e3)))}function y(t){return s().then(function(e){var n=mt.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+mt.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:St+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:mt.getInstance().getAppId(),app_version:nt,sdk_version:Ot})});return fetch(i).then(function(t){if(t.ok)return t.json();throw lt.create("RC response not ok")})}).catch(function(){ht.info(kt)})}function g(t){if(!t)return t;var e=mt.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0!==n.fpr_enabled?"true"===String(n.fpr_enabled):Ct.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=b(e.tracesSamplingRate),e.logNetworkAfterSampling=b(e.networkRequestsSamplingRate),t}function m(t){return Number(t)>Date.now()}function b(t){return Math.random()<=t}function _(){return Nt=2,bt=bt||E()}function w(){return 3===Nt}function E(){return T().then(function(){return o()}).then(function(t){return p(t)}).then(function(){return I()},function(){return I()})}function T(){var t=gt.getInstance().document;return new Promise(function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}function I(){Nt=3}function O(){Dt||(C(Pt),Dt=!0)}function C(t){setTimeout(function(){if(0!==Rt)return jt.length?void S():C(At)},t)}function S(){var t=Object(X.g)(jt);jt=[];var e=t.map(function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}});k({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:mt.getInstance().logSource,log_event:e},t).catch(function(){jt=Object(X.g)(t,jt),Rt--,ht.info("Tries left: "+Rt+"."),C(At)})}function k(t,e){return N(t).then(function(t){return t.ok||ht.info("Call to Firebase backend failed."),t.json()}).then(function(t){var n=Number(t.nextRequestWaitMillis),r=At;isNaN(n)||(r=Math.max(n,r));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(jt=Object(X.g)(e,jt),ht.info("Retry transport request later.")),Rt=xt,C(r)})}function N(t){var e=mt.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}function A(t){if(!t.eventTime||!t.message)throw lt.create("invalid cc log");jt=Object(X.g)(jt,[t])}function P(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];A({message:t.apply(void 0,e),eventTime:Date.now()})}}function x(t,e){_t||(_t=P(L)),_t(t,e)}function R(t){var e=mt.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&gt.getInstance().requiredApisAvailable()&&(t.isAuto&&c()!==yt.VISIBLE||(w()?j(t):_().then(function(){return j(t)},function(){return j(t)})))}function j(t){if(a()){var e=mt.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout(function(){return x(t,1)},0)}}function D(t){var e=mt.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout(function(){return x(t,0)},0)}}function L(t,e){return 0===e?M(t):F(t)}function M(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:U(),network_request_metric:e};return JSON.stringify(n)}function F(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:U(),trace_metric:e};return JSON.stringify(r)}function U(){return{google_app_id:mt.getInstance().getAppId(),app_instance_id:a(),web_app_info:{sdk_version:nt,page_url:gt.getInstance().getUrl(),service_worker_status:u(),visibility_state:c(),effective_connection_type:l()},application_process_state:0}}function V(t,e){return!(0===t.length||t.length>Lt)&&(e&&e.startsWith(at)&&Ft.indexOf(t)>-1||!t.startsWith(Mt))}function q(t){var e=Math.floor(t);return e<t&&ht.info("Metric value should be an Integer, setting the value as : "+e+"."),e}function B(t){var e=t;if(e&&void 0!==e.responseStart){var n=gt.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));D({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function z(){a()&&(setTimeout(function(){return K()},0),setTimeout(function(){return W()},0),setTimeout(function(){return H()},0))}function W(){for(var t=gt.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){B(r[n])}t.setupObserver("resource",B)}function K(){var t=gt.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){Ut.createOobTrace(e,n),r=void 0},Vt);t.onFirstInputDelay(function(t){r&&(clearTimeout(r),Ut.createOobTrace(e,n,t))})}else Ut.createOobTrace(e,n)}function H(){for(var t=gt.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){G(r[n])}t.setupObserver("measure",G)}function G(t){var e=t.name;e.substring(0,ot.length)!==ot&&Ut.createUserTimingTrace(e)}var Q,Y=n(0),X=(n(6),n(1)),$=n(2),J=n(4),Z=n(3),tt="@firebase/performance",et="0.4.4",nt=et,rt="FB-PERF-TRACE-START",it="FB-PERF-TRACE-STOP",ot="FB-PERF-TRACE-MEASURE",at="_wt_",st="@firebase/performance/config",ut="@firebase/performance/configexpire",ct=(Q={},Q["trace started"]="Trace {$traceName} was started before.",Q["trace stopped"]="Trace {$traceName} is not running.",Q["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Q["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Q["no window"]="Window is not available.",Q["no app id"]="App id is not available.",Q["no project id"]="Project id is not available.",Q["no api key"]="Api key is not available.",Q["invalid cc log"]="Attempted to queue invalid cc event",Q["FB not default"]="Performance can only start when Firebase app instance is the default one.",Q["RC response not ok"]="RC response is not ok",Q["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Q["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Q["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Q["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Q),lt=new $.b("performance","Performance",ct),ht=new J.b("Performance");ht.logLevel=J.a.INFO;var ft,pt,dt,vt,yt,gt=function(){function t(t){if(this.window=t,!t)throw lt.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object($.w)()||(ht.info("IndexedDB is not supported by current browswer"),!1):(ht.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){if(this.PerformanceObserver){new this.PerformanceObserver(function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}}).observe({entryTypes:[t]})}},t.getInstance=function(){return void 0===ft&&(ft=new t(pt)),ft},t}(),mt=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=i("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=i("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw lt.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw lt.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw lt.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===dt&&(dt=new t),dt},t}();!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(yt||(yt={}));var bt,_t,wt=["firebase_","google_","ga_"],Et=new RegExp("^[a-zA-Z]\\w*$"),Tt=40,It=100,Ot="0.0.1",Ct={loggingEnabled:!0},St="FIREBASE_INSTALLATIONS_AUTH",kt="Could not fetch config, will use default configs",Nt=1,At=1e4,Pt=5500,xt=3,Rt=xt,jt=[],Dt=!1,Lt=100,Mt="_",Ft=["_fp","_fcp","_fid"],Ut=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=gt.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=rt+"-"+this.randomId+"-"+this.name,this.traceStopMark=it+"-"+this.randomId+"-"+this.name,this.traceMeasure=n||ot+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw lt.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw lt.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),R(this)},t.prototype.record=function(t,e,n){if(t<=0)throw lt.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw lt.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=Object(X.a)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}R(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(!V(t,this.name))throw lt.create("invalid custom metric name",{customMetricName:t});this.counters[t]=q(e)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n=h(t),r=f(e);if(n&&r)return void(this.customAttributes[t]=e);if(!n)throw lt.create("invalid attribute name",{attributeName:t});if(!r)throw lt.create("invalid attribute value",{attributeValue:e})},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return Object(X.a)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=gt.getInstance().getUrl();if(i){var o=new t(at+i,!0),a=Math.floor(1e3*gt.getInstance().getTimeOrigin());o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd)));if(n){var s=n.find(function(t){return"first-paint"===t.name});s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find(function(t){return"first-contentful-paint"===t.name});u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}R(o)}},t.createUserTimingTrace=function(e){R(new t(e,!1,e))},t}(),Vt=5e3,qt=function(){function t(t){this.app=t,gt.getInstance().requiredApisAvailable()&&Object($.N)().then(function(t){t&&(O(),_().then(z,z))}).catch(function(t){ht.info("Environment doesn't support IndexedDB: "+t)})}return t.prototype.trace=function(t){return new Ut(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return mt.getInstance().instrumentationEnabled},set:function(t){mt.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return mt.getInstance().dataCollectionEnabled},set:function(t){mt.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}(),Bt="[DEFAULT]";!function(t){var e=function(t,e){if(t.name!==Bt)throw lt.create("FB not default");if("undefined"===typeof window)throw lt.create("no window");return r(window),mt.getInstance().firebaseAppInstance=t,mt.getInstance().installationsService=e,new qt(t)};t.INTERNAL.registerComponent(new Z.a("performance",function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();return e(n,r)},"PUBLIC")),t.registerVersion(tt,et)}(Y.a)},function(t,e,n){"use strict";function r(t,e,n,r,i){return Object(k.b)(this,void 0,void 0,function(){var o,a;return Object(k.d)(this,function(s){switch(s.label){case 0:return i&&i.global?(t(S.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=s.sent(),a=Object(k.a)(Object(k.a)({},r),{send_to:o}),t(S.EVENT,n,a),s.label=3;case 3:return[2]}})})}function i(t,e,n,r){return Object(k.b)(this,void 0,void 0,function(){var i;return Object(k.d)(this,function(o){switch(o.label){case 0:return r&&r.global?(t(S.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(S.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})}function o(t,e,n,r){return Object(k.b)(this,void 0,void 0,function(){var i;return Object(k.d)(this,function(o){switch(o.label){case 0:return r&&r.global?(t(S.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(S.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})}function a(t,e,n,r){return Object(k.b)(this,void 0,void 0,function(){var i,o,a,s,u;return Object(k.d)(this,function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return t(S.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(S.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}})})}function s(t,e){return Object(k.b)(this,void 0,void 0,function(){var n;return Object(k.d)(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})}function u(t){var e=document.createElement("script");e.src=M+"?l="+t,e.async=!0,document.head.appendChild(e)}function c(t){var e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function l(t,e,n,r,i,o){return Object(k.b)(this,void 0,void 0,function(){var a,s,u,c;return Object(k.d)(this,function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),u=s.find(function(t){return t.measurementId===i}),u?[4,e[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),B.error(c),[3,8];case 8:return t(S.CONFIG,i,o),[2]}})})}function h(t,e,n,r,i){return Object(k.b)(this,void 0,void 0,function(){var o,a,s,u,c,l,h,f,p;return Object(k.d)(this,function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),(o=[],i&&i.send_to)?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=d.sent(),u=function(t){var n=s.find(function(e){return e.measurementId===t}),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(h=l[c],"break"!==(f=u(h)));c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return d.sent(),t(S.EVENT,r,i||{}),[3,5];case 4:return p=d.sent(),B.error(p),[3,5];case 5:return[2]}})})}function f(t,e,n,r){function i(i,o,a){return Object(k.b)(this,void 0,void 0,function(){var s;return Object(k.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==S.EVENT?[3,2]:[4,h(t,e,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==S.CONFIG?[3,4]:[4,l(t,e,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:t(S.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),B.error(s),[3,7];case 7:return[2]}})})}return i}function p(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=f(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function d(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(M))return r}return null}function v(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function y(t){var e;return Object(k.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c;return Object(k.d)(this,function(l){switch(l.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:v(r)},o=L.replace("{app-id}",n),[4,fetch(o,i)];case 1:if(a=l.sent(),200===a.status||304===a.status)return[3,6];s="",l.label=2;case 2:return l.trys.push([2,4,,5]),[4,a.json()];case 3:return u=l.sent(),(null===(e=u.error)||void 0===e?void 0:e.message)&&(s=u.error.message),[3,5];case 4:return c=l.sent(),[3,5];case 5:throw W.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}})})}function g(t,e,n){return void 0===e&&(e=Q),Object(k.b)(this,void 0,void 0,function(){var r,i,o,a,s,u,c=this;return Object(k.d)(this,function(l){if(r=t.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw W.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw W.create("no-api-key")}return s=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new Y,setTimeout(function(){return Object(k.b)(c,void 0,void 0,function(){return Object(k.d)(this,function(t){return u.abort(),[2]})})},void 0!==n?n:D),[2,m({appId:i,apiKey:o,measurementId:a},s,u,e)]})})}function m(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=Q),Object(k.b)(this,void 0,void 0,function(){var e,a,s,u,c,l,h;return Object(k.d)(this,function(f){switch(f.label){case 0:e=t.appId,a=t.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,b(n,i)];case 2:return f.sent(),[3,4];case 3:if(s=f.sent(),a)return B.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:e,measurementId:a}];throw s;case 4:return f.trys.push([4,6,,7]),[4,y(t)];case 5:return u=f.sent(),r.deleteThrottleMetadata(e),[2,u];case 6:if(c=f.sent(),!_(c)){if(r.deleteThrottleMetadata(e),a)return B.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?Object(P.j)(o,r.intervalMillis,K):Object(P.j)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(e,h),B.debug("Calling attemptFetch again in "+l+" millis"),[2,m(t,h,n,r)];case 7:return[2]}})})}function b(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(W.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function _(t){if(!(t instanceof P.c)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}function w(){return Object(k.b)(this,void 0,void 0,function(){var t;return Object(k.d)(this,function(e){switch(e.label){case 0:return Object(P.w)()?[3,1]:(B.warn(W.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object(P.N)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),B.warn(W.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}function E(t,e,n,r,i){return Object(k.b)(this,void 0,void 0,function(){var o,a,s,u,c,l,h;return Object(k.d)(this,function(f){switch(f.label){case 0:return o=g(t),o.then(function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&B.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(t){return B.error(t)}),e.push(o),a=w().then(function(t){return t?r.getId():void 0}),[4,Promise.all([o,a])];case 1:return s=f.sent(),u=s[0],c=s[1],i("js",new Date),h={},h[j]="firebase",h.update=!0,l=h,null!=c&&(l[R]=c),i(S.CONFIG,u.measurementId,l),[2,u.measurementId]}})})}function T(t){if(et)throw W.create("already-initialized");t.dataLayerName&&(Z=t.dataLayerName),t.gtagName&&(tt=t.gtagName)}function I(){var t=[];if(Object(P.s)()&&t.push("This is a browser extension environment."),Object(P.e)()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(t,e){return"("+(e+1)+") "+t}).join(" "),n=W.create("invalid-analytics-context",{errorInfo:e});B.warn(n.message)}}function O(t,e){I();var n=t.options.appId;if(!n)throw W.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw W.create("no-api-key");B.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=X[n])throw W.create("already-exists",{id:n});if(!et){d()||u(Z),c(Z);var l=p(X,$,J,Z,tt),h=l.wrappedGtag,f=l.gtagCore;q=h,V=f,et=!0}return X[n]=E(t,$,J,e,V),{app:t,logEvent:function(t,e,i){r(q,X[n],t,e,i).catch(function(t){return B.error(t)})},setCurrentScreen:function(t,e){i(q,X[n],t,e).catch(function(t){return B.error(t)})},setUserId:function(t,e){o(q,X[n],t,e).catch(function(t){return B.error(t)})},setUserProperties:function(t,e){a(q,X[n],t,e).catch(function(t){return B.error(t)})},setAnalyticsCollectionEnabled:function(t){s(X[n],t).catch(function(t){return B.error(t)})},INTERNAL:{delete:function(){return delete X[n],Promise.resolve()}}}}function C(){return Object(k.b)(this,void 0,void 0,function(){var t,e;return Object(k.d)(this,function(n){switch(n.label){case 0:if(Object(P.s)())return[2,!1];if(!Object(P.e)())return[2,!1];if(!Object(P.w)())return[2,!1];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Object(P.N)()];case 2:return t=n.sent(),[2,t];case 3:return e=n.sent(),[2,!1];case 4:return[2]}})})}var S,k=n(1),N=n(0),A=(n(6),n(4)),P=n(2),x=n(3),R="firebase_id",j="origin",D=6e4,L="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",M="https://www.googletagmanager.com/gtag/js";!function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(S||(S={}));var F;!function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(F||(F={}));var U,V,q,B=new A.b("@firebase/analytics"),z=(U={},U["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",U["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",U["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",U["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",U["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",U["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",U["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",U["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',U["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',U),W=new P.b("analytics","Analytics",z),K=30,H=1e3,G=function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=H),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}(),Q=new G,Y=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),X={},$=[],J={},Z="dataLayer",tt="gtag",et=!1,nt="@firebase/analytics",rt="0.6.2",it="analytics";!function(t){function e(t){try{return{logEvent:t.getProvider(it).getImmediate().logEvent}}catch(t){throw W.create("interop-component-reg-failed",{reason:t})}}t.INTERNAL.registerComponent(new x.a(it,function(t){return O(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:T,EventName:F,isSupported:C})),t.INTERNAL.registerComponent(new x.a("analytics-internal",e,"PRIVATE")),t.registerVersion(nt,rt)}(N.a)},function(t,e,n){"use strict";function r(t,e){return t instanceof p.c&&-1!==t.code.indexOf(e)}function i(t){return void 0===t&&(t=navigator),t.languages&&t.languages[0]||t.language}function o(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(Object(f.a)(Object(f.a)({},t),e))}function a(t,e){var n=t.target.error||void 0;return m.create(e,{originalErrorMessage:n&&n.message})}function s(){return new Promise(function(t,e){var n=indexedDB.open(k,N);n.onerror=function(t){e(a(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(S,{keyPath:"compositeKey"})}}})}function u(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(m.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function c(t){if(!(t instanceof p.c)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}var l,h=n(0),f=(n(6),n(1)),p=n(2),d=n(4),v=n(3),y=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return Object(f.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(f.d)(this,function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=a.sent(),(n=e[0],r=e[1],r&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n))?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}})})},t}(),g=(l={},l["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",l["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",l["registration-api-key"]="Undefined API key. Check Firebase app initialization.",l["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",l["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",l["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",l["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",l["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",l["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",l["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',l["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',l["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",l["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",l),m=new p.b("remoteconfig","Remote Config",g),b=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return Object(f.b)(this,void 0,void 0,function(){var e,n,r,o,a,s,u,c,l,h,p,d,v,y,g,b,_,w,E;return Object(f.d)(this,function(f){switch(f.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=f.sent(),n=e[0],r=e[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=o+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},u={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:i()},c={method:"POST",headers:s,body:JSON.stringify(u)},l=fetch(a,c),h=new Promise(function(e,n){t.signal.addEventListener(function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)})}),f.label=2;case 2:return f.trys.push([2,5,,6]),[4,Promise.race([l,h])];case 3:return f.sent(),[4,l];case 4:return p=f.sent(),[3,6];case 5:throw d=f.sent(),v="fetch-client-network","AbortError"===d.name&&(v="fetch-timeout"),m.create(v,{originalErrorMessage:d.message});case 6:if(y=p.status,g=p.headers.get("ETag")||void 0,200!==p.status)return[3,11];w=void 0,f.label=7;case 7:return f.trys.push([7,9,,10]),[4,p.json()];case 8:return w=f.sent(),[3,10];case 9:throw E=f.sent(),m.create("fetch-client-parse",{originalErrorMessage:E.message});case 10:b=w.entries,_=w.state,f.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===_?y=500:"NO_CHANGE"===_?y=304:"NO_TEMPLATE"!==_&&"EMPTY_CONFIG"!==_||(b={}),304!==y&&200!==y)throw m.create("fetch-status",{httpStatus:y});return[2,{status:y,eTag:g,config:b}]}})})},t}(),_=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),w="",E=["1","true","t","yes","y","on"],T=function(){function t(t,e){void 0===e&&(e=w),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&E.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),I=6e4,O=432e5,C=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:I,minimumFetchIntervalMillis:O},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=d.a.DEBUG;break;case"silent":this._logger.logLevel=d.a.SILENT;break;default:this._logger.logLevel=d.a.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return Object(f.b)(this,void 0,void 0,function(){var t,e,n;return Object(f.d)(this,function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),e=t[0],n=t[1],e&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return Object(f.b)(this,void 0,void 0,function(){var t,e,n,i=this;return Object(f.d)(this,function(o){switch(o.label){case 0:t=new _,setTimeout(function(){return Object(f.b)(i,void 0,void 0,function(){return Object(f.d)(this,function(e){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return o.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return o.sent(),[3,6];case 4:return e=o.sent(),n=r(e,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw o.sent(),e;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return Object(f.b)(this,void 0,void 0,function(){return Object(f.d)(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var t=this;return o(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(e,n){return e[n]=t.getValue(n),e},{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new T("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new T("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new T("static"))},t}(),S="app_namespace_store",k="firebase_remote_config",N=1,A=function(){function t(t,e,n,r){void 0===r&&(r=s()),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return Object(f.b)(this,void 0,void 0,function(){var e,n=this;return Object(f.d)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise(function(r,i){var o=e.transaction([S],"readonly"),s=o.objectStore(S),u=n.createCompositeKey(t);try{var c=s.get(u);c.onerror=function(t){i(a(t,"storage-get"))},c.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(t){i(m.create("storage-get",{originalErrorMessage:t&&t.message}))}})]}})})},t.prototype.set=function(t,e){return Object(f.b)(this,void 0,void 0,function(){var n,r=this;return Object(f.d)(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(i,o){var s=n.transaction([S],"readwrite"),u=s.objectStore(S),c=r.createCompositeKey(t);try{var l=u.put({compositeKey:c,value:e});l.onerror=function(t){o(a(t,"storage-set"))},l.onsuccess=function(){i()}}catch(t){o(m.create("storage-set",{originalErrorMessage:t&&t.message}))}})]}})})},t.prototype.delete=function(t){return Object(f.b)(this,void 0,void 0,function(){var e,n=this;return Object(f.d)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise(function(r,i){var o=e.transaction([S],"readwrite"),s=o.objectStore(S),u=n.createCompositeKey(t);try{var c=s.delete(u);c.onerror=function(t){i(a(t,"storage-delete"))},c.onsuccess=function(){r()}}catch(t){i(m.create("storage-delete",{originalErrorMessage:t&&t.message}))}})]}})})},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),P=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return Object(f.b)(this,void 0,void 0,function(){var t,e,n,r,i,o;return Object(f.d)(this,function(a){switch(a.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return r=a.sent(),r&&(this.lastFetchStatus=r),[4,e];case 2:return i=a.sent(),i&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return o=a.sent(),o&&(this.activeConfig=o),[2]}})})},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}(),x=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return Object(f.b)(this,void 0,void 0,function(){var e;return Object(f.d)(this,function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}})})},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return Object(f.b)(this,void 0,void 0,function(){var e,i,o;return Object(f.d)(this,function(a){switch(a.label){case 0:return[4,u(t.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,e];case 5:if(i=a.sent(),!c(i))throw i;return o={throttleEndTimeMillis:Date.now()+Object(p.j)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}})})},t}(),R="@firebase/remote-config",j="0.1.30";!function(t){function e(e,n){var r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"===typeof window)throw m.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw m.create("registration-project-id");if(!s)throw m.create("registration-api-key");if(!u)throw m.create("registration-app-id");n=n||"firebase";var c=new A(u,r.name,n),l=new P(c),h=new d.b(R);h.logLevel=d.a.ERROR;var f=new b(i,t.SDK_VERSION,n,a,s,u),p=new x(f,c),v=new y(p,c,l,h),g=new C(r,v,l,c,h);return g.ensureInitialized(),g}t.INTERNAL.registerComponent(new v.a("remoteConfig",e,"PUBLIC").setMultipleInstances(!0)),t.registerVersion(R,j)}(h.a)},function(t,e,n){"use strict";function r(){if("serviceWorker"in navigator){if(new URL("/push-notification",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="/push-notification/service-worker.js";a?(o(t),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):i(t)})}}function i(t){navigator.serviceWorker.register(t).then(function(t){t.onupdatefound=function(){var e=t.installing;e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(t){console.error("Error during service worker registration:",t)})}function o(t){fetch(t).then(function(e){404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(t){t.unregister().then(function(){window.location.reload()})}):i(t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}e.a=r;var a=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))}]);
//# sourceMappingURL=main.7f8207ab.js.map